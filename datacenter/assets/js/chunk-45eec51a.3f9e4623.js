(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45eec51a"],{"0b7d":function(t,n,e){},"0e44":function(t,n,e){var i=e("88dd"),r=e("a013"),o=function(t,n){if(r(t),!i(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{i=e("01f5")(Function.call,e("acb9").f(Object.prototype,"__proto__").set,2),i(t,[]),n=!(t instanceof Array)}catch(r){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:o}},"0f84":function(t,n,e){},1124:function(t,n,e){t.exports=e.p+"assets/img/detail7.50d8d9a6.png"},"17b1":function(t,n,e){},1952:function(t,n,e){},"1bf6":function(t,n,e){},"23fb":function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"2d43":function(t,n,e){var i=e("01f5"),r=e("6462"),o=e("db4b"),s=e("b146"),a=e("5824");t.exports=function(t,n){var e=1==t,l=2==t,u=3==t,c=4==t,h=6==t,d=5==t||h,f=n||a;return function(n,a,p){for(var g,v,m=o(n),b=r(m),y=i(a,p,3),_=s(b.length),x=0,P=e?f(n,_):l?f(n,0):void 0;_>x;x++)if((d||x in b)&&(g=b[x],v=y(g,x,m),t))if(e)P[x]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:P.push(g)}else if(c)return!1;return h?-1:u||c?c:P}}},"34a3":function(t,n,e){"use strict";var i=e("a013"),r=e("db4b"),o=e("b146"),s=e("c481"),a=e("b0f4"),l=e("35dd"),u=Math.max,c=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};e("629c")("replace",2,(function(t,n,e,g){return[function(i,r){var o=t(this),s=void 0==i?void 0:i[n];return void 0!==s?s.call(i,o,r):e.call(String(o),i,r)},function(t,n){var r=g(e,t,this,n);if(r.done)return r.value;var h=i(t),d=String(this),f="function"===typeof n;f||(n=String(n));var m=h.global;if(m){var b=h.unicode;h.lastIndex=0}var y=[];while(1){var _=l(h,d);if(null===_)break;if(y.push(_),!m)break;var x=String(_[0]);""===x&&(h.lastIndex=a(d,o(h.lastIndex),b))}for(var P="",C=0,w=0;w<y.length;w++){_=y[w];for(var j=String(_[0]),E=u(c(s(_.index),d.length),0),S=[],D=1;D<_.length;D++)S.push(p(_[D]));var I=_.groups;if(f){var k=[j].concat(S,E,d);void 0!==I&&k.push(I);var A=String(n.apply(void 0,k))}else A=v(j,d,E,S,I,n);E>=C&&(P+=d.slice(C,E)+A,C=E+j.length)}return P+d.slice(C)}];function v(t,n,i,o,s,a){var l=i+t.length,u=o.length,c=f;return void 0!==s&&(s=r(s),c=d),e.call(a,c,(function(e,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,i);case"'":return n.slice(l);case"<":a=s[r.slice(1,-1)];break;default:var c=+r;if(0===c)return e;if(c>u){var d=h(c/10);return 0===d?e:d<=u?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):e}a=o[c-1]}return void 0===a?"":a}))}}))},"391c":function(t,n,e){(function(t,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s="4.17.15",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",f=1,p=2,g=4,v=1,m=2,b=1,y=2,_=4,x=8,P=16,C=32,w=64,j=128,E=256,S=512,D=30,I="...",k=800,A=16,T=1,O=2,M=3,L=1/0,F=9007199254740991,N=17976931348623157e292,R=NaN,z=4294967295,$=z-1,B=z>>>1,G=[["ary",j],["bind",b],["bindKey",y],["curry",x],["curryRight",P],["flip",S],["partial",C],["partialRight",w],["rearg",E]],U="[object Arguments]",V="[object Array]",W="[object AsyncFunction]",X="[object Boolean]",H="[object Date]",Y="[object DOMException]",q="[object Error]",J="[object Function]",K="[object GeneratorFunction]",Z="[object Map]",Q="[object Number]",tt="[object Null]",nt="[object Object]",et="[object Promise]",it="[object Proxy]",rt="[object RegExp]",ot="[object Set]",st="[object String]",at="[object Symbol]",lt="[object Undefined]",ut="[object WeakMap]",ct="[object WeakSet]",ht="[object ArrayBuffer]",dt="[object DataView]",ft="[object Float32Array]",pt="[object Float64Array]",gt="[object Int8Array]",vt="[object Int16Array]",mt="[object Int32Array]",bt="[object Uint8Array]",yt="[object Uint8ClampedArray]",_t="[object Uint16Array]",xt="[object Uint32Array]",Pt=/\b__p \+= '';/g,Ct=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,St=RegExp(jt.source),Dt=RegExp(Et.source),It=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,Ft=RegExp(Lt.source),Nt=/^\s+|\s+$/g,Rt=/^\s+/,zt=/\s+$/,$t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bt=/\{\n\/\* \[wrapped with (.+)\] \*/,Gt=/,? & /,Ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Jt=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,nn="\\ud800-\\udfff",en="\\u0300-\\u036f",rn="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",sn=en+rn+on,an="\\u2700-\\u27bf",ln="a-z\\xdf-\\xf6\\xf8-\\xff",un="\\xac\\xb1\\xd7\\xf7",cn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hn="\\u2000-\\u206f",dn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fn="A-Z\\xc0-\\xd6\\xd8-\\xde",pn="\\ufe0e\\ufe0f",gn=un+cn+hn+dn,vn="['’]",mn="["+nn+"]",bn="["+gn+"]",yn="["+sn+"]",_n="\\d+",xn="["+an+"]",Pn="["+ln+"]",Cn="[^"+nn+gn+_n+an+ln+fn+"]",wn="\\ud83c[\\udffb-\\udfff]",jn="(?:"+yn+"|"+wn+")",En="[^"+nn+"]",Sn="(?:\\ud83c[\\udde6-\\uddff]){2}",Dn="[\\ud800-\\udbff][\\udc00-\\udfff]",In="["+fn+"]",kn="\\u200d",An="(?:"+Pn+"|"+Cn+")",Tn="(?:"+In+"|"+Cn+")",On="(?:"+vn+"(?:d|ll|m|re|s|t|ve))?",Mn="(?:"+vn+"(?:D|LL|M|RE|S|T|VE))?",Ln=jn+"?",Fn="["+pn+"]?",Nn="(?:"+kn+"(?:"+[En,Sn,Dn].join("|")+")"+Fn+Ln+")*",Rn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$n=Fn+Ln+Nn,Bn="(?:"+[xn,Sn,Dn].join("|")+")"+$n,Gn="(?:"+[En+yn+"?",yn,Sn,Dn,mn].join("|")+")",Un=RegExp(vn,"g"),Vn=RegExp(yn,"g"),Wn=RegExp(wn+"(?="+wn+")|"+Gn+$n,"g"),Xn=RegExp([In+"?"+Pn+"+"+On+"(?="+[bn,In,"$"].join("|")+")",Tn+"+"+Mn+"(?="+[bn,In+An,"$"].join("|")+")",In+"?"+An+"+"+On,In+"+"+Mn,zn,Rn,_n,Bn].join("|"),"g"),Hn=RegExp("["+kn+nn+sn+pn+"]"),Yn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jn=-1,Kn={};Kn[ft]=Kn[pt]=Kn[gt]=Kn[vt]=Kn[mt]=Kn[bt]=Kn[yt]=Kn[_t]=Kn[xt]=!0,Kn[U]=Kn[V]=Kn[ht]=Kn[X]=Kn[dt]=Kn[H]=Kn[q]=Kn[J]=Kn[Z]=Kn[Q]=Kn[nt]=Kn[rt]=Kn[ot]=Kn[st]=Kn[ut]=!1;var Zn={};Zn[U]=Zn[V]=Zn[ht]=Zn[dt]=Zn[X]=Zn[H]=Zn[ft]=Zn[pt]=Zn[gt]=Zn[vt]=Zn[mt]=Zn[Z]=Zn[Q]=Zn[nt]=Zn[rt]=Zn[ot]=Zn[st]=Zn[at]=Zn[bt]=Zn[yt]=Zn[_t]=Zn[xt]=!0,Zn[q]=Zn[J]=Zn[ut]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},te={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ne={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ee={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ie=parseFloat,re=parseInt,oe="object"==typeof t&&t&&t.Object===Object&&t,se="object"==typeof self&&self&&self.Object===Object&&self,ae=oe||se||Function("return this")(),le=n&&!n.nodeType&&n,ue=le&&"object"==typeof i&&i&&!i.nodeType&&i,ce=ue&&ue.exports===le,he=ce&&oe.process,de=function(){try{var t=ue&&ue.require&&ue.require("util").types;return t||he&&he.binding&&he.binding("util")}catch(n){}}(),fe=de&&de.isArrayBuffer,pe=de&&de.isDate,ge=de&&de.isMap,ve=de&&de.isRegExp,me=de&&de.isSet,be=de&&de.isTypedArray;function ye(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function _e(t,n,e,i){var r=-1,o=null==t?0:t.length;while(++r<o){var s=t[r];n(i,s,e(s),t)}return i}function xe(t,n){var e=-1,i=null==t?0:t.length;while(++e<i)if(!1===n(t[e],e,t))break;return t}function Pe(t,n){var e=null==t?0:t.length;while(e--)if(!1===n(t[e],e,t))break;return t}function Ce(t,n){var e=-1,i=null==t?0:t.length;while(++e<i)if(!n(t[e],e,t))return!1;return!0}function we(t,n){var e=-1,i=null==t?0:t.length,r=0,o=[];while(++e<i){var s=t[e];n(s,e,t)&&(o[r++]=s)}return o}function je(t,n){var e=null==t?0:t.length;return!!e&&Ne(t,n,0)>-1}function Ee(t,n,e){var i=-1,r=null==t?0:t.length;while(++i<r)if(e(n,t[i]))return!0;return!1}function Se(t,n){var e=-1,i=null==t?0:t.length,r=Array(i);while(++e<i)r[e]=n(t[e],e,t);return r}function De(t,n){var e=-1,i=n.length,r=t.length;while(++e<i)t[r+e]=n[e];return t}function Ie(t,n,e,i){var r=-1,o=null==t?0:t.length;i&&o&&(e=t[++r]);while(++r<o)e=n(e,t[r],r,t);return e}function ke(t,n,e,i){var r=null==t?0:t.length;i&&r&&(e=t[--r]);while(r--)e=n(e,t[r],r,t);return e}function Ae(t,n){var e=-1,i=null==t?0:t.length;while(++e<i)if(n(t[e],e,t))return!0;return!1}var Te=Be("length");function Oe(t){return t.split("")}function Me(t){return t.match(Ut)||[]}function Le(t,n,e){var i;return e(t,(function(t,e,r){if(n(t,e,r))return i=e,!1})),i}function Fe(t,n,e,i){var r=t.length,o=e+(i?1:-1);while(i?o--:++o<r)if(n(t[o],o,t))return o;return-1}function Ne(t,n,e){return n===n?di(t,n,e):Fe(t,ze,e)}function Re(t,n,e,i){var r=e-1,o=t.length;while(++r<o)if(i(t[r],n))return r;return-1}function ze(t){return t!==t}function $e(t,n){var e=null==t?0:t.length;return e?We(t,n)/e:R}function Be(t){return function(n){return null==n?o:n[t]}}function Ge(t){return function(n){return null==t?o:t[n]}}function Ue(t,n,e,i,r){return r(t,(function(t,r,o){e=i?(i=!1,t):n(e,t,r,o)})),e}function Ve(t,n){var e=t.length;t.sort(n);while(e--)t[e]=t[e].value;return t}function We(t,n){var e,i=-1,r=t.length;while(++i<r){var s=n(t[i]);s!==o&&(e=e===o?s:e+s)}return e}function Xe(t,n){var e=-1,i=Array(t);while(++e<t)i[e]=n(e);return i}function He(t,n){return Se(n,(function(n){return[n,t[n]]}))}function Ye(t){return function(n){return t(n)}}function qe(t,n){return Se(n,(function(n){return t[n]}))}function Je(t,n){return t.has(n)}function Ke(t,n){var e=-1,i=t.length;while(++e<i&&Ne(n,t[e],0)>-1);return e}function Ze(t,n){var e=t.length;while(e--&&Ne(n,t[e],0)>-1);return e}function Qe(t,n){var e=t.length,i=0;while(e--)t[e]===n&&++i;return i}var ti=Ge(Qn),ni=Ge(te);function ei(t){return"\\"+ee[t]}function ii(t,n){return null==t?o:t[n]}function ri(t){return Hn.test(t)}function oi(t){return Yn.test(t)}function si(t){var n,e=[];while(!(n=t.next()).done)e.push(n.value);return e}function ai(t){var n=-1,e=Array(t.size);return t.forEach((function(t,i){e[++n]=[i,t]})),e}function li(t,n){return function(e){return t(n(e))}}function ui(t,n){var e=-1,i=t.length,r=0,o=[];while(++e<i){var s=t[e];s!==n&&s!==d||(t[e]=d,o[r++]=e)}return o}function ci(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function hi(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function di(t,n,e){var i=e-1,r=t.length;while(++i<r)if(t[i]===n)return i;return-1}function fi(t,n,e){var i=e+1;while(i--)if(t[i]===n)return i;return i}function pi(t){return ri(t)?mi(t):Te(t)}function gi(t){return ri(t)?bi(t):Oe(t)}var vi=Ge(ne);function mi(t){var n=Wn.lastIndex=0;while(Wn.test(t))++n;return n}function bi(t){return t.match(Wn)||[]}function yi(t){return t.match(Xn)||[]}var _i=function t(n){n=null==n?ae:xi.defaults(ae.Object(),n,xi.pick(ae,qn));var e=n.Array,i=n.Date,r=n.Error,Ut=n.Function,nn=n.Math,en=n.Object,rn=n.RegExp,on=n.String,sn=n.TypeError,an=e.prototype,ln=Ut.prototype,un=en.prototype,cn=n["__core-js_shared__"],hn=ln.toString,dn=un.hasOwnProperty,fn=0,pn=function(){var t=/[^.]+$/.exec(cn&&cn.keys&&cn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),gn=un.toString,vn=hn.call(en),mn=ae._,bn=rn("^"+hn.call(dn).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yn=ce?n.Buffer:o,_n=n.Symbol,xn=n.Uint8Array,Pn=yn?yn.allocUnsafe:o,Cn=li(en.getPrototypeOf,en),wn=en.create,jn=un.propertyIsEnumerable,En=an.splice,Sn=_n?_n.isConcatSpreadable:o,Dn=_n?_n.iterator:o,In=_n?_n.toStringTag:o,kn=function(){try{var t=Ws(en,"defineProperty");return t({},"",{}),t}catch(n){}}(),An=n.clearTimeout!==ae.clearTimeout&&n.clearTimeout,Tn=i&&i.now!==ae.Date.now&&i.now,On=n.setTimeout!==ae.setTimeout&&n.setTimeout,Mn=nn.ceil,Ln=nn.floor,Fn=en.getOwnPropertySymbols,Nn=yn?yn.isBuffer:o,Rn=n.isFinite,zn=an.join,$n=li(en.keys,en),Bn=nn.max,Gn=nn.min,Wn=i.now,Xn=n.parseInt,Hn=nn.random,Yn=an.reverse,Qn=Ws(n,"DataView"),te=Ws(n,"Map"),ne=Ws(n,"Promise"),ee=Ws(n,"Set"),oe=Ws(n,"WeakMap"),se=Ws(en,"create"),le=oe&&new oe,ue={},he=ka(Qn),de=ka(te),Te=ka(ne),Oe=ka(ee),Ge=ka(oe),di=_n?_n.prototype:o,mi=di?di.valueOf:o,bi=di?di.toString:o;function _i(t){if(Cc(t)&&!sc(t)&&!(t instanceof ji)){if(t instanceof wi)return t;if(dn.call(t,"__wrapped__"))return Ta(t)}return new wi(t)}var Pi=function(){function t(){}return function(n){if(!Pc(n))return{};if(wn)return wn(n);t.prototype=n;var e=new t;return t.prototype=o,e}}();function Ci(){}function wi(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}function ji(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function Ei(){var t=new ji(this.__wrapped__);return t.__actions__=es(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=es(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=es(this.__views__),t}function Si(){if(this.__filtered__){var t=new ji(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Di(){var t=this.__wrapped__.value(),n=this.__dir__,e=sc(t),i=n<0,r=e?t.length:0,o=Js(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,f=Gn(l,this.__takeCount__);if(!e||!i&&r==l&&f==l)return No(t,this.__actions__);var p=[];t:while(l--&&d<f){u+=n;var g=-1,v=t[u];while(++g<h){var m=c[g],b=m.iteratee,y=m.type,_=b(v);if(y==O)v=_;else if(!_){if(y==T)continue t;break t}}p[d++]=v}return p}function Ii(t){var n=-1,e=null==t?0:t.length;this.clear();while(++n<e){var i=t[n];this.set(i[0],i[1])}}function ki(){this.__data__=se?se(null):{},this.size=0}function Ai(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}function Ti(t){var n=this.__data__;if(se){var e=n[t];return e===c?o:e}return dn.call(n,t)?n[t]:o}function Oi(t){var n=this.__data__;return se?n[t]!==o:dn.call(n,t)}function Mi(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=se&&n===o?c:n,this}function Li(t){var n=-1,e=null==t?0:t.length;this.clear();while(++n<e){var i=t[n];this.set(i[0],i[1])}}function Fi(){this.__data__=[],this.size=0}function Ni(t){var n=this.__data__,e=lr(n,t);if(e<0)return!1;var i=n.length-1;return e==i?n.pop():En.call(n,e,1),--this.size,!0}function Ri(t){var n=this.__data__,e=lr(n,t);return e<0?o:n[e][1]}function zi(t){return lr(this.__data__,t)>-1}function $i(t,n){var e=this.__data__,i=lr(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this}function Bi(t){var n=-1,e=null==t?0:t.length;this.clear();while(++n<e){var i=t[n];this.set(i[0],i[1])}}function Gi(){this.size=0,this.__data__={hash:new Ii,map:new(te||Li),string:new Ii}}function Ui(t){var n=Us(this,t)["delete"](t);return this.size-=n?1:0,n}function Vi(t){return Us(this,t).get(t)}function Wi(t){return Us(this,t).has(t)}function Xi(t,n){var e=Us(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this}function Hi(t){var n=-1,e=null==t?0:t.length;this.__data__=new Bi;while(++n<e)this.add(t[n])}function Yi(t){return this.__data__.set(t,c),this}function qi(t){return this.__data__.has(t)}function Ji(t){var n=this.__data__=new Li(t);this.size=n.size}function Ki(){this.__data__=new Li,this.size=0}function Zi(t){var n=this.__data__,e=n["delete"](t);return this.size=n.size,e}function Qi(t){return this.__data__.get(t)}function tr(t){return this.__data__.has(t)}function nr(t,n){var e=this.__data__;if(e instanceof Li){var i=e.__data__;if(!te||i.length<a-1)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new Bi(i)}return e.set(t,n),this.size=e.size,this}function er(t,n){var e=sc(t),i=!e&&oc(t),r=!e&&!i&&hc(t),o=!e&&!i&&!r&&Rc(t),s=e||i||r||o,a=s?Xe(t.length,on):[],l=a.length;for(var u in t)!n&&!dn.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ra(u,l))||a.push(u);return a}function ir(t){var n=t.length;return n?t[vo(0,n-1)]:o}function rr(t,n){return Sa(es(t),pr(n,0,t.length))}function or(t){return Sa(es(t))}function sr(t,n,e){(e===o||ec(t[n],e))&&(e!==o||n in t)||dr(t,n,e)}function ar(t,n,e){var i=t[n];dn.call(t,n)&&ec(i,e)&&(e!==o||n in t)||dr(t,n,e)}function lr(t,n){var e=t.length;while(e--)if(ec(t[e][0],n))return e;return-1}function ur(t,n,e,i){return _r(t,(function(t,r,o){n(i,t,e(t),o)})),i}function cr(t,n){return t&&is(n,_h(n),t)}function hr(t,n){return t&&is(n,xh(n),t)}function dr(t,n,e){"__proto__"==n&&kn?kn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function fr(t,n){var i=-1,r=n.length,s=e(r),a=null==t;while(++i<r)s[i]=a?o:ph(t,n[i]);return s}function pr(t,n,e){return t===t&&(e!==o&&(t=t<=e?t:e),n!==o&&(t=t>=n?t:n)),t}function gr(t,n,e,i,r,s){var a,l=n&f,u=n&p,c=n&g;if(e&&(a=r?e(t,i,r,s):e(t)),a!==o)return a;if(!Pc(t))return t;var h=sc(t);if(h){if(a=Qs(t),!l)return es(t,a)}else{var d=qs(t),v=d==J||d==K;if(hc(t))return Xo(t,l);if(d==nt||d==U||v&&!r){if(a=u||v?{}:ta(t),!l)return u?os(t,hr(a,t)):rs(t,cr(a,t))}else{if(!Zn[d])return r?t:{};a=na(t,d,l)}}s||(s=new Ji);var m=s.get(t);if(m)return m;s.set(t,a),Lc(t)?t.forEach((function(i){a.add(gr(i,n,e,i,t,s))})):wc(t)&&t.forEach((function(i,r){a.set(r,gr(i,n,e,r,t,s))}));var b=c?u?Rs:Ns:u?xh:_h,y=h?o:b(t);return xe(y||t,(function(i,r){y&&(r=i,i=t[r]),ar(a,r,gr(i,n,e,r,t,s))})),a}function vr(t){var n=_h(t);return function(e){return mr(e,t,n)}}function mr(t,n,e){var i=e.length;if(null==t)return!i;t=en(t);while(i--){var r=e[i],s=n[r],a=t[r];if(a===o&&!(r in t)||!s(a))return!1}return!0}function br(t,n,e){if("function"!=typeof t)throw new sn(u);return Ca((function(){t.apply(o,e)}),n)}function yr(t,n,e,i){var r=-1,o=je,s=!0,l=t.length,u=[],c=n.length;if(!l)return u;e&&(n=Se(n,Ye(e))),i?(o=Ee,s=!1):n.length>=a&&(o=Je,s=!1,n=new Hi(n));t:while(++r<l){var h=t[r],d=null==e?h:e(h);if(h=i||0!==h?h:0,s&&d===d){var f=c;while(f--)if(n[f]===d)continue t;u.push(h)}else o(n,d,i)||u.push(h)}return u}_i.templateSettings={escape:It,evaluate:kt,interpolate:At,variable:"",imports:{_:_i}},_i.prototype=Ci.prototype,_i.prototype.constructor=_i,wi.prototype=Pi(Ci.prototype),wi.prototype.constructor=wi,ji.prototype=Pi(Ci.prototype),ji.prototype.constructor=ji,Ii.prototype.clear=ki,Ii.prototype["delete"]=Ai,Ii.prototype.get=Ti,Ii.prototype.has=Oi,Ii.prototype.set=Mi,Li.prototype.clear=Fi,Li.prototype["delete"]=Ni,Li.prototype.get=Ri,Li.prototype.has=zi,Li.prototype.set=$i,Bi.prototype.clear=Gi,Bi.prototype["delete"]=Ui,Bi.prototype.get=Vi,Bi.prototype.has=Wi,Bi.prototype.set=Xi,Hi.prototype.add=Hi.prototype.push=Yi,Hi.prototype.has=qi,Ji.prototype.clear=Ki,Ji.prototype["delete"]=Zi,Ji.prototype.get=Qi,Ji.prototype.has=tr,Ji.prototype.set=nr;var _r=ls(Ir),xr=ls(kr,!0);function Pr(t,n){var e=!0;return _r(t,(function(t,i,r){return e=!!n(t,i,r),e})),e}function Cr(t,n,e){var i=-1,r=t.length;while(++i<r){var s=t[i],a=n(s);if(null!=a&&(l===o?a===a&&!Nc(a):e(a,l)))var l=a,u=s}return u}function wr(t,n,e,i){var r=t.length;e=Xc(e),e<0&&(e=-e>r?0:r+e),i=i===o||i>r?r:Xc(i),i<0&&(i+=r),i=e>i?0:Hc(i);while(e<i)t[e++]=n;return t}function jr(t,n){var e=[];return _r(t,(function(t,i,r){n(t,i,r)&&e.push(t)})),e}function Er(t,n,e,i,r){var o=-1,s=t.length;e||(e=ia),r||(r=[]);while(++o<s){var a=t[o];n>0&&e(a)?n>1?Er(a,n-1,e,i,r):De(r,a):i||(r[r.length]=a)}return r}var Sr=us(),Dr=us(!0);function Ir(t,n){return t&&Sr(t,n,_h)}function kr(t,n){return t&&Dr(t,n,_h)}function Ar(t,n){return we(n,(function(n){return yc(t[n])}))}function Tr(t,n){n=Go(n,t);var e=0,i=n.length;while(null!=t&&e<i)t=t[Ia(n[e++])];return e&&e==i?t:o}function Or(t,n,e){var i=n(t);return sc(t)?i:De(i,e(t))}function Mr(t){return null==t?t===o?lt:tt:In&&In in en(t)?Xs(t):ma(t)}function Lr(t,n){return t>n}function Fr(t,n){return null!=t&&dn.call(t,n)}function Nr(t,n){return null!=t&&n in en(t)}function Rr(t,n,e){return t>=Gn(n,e)&&t<Bn(n,e)}function zr(t,n,i){var r=i?Ee:je,s=t[0].length,a=t.length,l=a,u=e(a),c=1/0,h=[];while(l--){var d=t[l];l&&n&&(d=Se(d,Ye(n))),c=Gn(d.length,c),u[l]=!i&&(n||s>=120&&d.length>=120)?new Hi(l&&d):o}d=t[0];var f=-1,p=u[0];t:while(++f<s&&h.length<c){var g=d[f],v=n?n(g):g;if(g=i||0!==g?g:0,!(p?Je(p,v):r(h,v,i))){l=a;while(--l){var m=u[l];if(!(m?Je(m,v):r(t[l],v,i)))continue t}p&&p.push(v),h.push(g)}}return h}function $r(t,n,e,i){return Ir(t,(function(t,r,o){n(i,e(t),r,o)})),i}function Br(t,n,e){n=Go(n,t),t=ya(t,n);var i=null==t?t:t[Ia(il(n))];return null==i?o:ye(i,t,e)}function Gr(t){return Cc(t)&&Mr(t)==U}function Ur(t){return Cc(t)&&Mr(t)==ht}function Vr(t){return Cc(t)&&Mr(t)==H}function Wr(t,n,e,i,r){return t===n||(null==t||null==n||!Cc(t)&&!Cc(n)?t!==t&&n!==n:Xr(t,n,e,i,Wr,r))}function Xr(t,n,e,i,r,o){var s=sc(t),a=sc(n),l=s?V:qs(t),u=a?V:qs(n);l=l==U?nt:l,u=u==U?nt:u;var c=l==nt,h=u==nt,d=l==u;if(d&&hc(t)){if(!hc(n))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Ji),s||Rc(t)?Os(t,n,e,i,r,o):Ms(t,n,l,e,i,r,o);if(!(e&v)){var f=c&&dn.call(t,"__wrapped__"),p=h&&dn.call(n,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?n.value():n;return o||(o=new Ji),r(g,m,e,i,o)}}return!!d&&(o||(o=new Ji),Ls(t,n,e,i,r,o))}function Hr(t){return Cc(t)&&qs(t)==Z}function Yr(t,n,e,i){var r=e.length,s=r,a=!i;if(null==t)return!s;t=en(t);while(r--){var l=e[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++r<s){l=e[r];var u=l[0],c=t[u],h=l[1];if(a&&l[2]){if(c===o&&!(u in t))return!1}else{var d=new Ji;if(i)var f=i(c,h,u,t,n,d);if(!(f===o?Wr(h,c,v|m,i,d):f))return!1}}return!0}function qr(t){if(!Pc(t)||ua(t))return!1;var n=yc(t)?bn:qt;return n.test(ka(t))}function Jr(t){return Cc(t)&&Mr(t)==rt}function Kr(t){return Cc(t)&&qs(t)==ot}function Zr(t){return Cc(t)&&xc(t.length)&&!!Kn[Mr(t)]}function Qr(t){return"function"==typeof t?t:null==t?Dd:"object"==typeof t?sc(t)?oo(t[0],t[1]):ro(t):Bd(t)}function to(t){if(!ha(t))return $n(t);var n=[];for(var e in en(t))dn.call(t,e)&&"constructor"!=e&&n.push(e);return n}function no(t){if(!Pc(t))return va(t);var n=ha(t),e=[];for(var i in t)("constructor"!=i||!n&&dn.call(t,i))&&e.push(i);return e}function eo(t,n){return t<n}function io(t,n){var i=-1,r=lc(t)?e(t.length):[];return _r(t,(function(t,e,o){r[++i]=n(t,e,o)})),r}function ro(t){var n=Vs(t);return 1==n.length&&n[0][2]?fa(n[0][0],n[0][1]):function(e){return e===t||Yr(e,t,n)}}function oo(t,n){return sa(t)&&da(n)?fa(Ia(t),n):function(e){var i=ph(e,t);return i===o&&i===n?vh(e,t):Wr(n,i,v|m)}}function so(t,n,e,i,r){t!==n&&Sr(n,(function(s,a){if(r||(r=new Ji),Pc(s))ao(t,n,a,e,so,i,r);else{var l=i?i(xa(t,a),s,a+"",t,n,r):o;l===o&&(l=s),sr(t,a,l)}}),xh)}function ao(t,n,e,i,r,s,a){var l=xa(t,e),u=xa(n,e),c=a.get(u);if(c)sr(t,e,c);else{var h=s?s(l,u,e+"",t,n,a):o,d=h===o;if(d){var f=sc(u),p=!f&&hc(u),g=!f&&!p&&Rc(u);h=u,f||p||g?sc(l)?h=l:uc(l)?h=es(l):p?(d=!1,h=Xo(u,!0)):g?(d=!1,h=Ko(u,!0)):h=[]:Tc(u)||oc(u)?(h=l,oc(l)?h=qc(l):Pc(l)&&!yc(l)||(h=ta(u))):d=!1}d&&(a.set(u,h),r(h,u,i,s,a),a["delete"](u)),sr(t,e,h)}}function lo(t,n){var e=t.length;if(e)return n+=n<0?e:0,ra(n,e)?t[n]:o}function uo(t,n,e){var i=-1;n=Se(n.length?n:[Dd],Ye(Gs()));var r=io(t,(function(t,e,r){var o=Se(n,(function(n){return n(t)}));return{criteria:o,index:++i,value:t}}));return Ve(r,(function(t,n){return Qo(t,n,e)}))}function co(t,n){return ho(t,n,(function(n,e){return vh(t,e)}))}function ho(t,n,e){var i=-1,r=n.length,o={};while(++i<r){var s=n[i],a=Tr(t,s);e(a,s)&&Po(o,Go(s,t),a)}return o}function fo(t){return function(n){return Tr(n,t)}}function po(t,n,e,i){var r=i?Re:Ne,o=-1,s=n.length,a=t;t===n&&(n=es(n)),e&&(a=Se(t,Ye(e)));while(++o<s){var l=0,u=n[o],c=e?e(u):u;while((l=r(a,c,l,i))>-1)a!==t&&En.call(a,l,1),En.call(t,l,1)}return t}function go(t,n){var e=t?n.length:0,i=e-1;while(e--){var r=n[e];if(e==i||r!==o){var o=r;ra(r)?En.call(t,r,1):Mo(t,r)}}return t}function vo(t,n){return t+Ln(Hn()*(n-t+1))}function mo(t,n,i,r){var o=-1,s=Bn(Mn((n-t)/(i||1)),0),a=e(s);while(s--)a[r?s:++o]=t,t+=i;return a}function bo(t,n){var e="";if(!t||n<1||n>F)return e;do{n%2&&(e+=t),n=Ln(n/2),n&&(t+=t)}while(n);return e}function yo(t,n){return wa(ba(t,n,Dd),t+"")}function _o(t){return ir(zh(t))}function xo(t,n){var e=zh(t);return Sa(e,pr(n,0,e.length))}function Po(t,n,e,i){if(!Pc(t))return t;n=Go(n,t);var r=-1,s=n.length,a=s-1,l=t;while(null!=l&&++r<s){var u=Ia(n[r]),c=e;if(r!=a){var h=l[u];c=i?i(h,u,l):o,c===o&&(c=Pc(h)?h:ra(n[r+1])?[]:{})}ar(l,u,c),l=l[u]}return t}var Co=le?function(t,n){return le.set(t,n),t}:Dd,wo=kn?function(t,n){return kn(t,"toString",{configurable:!0,enumerable:!1,value:wd(n),writable:!0})}:Dd;function jo(t){return Sa(zh(t))}function Eo(t,n,i){var r=-1,o=t.length;n<0&&(n=-n>o?0:o+n),i=i>o?o:i,i<0&&(i+=o),o=n>i?0:i-n>>>0,n>>>=0;var s=e(o);while(++r<o)s[r]=t[r+n];return s}function So(t,n){var e;return _r(t,(function(t,i,r){return e=n(t,i,r),!e})),!!e}function Do(t,n,e){var i=0,r=null==t?i:t.length;if("number"==typeof n&&n===n&&r<=B){while(i<r){var o=i+r>>>1,s=t[o];null!==s&&!Nc(s)&&(e?s<=n:s<n)?i=o+1:r=o}return r}return Io(t,n,Dd,e)}function Io(t,n,e,i){n=e(n);var r=0,s=null==t?0:t.length,a=n!==n,l=null===n,u=Nc(n),c=n===o;while(r<s){var h=Ln((r+s)/2),d=e(t[h]),f=d!==o,p=null===d,g=d===d,v=Nc(d);if(a)var m=i||g;else m=c?g&&(i||f):l?g&&f&&(i||!p):u?g&&f&&!p&&(i||!v):!p&&!v&&(i?d<=n:d<n);m?r=h+1:s=h}return Gn(s,$)}function ko(t,n){var e=-1,i=t.length,r=0,o=[];while(++e<i){var s=t[e],a=n?n(s):s;if(!e||!ec(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function Ao(t){return"number"==typeof t?t:Nc(t)?R:+t}function To(t){if("string"==typeof t)return t;if(sc(t))return Se(t,To)+"";if(Nc(t))return bi?bi.call(t):"";var n=t+"";return"0"==n&&1/t==-L?"-0":n}function Oo(t,n,e){var i=-1,r=je,o=t.length,s=!0,l=[],u=l;if(e)s=!1,r=Ee;else if(o>=a){var c=n?null:Ss(t);if(c)return ci(c);s=!1,r=Je,u=new Hi}else u=n?[]:l;t:while(++i<o){var h=t[i],d=n?n(h):h;if(h=e||0!==h?h:0,s&&d===d){var f=u.length;while(f--)if(u[f]===d)continue t;n&&u.push(d),l.push(h)}else r(u,d,e)||(u!==l&&u.push(d),l.push(h))}return l}function Mo(t,n){return n=Go(n,t),t=ya(t,n),null==t||delete t[Ia(il(n))]}function Lo(t,n,e,i){return Po(t,n,e(Tr(t,n)),i)}function Fo(t,n,e,i){var r=t.length,o=i?r:-1;while((i?o--:++o<r)&&n(t[o],o,t));return e?Eo(t,i?0:o,i?o+1:r):Eo(t,i?o+1:0,i?r:o)}function No(t,n){var e=t;return e instanceof ji&&(e=e.value()),Ie(n,(function(t,n){return n.func.apply(n.thisArg,De([t],n.args))}),e)}function Ro(t,n,i){var r=t.length;if(r<2)return r?Oo(t[0]):[];var o=-1,s=e(r);while(++o<r){var a=t[o],l=-1;while(++l<r)l!=o&&(s[o]=yr(s[o]||a,t[l],n,i))}return Oo(Er(s,1),n,i)}function zo(t,n,e){var i=-1,r=t.length,s=n.length,a={};while(++i<r){var l=i<s?n[i]:o;e(a,t[i],l)}return a}function $o(t){return uc(t)?t:[]}function Bo(t){return"function"==typeof t?t:Dd}function Go(t,n){return sc(t)?t:sa(t,n)?[t]:Da(Kc(t))}var Uo=yo;function Vo(t,n,e){var i=t.length;return e=e===o?i:e,!n&&e>=i?t:Eo(t,n,e)}var Wo=An||function(t){return ae.clearTimeout(t)};function Xo(t,n){if(n)return t.slice();var e=t.length,i=Pn?Pn(e):new t.constructor(e);return t.copy(i),i}function Ho(t){var n=new t.constructor(t.byteLength);return new xn(n).set(new xn(t)),n}function Yo(t,n){var e=n?Ho(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}function qo(t){var n=new t.constructor(t.source,Xt.exec(t));return n.lastIndex=t.lastIndex,n}function Jo(t){return mi?en(mi.call(t)):{}}function Ko(t,n){var e=n?Ho(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Zo(t,n){if(t!==n){var e=t!==o,i=null===t,r=t===t,s=Nc(t),a=n!==o,l=null===n,u=n===n,c=Nc(n);if(!l&&!c&&!s&&t>n||s&&a&&u&&!l&&!c||i&&a&&u||!e&&u||!r)return 1;if(!i&&!s&&!c&&t<n||c&&e&&r&&!i&&!s||l&&e&&r||!a&&r||!u)return-1}return 0}function Qo(t,n,e){var i=-1,r=t.criteria,o=n.criteria,s=r.length,a=e.length;while(++i<s){var l=Zo(r[i],o[i]);if(l){if(i>=a)return l;var u=e[i];return l*("desc"==u?-1:1)}}return t.index-n.index}function ts(t,n,i,r){var o=-1,s=t.length,a=i.length,l=-1,u=n.length,c=Bn(s-a,0),h=e(u+c),d=!r;while(++l<u)h[l]=n[l];while(++o<a)(d||o<s)&&(h[i[o]]=t[o]);while(c--)h[l++]=t[o++];return h}function ns(t,n,i,r){var o=-1,s=t.length,a=-1,l=i.length,u=-1,c=n.length,h=Bn(s-l,0),d=e(h+c),f=!r;while(++o<h)d[o]=t[o];var p=o;while(++u<c)d[p+u]=n[u];while(++a<l)(f||o<s)&&(d[p+i[a]]=t[o++]);return d}function es(t,n){var i=-1,r=t.length;n||(n=e(r));while(++i<r)n[i]=t[i];return n}function is(t,n,e,i){var r=!e;e||(e={});var s=-1,a=n.length;while(++s<a){var l=n[s],u=i?i(e[l],t[l],l,e,t):o;u===o&&(u=t[l]),r?dr(e,l,u):ar(e,l,u)}return e}function rs(t,n){return is(t,Hs(t),n)}function os(t,n){return is(t,Ys(t),n)}function ss(t,n){return function(e,i){var r=sc(e)?_e:ur,o=n?n():{};return r(e,t,Gs(i,2),o)}}function as(t){return yo((function(n,e){var i=-1,r=e.length,s=r>1?e[r-1]:o,a=r>2?e[2]:o;s=t.length>3&&"function"==typeof s?(r--,s):o,a&&oa(e[0],e[1],a)&&(s=r<3?o:s,r=1),n=en(n);while(++i<r){var l=e[i];l&&t(n,l,i,s)}return n}))}function ls(t,n){return function(e,i){if(null==e)return e;if(!lc(e))return t(e,i);var r=e.length,o=n?r:-1,s=en(e);while(n?o--:++o<r)if(!1===i(s[o],o,s))break;return e}}function us(t){return function(n,e,i){var r=-1,o=en(n),s=i(n),a=s.length;while(a--){var l=s[t?a:++r];if(!1===e(o[l],l,o))break}return n}}function cs(t,n,e){var i=n&b,r=fs(t);function o(){var n=this&&this!==ae&&this instanceof o?r:t;return n.apply(i?e:this,arguments)}return o}function hs(t){return function(n){n=Kc(n);var e=ri(n)?gi(n):o,i=e?e[0]:n.charAt(0),r=e?Vo(e,1).join(""):n.slice(1);return i[t]()+r}}function ds(t){return function(n){return Ie(yd(Xh(n).replace(Un,"")),t,"")}}function fs(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Pi(t.prototype),i=t.apply(e,n);return Pc(i)?i:e}}function ps(t,n,i){var r=fs(t);function s(){var a=arguments.length,l=e(a),u=a,c=Bs(s);while(u--)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:ui(l,c);if(a-=h.length,a<i)return js(t,n,ms,s.placeholder,o,l,h,o,o,i-a);var d=this&&this!==ae&&this instanceof s?r:t;return ye(d,this,l)}return s}function gs(t){return function(n,e,i){var r=en(n);if(!lc(n)){var s=Gs(e,3);n=_h(n),e=function(t){return s(r[t],t,r)}}var a=t(n,e,i);return a>-1?r[s?n[a]:a]:o}}function vs(t){return Fs((function(n){var e=n.length,i=e,r=wi.prototype.thru;t&&n.reverse();while(i--){var s=n[i];if("function"!=typeof s)throw new sn(u);if(r&&!a&&"wrapper"==$s(s))var a=new wi([],!0)}i=a?i:e;while(++i<e){s=n[i];var l=$s(s),c="wrapper"==l?zs(s):o;a=c&&la(c[0])&&c[1]==(j|x|C|E)&&!c[4].length&&1==c[9]?a[$s(c[0])].apply(a,c[3]):1==s.length&&la(s)?a[l]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&sc(i))return a.plant(i).value();var r=0,o=e?n[r].apply(this,t):i;while(++r<e)o=n[r].call(this,o);return o}}))}function ms(t,n,i,r,s,a,l,u,c,h){var d=n&j,f=n&b,p=n&y,g=n&(x|P),v=n&S,m=p?o:fs(t);function _(){var o=arguments.length,b=e(o),y=o;while(y--)b[y]=arguments[y];if(g)var x=Bs(_),P=Qe(b,x);if(r&&(b=ts(b,r,s,g)),a&&(b=ns(b,a,l,g)),o-=P,g&&o<h){var C=ui(b,x);return js(t,n,ms,_.placeholder,i,b,C,u,c,h-o)}var w=f?i:this,j=p?w[t]:t;return o=b.length,u?b=_a(b,u):v&&o>1&&b.reverse(),d&&c<o&&(b.length=c),this&&this!==ae&&this instanceof _&&(j=m||fs(j)),j.apply(w,b)}return _}function bs(t,n){return function(e,i){return $r(e,t,n(i),{})}}function ys(t,n){return function(e,i){var r;if(e===o&&i===o)return n;if(e!==o&&(r=e),i!==o){if(r===o)return i;"string"==typeof e||"string"==typeof i?(e=To(e),i=To(i)):(e=Ao(e),i=Ao(i)),r=t(e,i)}return r}}function _s(t){return Fs((function(n){return n=Se(n,Ye(Gs())),yo((function(e){var i=this;return t(n,(function(t){return ye(t,i,e)}))}))}))}function xs(t,n){n=n===o?" ":To(n);var e=n.length;if(e<2)return e?bo(n,t):n;var i=bo(n,Mn(t/pi(n)));return ri(n)?Vo(gi(i),0,t).join(""):i.slice(0,t)}function Ps(t,n,i,r){var o=n&b,s=fs(t);function a(){var n=-1,l=arguments.length,u=-1,c=r.length,h=e(c+l),d=this&&this!==ae&&this instanceof a?s:t;while(++u<c)h[u]=r[u];while(l--)h[u++]=arguments[++n];return ye(d,o?i:this,h)}return a}function Cs(t){return function(n,e,i){return i&&"number"!=typeof i&&oa(n,e,i)&&(e=i=o),n=Wc(n),e===o?(e=n,n=0):e=Wc(e),i=i===o?n<e?1:-1:Wc(i),mo(n,e,i,t)}}function ws(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=Yc(n),e=Yc(e)),t(n,e)}}function js(t,n,e,i,r,s,a,l,u,c){var h=n&x,d=h?a:o,f=h?o:a,p=h?s:o,g=h?o:s;n|=h?C:w,n&=~(h?w:C),n&_||(n&=~(b|y));var v=[t,n,r,p,d,g,f,l,u,c],m=e.apply(o,v);return la(t)&&Pa(m,v),m.placeholder=i,ja(m,t,n)}function Es(t){var n=nn[t];return function(t,e){if(t=Yc(t),e=null==e?0:Gn(Xc(e),292),e&&Rn(t)){var i=(Kc(t)+"e").split("e"),r=n(i[0]+"e"+(+i[1]+e));return i=(Kc(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-e))}return n(t)}}var Ss=ee&&1/ci(new ee([,-0]))[1]==L?function(t){return new ee(t)}:Fd;function Ds(t){return function(n){var e=qs(n);return e==Z?ai(n):e==ot?hi(n):He(n,t(n))}}function Is(t,n,e,i,r,s,a,l){var c=n&y;if(!c&&"function"!=typeof t)throw new sn(u);var h=i?i.length:0;if(h||(n&=~(C|w),i=r=o),a=a===o?a:Bn(Xc(a),0),l=l===o?l:Xc(l),h-=r?r.length:0,n&w){var d=i,f=r;i=r=o}var p=c?o:zs(t),g=[t,n,e,i,r,d,f,s,a,l];if(p&&ga(g,p),t=g[0],n=g[1],e=g[2],i=g[3],r=g[4],l=g[9]=g[9]===o?c?0:t.length:Bn(g[9]-h,0),!l&&n&(x|P)&&(n&=~(x|P)),n&&n!=b)v=n==x||n==P?ps(t,n,l):n!=C&&n!=(b|C)||r.length?ms.apply(o,g):Ps(t,n,e,i);else var v=cs(t,n,e);var m=p?Co:Pa;return ja(m(v,g),t,n)}function ks(t,n,e,i){return t===o||ec(t,un[e])&&!dn.call(i,e)?n:t}function As(t,n,e,i,r,s){return Pc(t)&&Pc(n)&&(s.set(n,t),so(t,n,o,As,s),s["delete"](n)),t}function Ts(t){return Tc(t)?o:t}function Os(t,n,e,i,r,s){var a=e&v,l=t.length,u=n.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(t);if(c&&s.get(n))return c==n;var h=-1,d=!0,f=e&m?new Hi:o;s.set(t,n),s.set(n,t);while(++h<l){var p=t[h],g=n[h];if(i)var b=a?i(g,p,h,n,t,s):i(p,g,h,t,n,s);if(b!==o){if(b)continue;d=!1;break}if(f){if(!Ae(n,(function(t,n){if(!Je(f,n)&&(p===t||r(p,t,e,i,s)))return f.push(n)}))){d=!1;break}}else if(p!==g&&!r(p,g,e,i,s)){d=!1;break}}return s["delete"](t),s["delete"](n),d}function Ms(t,n,e,i,r,o,s){switch(e){case dt:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ht:return!(t.byteLength!=n.byteLength||!o(new xn(t),new xn(n)));case X:case H:case Q:return ec(+t,+n);case q:return t.name==n.name&&t.message==n.message;case rt:case st:return t==n+"";case Z:var a=ai;case ot:var l=i&v;if(a||(a=ci),t.size!=n.size&&!l)return!1;var u=s.get(t);if(u)return u==n;i|=m,s.set(t,n);var c=Os(a(t),a(n),i,r,o,s);return s["delete"](t),c;case at:if(mi)return mi.call(t)==mi.call(n)}return!1}function Ls(t,n,e,i,r,s){var a=e&v,l=Ns(t),u=l.length,c=Ns(n),h=c.length;if(u!=h&&!a)return!1;var d=u;while(d--){var f=l[d];if(!(a?f in n:dn.call(n,f)))return!1}var p=s.get(t);if(p&&s.get(n))return p==n;var g=!0;s.set(t,n),s.set(n,t);var m=a;while(++d<u){f=l[d];var b=t[f],y=n[f];if(i)var _=a?i(y,b,f,n,t,s):i(b,y,f,t,n,s);if(!(_===o?b===y||r(b,y,e,i,s):_)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var x=t.constructor,P=n.constructor;x!=P&&"constructor"in t&&"constructor"in n&&!("function"==typeof x&&x instanceof x&&"function"==typeof P&&P instanceof P)&&(g=!1)}return s["delete"](t),s["delete"](n),g}function Fs(t){return wa(ba(t,o,Xa),t+"")}function Ns(t){return Or(t,_h,Hs)}function Rs(t){return Or(t,xh,Ys)}var zs=le?function(t){return le.get(t)}:Fd;function $s(t){var n=t.name+"",e=ue[n],i=dn.call(ue,n)?e.length:0;while(i--){var r=e[i],o=r.func;if(null==o||o==t)return r.name}return n}function Bs(t){var n=dn.call(_i,"placeholder")?_i:t;return n.placeholder}function Gs(){var t=_i.iteratee||Id;return t=t===Id?Qr:t,arguments.length?t(arguments[0],arguments[1]):t}function Us(t,n){var e=t.__data__;return aa(n)?e["string"==typeof n?"string":"hash"]:e.map}function Vs(t){var n=_h(t),e=n.length;while(e--){var i=n[e],r=t[i];n[e]=[i,r,da(r)]}return n}function Ws(t,n){var e=ii(t,n);return qr(e)?e:o}function Xs(t){var n=dn.call(t,In),e=t[In];try{t[In]=o;var i=!0}catch(s){}var r=gn.call(t);return i&&(n?t[In]=e:delete t[In]),r}var Hs=Fn?function(t){return null==t?[]:(t=en(t),we(Fn(t),(function(n){return jn.call(t,n)})))}:Wd,Ys=Fn?function(t){var n=[];while(t)De(n,Hs(t)),t=Cn(t);return n}:Wd,qs=Mr;function Js(t,n,e){var i=-1,r=e.length;while(++i<r){var o=e[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":n-=s;break;case"take":n=Gn(n,t+s);break;case"takeRight":t=Bn(t,n-s);break}}return{start:t,end:n}}function Ks(t){var n=t.match(Bt);return n?n[1].split(Gt):[]}function Zs(t,n,e){n=Go(n,t);var i=-1,r=n.length,o=!1;while(++i<r){var s=Ia(n[i]);if(!(o=null!=t&&e(t,s)))break;t=t[s]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&xc(r)&&ra(s,r)&&(sc(t)||oc(t)))}function Qs(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&dn.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function ta(t){return"function"!=typeof t.constructor||ha(t)?{}:Pi(Cn(t))}function na(t,n,e){var i=t.constructor;switch(n){case ht:return Ho(t);case X:case H:return new i(+t);case dt:return Yo(t,e);case ft:case pt:case gt:case vt:case mt:case bt:case yt:case _t:case xt:return Ko(t,e);case Z:return new i;case Q:case st:return new i(t);case rt:return qo(t);case ot:return new i;case at:return Jo(t)}}function ea(t,n){var e=n.length;if(!e)return t;var i=e-1;return n[i]=(e>1?"& ":"")+n[i],n=n.join(e>2?", ":" "),t.replace($t,"{\n/* [wrapped with "+n+"] */\n")}function ia(t){return sc(t)||oc(t)||!!(Sn&&t&&t[Sn])}function ra(t,n){var e=typeof t;return n=null==n?F:n,!!n&&("number"==e||"symbol"!=e&&Kt.test(t))&&t>-1&&t%1==0&&t<n}function oa(t,n,e){if(!Pc(e))return!1;var i=typeof n;return!!("number"==i?lc(e)&&ra(n,e.length):"string"==i&&n in e)&&ec(e[n],t)}function sa(t,n){if(sc(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Nc(t))||(Ot.test(t)||!Tt.test(t)||null!=n&&t in en(n))}function aa(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}function la(t){var n=$s(t),e=_i[n];if("function"!=typeof e||!(n in ji.prototype))return!1;if(t===e)return!0;var i=zs(e);return!!i&&t===i[0]}function ua(t){return!!pn&&pn in t}(Qn&&qs(new Qn(new ArrayBuffer(1)))!=dt||te&&qs(new te)!=Z||ne&&qs(ne.resolve())!=et||ee&&qs(new ee)!=ot||oe&&qs(new oe)!=ut)&&(qs=function(t){var n=Mr(t),e=n==nt?t.constructor:o,i=e?ka(e):"";if(i)switch(i){case he:return dt;case de:return Z;case Te:return et;case Oe:return ot;case Ge:return ut}return n});var ca=cn?yc:Xd;function ha(t){var n=t&&t.constructor,e="function"==typeof n&&n.prototype||un;return t===e}function da(t){return t===t&&!Pc(t)}function fa(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==o||t in en(e)))}}function pa(t){var n=Ru(t,(function(t){return e.size===h&&e.clear(),t})),e=n.cache;return n}function ga(t,n){var e=t[1],i=n[1],r=e|i,o=r<(b|y|j),s=i==j&&e==x||i==j&&e==E&&t[7].length<=n[8]||i==(j|E)&&n[7].length<=n[8]&&e==x;if(!o&&!s)return t;i&b&&(t[2]=n[2],r|=e&b?0:_);var a=n[3];if(a){var l=t[3];t[3]=l?ts(l,a,n[4]):a,t[4]=l?ui(t[3],d):n[4]}return a=n[5],a&&(l=t[5],t[5]=l?ns(l,a,n[6]):a,t[6]=l?ui(t[5],d):n[6]),a=n[7],a&&(t[7]=a),i&j&&(t[8]=null==t[8]?n[8]:Gn(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=r,t}function va(t){var n=[];if(null!=t)for(var e in en(t))n.push(e);return n}function ma(t){return gn.call(t)}function ba(t,n,i){return n=Bn(n===o?t.length-1:n,0),function(){var r=arguments,o=-1,s=Bn(r.length-n,0),a=e(s);while(++o<s)a[o]=r[n+o];o=-1;var l=e(n+1);while(++o<n)l[o]=r[o];return l[n]=i(a),ye(t,this,l)}}function ya(t,n){return n.length<2?t:Tr(t,Eo(n,0,-1))}function _a(t,n){var e=t.length,i=Gn(n.length,e),r=es(t);while(i--){var s=n[i];t[i]=ra(s,e)?r[s]:o}return t}function xa(t,n){if(("constructor"!==n||"function"!==typeof t[n])&&"__proto__"!=n)return t[n]}var Pa=Ea(Co),Ca=On||function(t,n){return ae.setTimeout(t,n)},wa=Ea(wo);function ja(t,n,e){var i=n+"";return wa(t,ea(i,Aa(Ks(i),e)))}function Ea(t){var n=0,e=0;return function(){var i=Wn(),r=A-(i-e);if(e=i,r>0){if(++n>=k)return arguments[0]}else n=0;return t.apply(o,arguments)}}function Sa(t,n){var e=-1,i=t.length,r=i-1;n=n===o?i:n;while(++e<n){var s=vo(e,r),a=t[s];t[s]=t[e],t[e]=a}return t.length=n,t}var Da=pa((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Mt,(function(t,e,i,r){n.push(i?r.replace(Vt,"$1"):e||t)})),n}));function Ia(t){if("string"==typeof t||Nc(t))return t;var n=t+"";return"0"==n&&1/t==-L?"-0":n}function ka(t){if(null!=t){try{return hn.call(t)}catch(n){}try{return t+""}catch(n){}}return""}function Aa(t,n){return xe(G,(function(e){var i="_."+e[0];n&e[1]&&!je(t,i)&&t.push(i)})),t.sort()}function Ta(t){if(t instanceof ji)return t.clone();var n=new wi(t.__wrapped__,t.__chain__);return n.__actions__=es(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Oa(t,n,i){n=(i?oa(t,n,i):n===o)?1:Bn(Xc(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];var s=0,a=0,l=e(Mn(r/n));while(s<r)l[a++]=Eo(t,s,s+=n);return l}function Ma(t){var n=-1,e=null==t?0:t.length,i=0,r=[];while(++n<e){var o=t[n];o&&(r[i++]=o)}return r}function La(){var t=arguments.length;if(!t)return[];var n=e(t-1),i=arguments[0],r=t;while(r--)n[r-1]=arguments[r];return De(sc(i)?es(i):[i],Er(n,1))}var Fa=yo((function(t,n){return uc(t)?yr(t,Er(n,1,uc,!0)):[]})),Na=yo((function(t,n){var e=il(n);return uc(e)&&(e=o),uc(t)?yr(t,Er(n,1,uc,!0),Gs(e,2)):[]})),Ra=yo((function(t,n){var e=il(n);return uc(e)&&(e=o),uc(t)?yr(t,Er(n,1,uc,!0),o,e):[]}));function za(t,n,e){var i=null==t?0:t.length;return i?(n=e||n===o?1:Xc(n),Eo(t,n<0?0:n,i)):[]}function $a(t,n,e){var i=null==t?0:t.length;return i?(n=e||n===o?1:Xc(n),n=i-n,Eo(t,0,n<0?0:n)):[]}function Ba(t,n){return t&&t.length?Fo(t,Gs(n,3),!0,!0):[]}function Ga(t,n){return t&&t.length?Fo(t,Gs(n,3),!0):[]}function Ua(t,n,e,i){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&oa(t,n,e)&&(e=0,i=r),wr(t,n,e,i)):[]}function Va(t,n,e){var i=null==t?0:t.length;if(!i)return-1;var r=null==e?0:Xc(e);return r<0&&(r=Bn(i+r,0)),Fe(t,Gs(n,3),r)}function Wa(t,n,e){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return e!==o&&(r=Xc(e),r=e<0?Bn(i+r,0):Gn(r,i-1)),Fe(t,Gs(n,3),r,!0)}function Xa(t){var n=null==t?0:t.length;return n?Er(t,1):[]}function Ha(t){var n=null==t?0:t.length;return n?Er(t,L):[]}function Ya(t,n){var e=null==t?0:t.length;return e?(n=n===o?1:Xc(n),Er(t,n)):[]}function qa(t){var n=-1,e=null==t?0:t.length,i={};while(++n<e){var r=t[n];i[r[0]]=r[1]}return i}function Ja(t){return t&&t.length?t[0]:o}function Ka(t,n,e){var i=null==t?0:t.length;if(!i)return-1;var r=null==e?0:Xc(e);return r<0&&(r=Bn(i+r,0)),Ne(t,n,r)}function Za(t){var n=null==t?0:t.length;return n?Eo(t,0,-1):[]}var Qa=yo((function(t){var n=Se(t,$o);return n.length&&n[0]===t[0]?zr(n):[]})),tl=yo((function(t){var n=il(t),e=Se(t,$o);return n===il(e)?n=o:e.pop(),e.length&&e[0]===t[0]?zr(e,Gs(n,2)):[]})),nl=yo((function(t){var n=il(t),e=Se(t,$o);return n="function"==typeof n?n:o,n&&e.pop(),e.length&&e[0]===t[0]?zr(e,o,n):[]}));function el(t,n){return null==t?"":zn.call(t,n)}function il(t){var n=null==t?0:t.length;return n?t[n-1]:o}function rl(t,n,e){var i=null==t?0:t.length;if(!i)return-1;var r=i;return e!==o&&(r=Xc(e),r=r<0?Bn(i+r,0):Gn(r,i-1)),n===n?fi(t,n,r):Fe(t,ze,r,!0)}function ol(t,n){return t&&t.length?lo(t,Xc(n)):o}var sl=yo(al);function al(t,n){return t&&t.length&&n&&n.length?po(t,n):t}function ll(t,n,e){return t&&t.length&&n&&n.length?po(t,n,Gs(e,2)):t}function ul(t,n,e){return t&&t.length&&n&&n.length?po(t,n,o,e):t}var cl=Fs((function(t,n){var e=null==t?0:t.length,i=fr(t,n);return go(t,Se(n,(function(t){return ra(t,e)?+t:t})).sort(Zo)),i}));function hl(t,n){var e=[];if(!t||!t.length)return e;var i=-1,r=[],o=t.length;n=Gs(n,3);while(++i<o){var s=t[i];n(s,i,t)&&(e.push(s),r.push(i))}return go(t,r),e}function dl(t){return null==t?t:Yn.call(t)}function fl(t,n,e){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&oa(t,n,e)?(n=0,e=i):(n=null==n?0:Xc(n),e=e===o?i:Xc(e)),Eo(t,n,e)):[]}function pl(t,n){return Do(t,n)}function gl(t,n,e){return Io(t,n,Gs(e,2))}function vl(t,n){var e=null==t?0:t.length;if(e){var i=Do(t,n);if(i<e&&ec(t[i],n))return i}return-1}function ml(t,n){return Do(t,n,!0)}function bl(t,n,e){return Io(t,n,Gs(e,2),!0)}function yl(t,n){var e=null==t?0:t.length;if(e){var i=Do(t,n,!0)-1;if(ec(t[i],n))return i}return-1}function _l(t){return t&&t.length?ko(t):[]}function xl(t,n){return t&&t.length?ko(t,Gs(n,2)):[]}function Pl(t){var n=null==t?0:t.length;return n?Eo(t,1,n):[]}function Cl(t,n,e){return t&&t.length?(n=e||n===o?1:Xc(n),Eo(t,0,n<0?0:n)):[]}function wl(t,n,e){var i=null==t?0:t.length;return i?(n=e||n===o?1:Xc(n),n=i-n,Eo(t,n<0?0:n,i)):[]}function jl(t,n){return t&&t.length?Fo(t,Gs(n,3),!1,!0):[]}function El(t,n){return t&&t.length?Fo(t,Gs(n,3)):[]}var Sl=yo((function(t){return Oo(Er(t,1,uc,!0))})),Dl=yo((function(t){var n=il(t);return uc(n)&&(n=o),Oo(Er(t,1,uc,!0),Gs(n,2))})),Il=yo((function(t){var n=il(t);return n="function"==typeof n?n:o,Oo(Er(t,1,uc,!0),o,n)}));function kl(t){return t&&t.length?Oo(t):[]}function Al(t,n){return t&&t.length?Oo(t,Gs(n,2)):[]}function Tl(t,n){return n="function"==typeof n?n:o,t&&t.length?Oo(t,o,n):[]}function Ol(t){if(!t||!t.length)return[];var n=0;return t=we(t,(function(t){if(uc(t))return n=Bn(t.length,n),!0})),Xe(n,(function(n){return Se(t,Be(n))}))}function Ml(t,n){if(!t||!t.length)return[];var e=Ol(t);return null==n?e:Se(e,(function(t){return ye(n,o,t)}))}var Ll=yo((function(t,n){return uc(t)?yr(t,n):[]})),Fl=yo((function(t){return Ro(we(t,uc))})),Nl=yo((function(t){var n=il(t);return uc(n)&&(n=o),Ro(we(t,uc),Gs(n,2))})),Rl=yo((function(t){var n=il(t);return n="function"==typeof n?n:o,Ro(we(t,uc),o,n)})),zl=yo(Ol);function $l(t,n){return zo(t||[],n||[],ar)}function Bl(t,n){return zo(t||[],n||[],Po)}var Gl=yo((function(t){var n=t.length,e=n>1?t[n-1]:o;return e="function"==typeof e?(t.pop(),e):o,Ml(t,e)}));function Ul(t){var n=_i(t);return n.__chain__=!0,n}function Vl(t,n){return n(t),t}function Wl(t,n){return n(t)}var Xl=Fs((function(t){var n=t.length,e=n?t[0]:0,i=this.__wrapped__,r=function(n){return fr(n,t)};return!(n>1||this.__actions__.length)&&i instanceof ji&&ra(e)?(i=i.slice(e,+e+(n?1:0)),i.__actions__.push({func:Wl,args:[r],thisArg:o}),new wi(i,this.__chain__).thru((function(t){return n&&!t.length&&t.push(o),t}))):this.thru(r)}));function Hl(){return Ul(this)}function Yl(){return new wi(this.value(),this.__chain__)}function ql(){this.__values__===o&&(this.__values__=Vc(this.value()));var t=this.__index__>=this.__values__.length,n=t?o:this.__values__[this.__index__++];return{done:t,value:n}}function Jl(){return this}function Kl(t){var n,e=this;while(e instanceof Ci){var i=Ta(e);i.__index__=0,i.__values__=o,n?r.__wrapped__=i:n=i;var r=i;e=e.__wrapped__}return r.__wrapped__=t,n}function Zl(){var t=this.__wrapped__;if(t instanceof ji){var n=t;return this.__actions__.length&&(n=new ji(this)),n=n.reverse(),n.__actions__.push({func:Wl,args:[dl],thisArg:o}),new wi(n,this.__chain__)}return this.thru(dl)}function Ql(){return No(this.__wrapped__,this.__actions__)}var tu=ss((function(t,n,e){dn.call(t,e)?++t[e]:dr(t,e,1)}));function nu(t,n,e){var i=sc(t)?Ce:Pr;return e&&oa(t,n,e)&&(n=o),i(t,Gs(n,3))}function eu(t,n){var e=sc(t)?we:jr;return e(t,Gs(n,3))}var iu=gs(Va),ru=gs(Wa);function ou(t,n){return Er(pu(t,n),1)}function su(t,n){return Er(pu(t,n),L)}function au(t,n,e){return e=e===o?1:Xc(e),Er(pu(t,n),e)}function lu(t,n){var e=sc(t)?xe:_r;return e(t,Gs(n,3))}function uu(t,n){var e=sc(t)?Pe:xr;return e(t,Gs(n,3))}var cu=ss((function(t,n,e){dn.call(t,e)?t[e].push(n):dr(t,e,[n])}));function hu(t,n,e,i){t=lc(t)?t:zh(t),e=e&&!i?Xc(e):0;var r=t.length;return e<0&&(e=Bn(r+e,0)),Fc(t)?e<=r&&t.indexOf(n,e)>-1:!!r&&Ne(t,n,e)>-1}var du=yo((function(t,n,i){var r=-1,o="function"==typeof n,s=lc(t)?e(t.length):[];return _r(t,(function(t){s[++r]=o?ye(n,t,i):Br(t,n,i)})),s})),fu=ss((function(t,n,e){dr(t,e,n)}));function pu(t,n){var e=sc(t)?Se:io;return e(t,Gs(n,3))}function gu(t,n,e,i){return null==t?[]:(sc(n)||(n=null==n?[]:[n]),e=i?o:e,sc(e)||(e=null==e?[]:[e]),uo(t,n,e))}var vu=ss((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));function mu(t,n,e){var i=sc(t)?Ie:Ue,r=arguments.length<3;return i(t,Gs(n,4),e,r,_r)}function bu(t,n,e){var i=sc(t)?ke:Ue,r=arguments.length<3;return i(t,Gs(n,4),e,r,xr)}function yu(t,n){var e=sc(t)?we:jr;return e(t,zu(Gs(n,3)))}function _u(t){var n=sc(t)?ir:_o;return n(t)}function xu(t,n,e){n=(e?oa(t,n,e):n===o)?1:Xc(n);var i=sc(t)?rr:xo;return i(t,n)}function Pu(t){var n=sc(t)?or:jo;return n(t)}function Cu(t){if(null==t)return 0;if(lc(t))return Fc(t)?pi(t):t.length;var n=qs(t);return n==Z||n==ot?t.size:to(t).length}function wu(t,n,e){var i=sc(t)?Ae:So;return e&&oa(t,n,e)&&(n=o),i(t,Gs(n,3))}var ju=yo((function(t,n){if(null==t)return[];var e=n.length;return e>1&&oa(t,n[0],n[1])?n=[]:e>2&&oa(n[0],n[1],n[2])&&(n=[n[0]]),uo(t,Er(n,1),[])})),Eu=Tn||function(){return ae.Date.now()};function Su(t,n){if("function"!=typeof n)throw new sn(u);return t=Xc(t),function(){if(--t<1)return n.apply(this,arguments)}}function Du(t,n,e){return n=e?o:n,n=t&&null==n?t.length:n,Is(t,j,o,o,o,o,n)}function Iu(t,n){var e;if("function"!=typeof n)throw new sn(u);return t=Xc(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=o),e}}var ku=yo((function(t,n,e){var i=b;if(e.length){var r=ui(e,Bs(ku));i|=C}return Is(t,i,n,e,r)})),Au=yo((function(t,n,e){var i=b|y;if(e.length){var r=ui(e,Bs(Au));i|=C}return Is(n,i,t,e,r)}));function Tu(t,n,e){n=e?o:n;var i=Is(t,x,o,o,o,o,o,n);return i.placeholder=Tu.placeholder,i}function Ou(t,n,e){n=e?o:n;var i=Is(t,P,o,o,o,o,o,n);return i.placeholder=Ou.placeholder,i}function Mu(t,n,e){var i,r,s,a,l,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new sn(u);function g(n){var e=i,s=r;return i=r=o,h=n,a=t.apply(s,e),a}function v(t){return h=t,l=Ca(y,n),d?g(t):a}function m(t){var e=t-c,i=t-h,r=n-e;return f?Gn(r,s-i):r}function b(t){var e=t-c,i=t-h;return c===o||e>=n||e<0||f&&i>=s}function y(){var t=Eu();if(b(t))return _(t);l=Ca(y,m(t))}function _(t){return l=o,p&&i?g(t):(i=r=o,a)}function x(){l!==o&&Wo(l),h=0,i=c=r=l=o}function P(){return l===o?a:_(Eu())}function C(){var t=Eu(),e=b(t);if(i=arguments,r=this,c=t,e){if(l===o)return v(c);if(f)return Wo(l),l=Ca(y,n),g(c)}return l===o&&(l=Ca(y,n)),a}return n=Yc(n)||0,Pc(e)&&(d=!!e.leading,f="maxWait"in e,s=f?Bn(Yc(e.maxWait)||0,n):s,p="trailing"in e?!!e.trailing:p),C.cancel=x,C.flush=P,C}var Lu=yo((function(t,n){return br(t,1,n)})),Fu=yo((function(t,n,e){return br(t,Yc(n)||0,e)}));function Nu(t){return Is(t,S)}function Ru(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new sn(u);var e=function(){var i=arguments,r=n?n.apply(this,i):i[0],o=e.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return e.cache=o.set(r,s)||o,s};return e.cache=new(Ru.Cache||Bi),e}function zu(t){if("function"!=typeof t)throw new sn(u);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function $u(t){return Iu(2,t)}Ru.Cache=Bi;var Bu=Uo((function(t,n){n=1==n.length&&sc(n[0])?Se(n[0],Ye(Gs())):Se(Er(n,1),Ye(Gs()));var e=n.length;return yo((function(i){var r=-1,o=Gn(i.length,e);while(++r<o)i[r]=n[r].call(this,i[r]);return ye(t,this,i)}))})),Gu=yo((function(t,n){var e=ui(n,Bs(Gu));return Is(t,C,o,n,e)})),Uu=yo((function(t,n){var e=ui(n,Bs(Uu));return Is(t,w,o,n,e)})),Vu=Fs((function(t,n){return Is(t,E,o,o,o,n)}));function Wu(t,n){if("function"!=typeof t)throw new sn(u);return n=n===o?n:Xc(n),yo(t,n)}function Xu(t,n){if("function"!=typeof t)throw new sn(u);return n=null==n?0:Bn(Xc(n),0),yo((function(e){var i=e[n],r=Vo(e,0,n);return i&&De(r,i),ye(t,this,r)}))}function Hu(t,n,e){var i=!0,r=!0;if("function"!=typeof t)throw new sn(u);return Pc(e)&&(i="leading"in e?!!e.leading:i,r="trailing"in e?!!e.trailing:r),Mu(t,n,{leading:i,maxWait:n,trailing:r})}function Yu(t){return Du(t,1)}function qu(t,n){return Gu(Bo(n),t)}function Ju(){if(!arguments.length)return[];var t=arguments[0];return sc(t)?t:[t]}function Ku(t){return gr(t,g)}function Zu(t,n){return n="function"==typeof n?n:o,gr(t,g,n)}function Qu(t){return gr(t,f|g)}function tc(t,n){return n="function"==typeof n?n:o,gr(t,f|g,n)}function nc(t,n){return null==n||mr(t,n,_h(n))}function ec(t,n){return t===n||t!==t&&n!==n}var ic=ws(Lr),rc=ws((function(t,n){return t>=n})),oc=Gr(function(){return arguments}())?Gr:function(t){return Cc(t)&&dn.call(t,"callee")&&!jn.call(t,"callee")},sc=e.isArray,ac=fe?Ye(fe):Ur;function lc(t){return null!=t&&xc(t.length)&&!yc(t)}function uc(t){return Cc(t)&&lc(t)}function cc(t){return!0===t||!1===t||Cc(t)&&Mr(t)==X}var hc=Nn||Xd,dc=pe?Ye(pe):Vr;function fc(t){return Cc(t)&&1===t.nodeType&&!Tc(t)}function pc(t){if(null==t)return!0;if(lc(t)&&(sc(t)||"string"==typeof t||"function"==typeof t.splice||hc(t)||Rc(t)||oc(t)))return!t.length;var n=qs(t);if(n==Z||n==ot)return!t.size;if(ha(t))return!to(t).length;for(var e in t)if(dn.call(t,e))return!1;return!0}function gc(t,n){return Wr(t,n)}function vc(t,n,e){e="function"==typeof e?e:o;var i=e?e(t,n):o;return i===o?Wr(t,n,o,e):!!i}function mc(t){if(!Cc(t))return!1;var n=Mr(t);return n==q||n==Y||"string"==typeof t.message&&"string"==typeof t.name&&!Tc(t)}function bc(t){return"number"==typeof t&&Rn(t)}function yc(t){if(!Pc(t))return!1;var n=Mr(t);return n==J||n==K||n==W||n==it}function _c(t){return"number"==typeof t&&t==Xc(t)}function xc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=F}function Pc(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Cc(t){return null!=t&&"object"==typeof t}var wc=ge?Ye(ge):Hr;function jc(t,n){return t===n||Yr(t,n,Vs(n))}function Ec(t,n,e){return e="function"==typeof e?e:o,Yr(t,n,Vs(n),e)}function Sc(t){return Ac(t)&&t!=+t}function Dc(t){if(ca(t))throw new r(l);return qr(t)}function Ic(t){return null===t}function kc(t){return null==t}function Ac(t){return"number"==typeof t||Cc(t)&&Mr(t)==Q}function Tc(t){if(!Cc(t)||Mr(t)!=nt)return!1;var n=Cn(t);if(null===n)return!0;var e=dn.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&hn.call(e)==vn}var Oc=ve?Ye(ve):Jr;function Mc(t){return _c(t)&&t>=-F&&t<=F}var Lc=me?Ye(me):Kr;function Fc(t){return"string"==typeof t||!sc(t)&&Cc(t)&&Mr(t)==st}function Nc(t){return"symbol"==typeof t||Cc(t)&&Mr(t)==at}var Rc=be?Ye(be):Zr;function zc(t){return t===o}function $c(t){return Cc(t)&&qs(t)==ut}function Bc(t){return Cc(t)&&Mr(t)==ct}var Gc=ws(eo),Uc=ws((function(t,n){return t<=n}));function Vc(t){if(!t)return[];if(lc(t))return Fc(t)?gi(t):es(t);if(Dn&&t[Dn])return si(t[Dn]());var n=qs(t),e=n==Z?ai:n==ot?ci:zh;return e(t)}function Wc(t){if(!t)return 0===t?t:0;if(t=Yc(t),t===L||t===-L){var n=t<0?-1:1;return n*N}return t===t?t:0}function Xc(t){var n=Wc(t),e=n%1;return n===n?e?n-e:n:0}function Hc(t){return t?pr(Xc(t),0,z):0}function Yc(t){if("number"==typeof t)return t;if(Nc(t))return R;if(Pc(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Pc(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Nt,"");var e=Yt.test(t);return e||Jt.test(t)?re(t.slice(2),e?2:8):Ht.test(t)?R:+t}function qc(t){return is(t,xh(t))}function Jc(t){return t?pr(Xc(t),-F,F):0===t?t:0}function Kc(t){return null==t?"":To(t)}var Zc=as((function(t,n){if(ha(n)||lc(n))is(n,_h(n),t);else for(var e in n)dn.call(n,e)&&ar(t,e,n[e])})),Qc=as((function(t,n){is(n,xh(n),t)})),th=as((function(t,n,e,i){is(n,xh(n),t,i)})),nh=as((function(t,n,e,i){is(n,_h(n),t,i)})),eh=Fs(fr);function ih(t,n){var e=Pi(t);return null==n?e:cr(e,n)}var rh=yo((function(t,n){t=en(t);var e=-1,i=n.length,r=i>2?n[2]:o;r&&oa(n[0],n[1],r)&&(i=1);while(++e<i){var s=n[e],a=xh(s),l=-1,u=a.length;while(++l<u){var c=a[l],h=t[c];(h===o||ec(h,un[c])&&!dn.call(t,c))&&(t[c]=s[c])}}return t})),oh=yo((function(t){return t.push(o,As),ye(jh,o,t)}));function sh(t,n){return Le(t,Gs(n,3),Ir)}function ah(t,n){return Le(t,Gs(n,3),kr)}function lh(t,n){return null==t?t:Sr(t,Gs(n,3),xh)}function uh(t,n){return null==t?t:Dr(t,Gs(n,3),xh)}function ch(t,n){return t&&Ir(t,Gs(n,3))}function hh(t,n){return t&&kr(t,Gs(n,3))}function dh(t){return null==t?[]:Ar(t,_h(t))}function fh(t){return null==t?[]:Ar(t,xh(t))}function ph(t,n,e){var i=null==t?o:Tr(t,n);return i===o?e:i}function gh(t,n){return null!=t&&Zs(t,n,Fr)}function vh(t,n){return null!=t&&Zs(t,n,Nr)}var mh=bs((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=gn.call(n)),t[n]=e}),wd(Dd)),bh=bs((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=gn.call(n)),dn.call(t,n)?t[n].push(e):t[n]=[e]}),Gs),yh=yo(Br);function _h(t){return lc(t)?er(t):to(t)}function xh(t){return lc(t)?er(t,!0):no(t)}function Ph(t,n){var e={};return n=Gs(n,3),Ir(t,(function(t,i,r){dr(e,n(t,i,r),t)})),e}function Ch(t,n){var e={};return n=Gs(n,3),Ir(t,(function(t,i,r){dr(e,i,n(t,i,r))})),e}var wh=as((function(t,n,e){so(t,n,e)})),jh=as((function(t,n,e,i){so(t,n,e,i)})),Eh=Fs((function(t,n){var e={};if(null==t)return e;var i=!1;n=Se(n,(function(n){return n=Go(n,t),i||(i=n.length>1),n})),is(t,Rs(t),e),i&&(e=gr(e,f|p|g,Ts));var r=n.length;while(r--)Mo(e,n[r]);return e}));function Sh(t,n){return Ih(t,zu(Gs(n)))}var Dh=Fs((function(t,n){return null==t?{}:co(t,n)}));function Ih(t,n){if(null==t)return{};var e=Se(Rs(t),(function(t){return[t]}));return n=Gs(n),ho(t,e,(function(t,e){return n(t,e[0])}))}function kh(t,n,e){n=Go(n,t);var i=-1,r=n.length;r||(r=1,t=o);while(++i<r){var s=null==t?o:t[Ia(n[i])];s===o&&(i=r,s=e),t=yc(s)?s.call(t):s}return t}function Ah(t,n,e){return null==t?t:Po(t,n,e)}function Th(t,n,e,i){return i="function"==typeof i?i:o,null==t?t:Po(t,n,e,i)}var Oh=Ds(_h),Mh=Ds(xh);function Lh(t,n,e){var i=sc(t),r=i||hc(t)||Rc(t);if(n=Gs(n,4),null==e){var o=t&&t.constructor;e=r?i?new o:[]:Pc(t)&&yc(o)?Pi(Cn(t)):{}}return(r?xe:Ir)(t,(function(t,i,r){return n(e,t,i,r)})),e}function Fh(t,n){return null==t||Mo(t,n)}function Nh(t,n,e){return null==t?t:Lo(t,n,Bo(e))}function Rh(t,n,e,i){return i="function"==typeof i?i:o,null==t?t:Lo(t,n,Bo(e),i)}function zh(t){return null==t?[]:qe(t,_h(t))}function $h(t){return null==t?[]:qe(t,xh(t))}function Bh(t,n,e){return e===o&&(e=n,n=o),e!==o&&(e=Yc(e),e=e===e?e:0),n!==o&&(n=Yc(n),n=n===n?n:0),pr(Yc(t),n,e)}function Gh(t,n,e){return n=Wc(n),e===o?(e=n,n=0):e=Wc(e),t=Yc(t),Rr(t,n,e)}function Uh(t,n,e){if(e&&"boolean"!=typeof e&&oa(t,n,e)&&(n=e=o),e===o&&("boolean"==typeof n?(e=n,n=o):"boolean"==typeof t&&(e=t,t=o)),t===o&&n===o?(t=0,n=1):(t=Wc(t),n===o?(n=t,t=0):n=Wc(n)),t>n){var i=t;t=n,n=i}if(e||t%1||n%1){var r=Hn();return Gn(t+r*(n-t+ie("1e-"+((r+"").length-1))),n)}return vo(t,n)}var Vh=ds((function(t,n,e){return n=n.toLowerCase(),t+(e?Wh(n):n)}));function Wh(t){return bd(Kc(t).toLowerCase())}function Xh(t){return t=Kc(t),t&&t.replace(Zt,ti).replace(Vn,"")}function Hh(t,n,e){t=Kc(t),n=To(n);var i=t.length;e=e===o?i:pr(Xc(e),0,i);var r=e;return e-=n.length,e>=0&&t.slice(e,r)==n}function Yh(t){return t=Kc(t),t&&Dt.test(t)?t.replace(Et,ni):t}function qh(t){return t=Kc(t),t&&Ft.test(t)?t.replace(Lt,"\\$&"):t}var Jh=ds((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Kh=ds((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Zh=hs("toLowerCase");function Qh(t,n,e){t=Kc(t),n=Xc(n);var i=n?pi(t):0;if(!n||i>=n)return t;var r=(n-i)/2;return xs(Ln(r),e)+t+xs(Mn(r),e)}function td(t,n,e){t=Kc(t),n=Xc(n);var i=n?pi(t):0;return n&&i<n?t+xs(n-i,e):t}function nd(t,n,e){t=Kc(t),n=Xc(n);var i=n?pi(t):0;return n&&i<n?xs(n-i,e)+t:t}function ed(t,n,e){return e||null==n?n=0:n&&(n=+n),Xn(Kc(t).replace(Rt,""),n||0)}function id(t,n,e){return n=(e?oa(t,n,e):n===o)?1:Xc(n),bo(Kc(t),n)}function rd(){var t=arguments,n=Kc(t[0]);return t.length<3?n:n.replace(t[1],t[2])}var od=ds((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));function sd(t,n,e){return e&&"number"!=typeof e&&oa(t,n,e)&&(n=e=o),e=e===o?z:e>>>0,e?(t=Kc(t),t&&("string"==typeof n||null!=n&&!Oc(n))&&(n=To(n),!n&&ri(t))?Vo(gi(t),0,e):t.split(n,e)):[]}var ad=ds((function(t,n,e){return t+(e?" ":"")+bd(n)}));function ld(t,n,e){return t=Kc(t),e=null==e?0:pr(Xc(e),0,t.length),n=To(n),t.slice(e,e+n.length)==n}function ud(t,n,e){var i=_i.templateSettings;e&&oa(t,n,e)&&(n=o),t=Kc(t),n=th({},n,i,ks);var r,s,a=th({},n.imports,i.imports,ks),l=_h(a),u=qe(a,l),c=0,h=n.interpolate||Qt,d="__p += '",f=rn((n.escape||Qt).source+"|"+h.source+"|"+(h===At?Wt:Qt).source+"|"+(n.evaluate||Qt).source+"|$","g"),p="//# sourceURL="+(dn.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Jn+"]")+"\n";t.replace(f,(function(n,e,i,o,a,l){return i||(i=o),d+=t.slice(c,l).replace(tn,ei),e&&(r=!0,d+="' +\n__e("+e+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+n.length,n})),d+="';\n";var g=dn.call(n,"variable")&&n.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(Pt,""):d).replace(Ct,"$1").replace(wt,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=_d((function(){return Ut(l,p+"return "+d).apply(o,u)}));if(v.source=d,mc(v))throw v;return v}function cd(t){return Kc(t).toLowerCase()}function hd(t){return Kc(t).toUpperCase()}function dd(t,n,e){if(t=Kc(t),t&&(e||n===o))return t.replace(Nt,"");if(!t||!(n=To(n)))return t;var i=gi(t),r=gi(n),s=Ke(i,r),a=Ze(i,r)+1;return Vo(i,s,a).join("")}function fd(t,n,e){if(t=Kc(t),t&&(e||n===o))return t.replace(zt,"");if(!t||!(n=To(n)))return t;var i=gi(t),r=Ze(i,gi(n))+1;return Vo(i,0,r).join("")}function pd(t,n,e){if(t=Kc(t),t&&(e||n===o))return t.replace(Rt,"");if(!t||!(n=To(n)))return t;var i=gi(t),r=Ke(i,gi(n));return Vo(i,r).join("")}function gd(t,n){var e=D,i=I;if(Pc(n)){var r="separator"in n?n.separator:r;e="length"in n?Xc(n.length):e,i="omission"in n?To(n.omission):i}t=Kc(t);var s=t.length;if(ri(t)){var a=gi(t);s=a.length}if(e>=s)return t;var l=e-pi(i);if(l<1)return i;var u=a?Vo(a,0,l).join(""):t.slice(0,l);if(r===o)return u+i;if(a&&(l+=u.length-l),Oc(r)){if(t.slice(l).search(r)){var c,h=u;r.global||(r=rn(r.source,Kc(Xt.exec(r))+"g")),r.lastIndex=0;while(c=r.exec(h))var d=c.index;u=u.slice(0,d===o?l:d)}}else if(t.indexOf(To(r),l)!=l){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i}function vd(t){return t=Kc(t),t&&St.test(t)?t.replace(jt,vi):t}var md=ds((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),bd=hs("toUpperCase");function yd(t,n,e){return t=Kc(t),n=e?o:n,n===o?oi(t)?yi(t):Me(t):t.match(n)||[]}var _d=yo((function(t,n){try{return ye(t,o,n)}catch(e){return mc(e)?e:new r(e)}})),xd=Fs((function(t,n){return xe(n,(function(n){n=Ia(n),dr(t,n,ku(t[n],t))})),t}));function Pd(t){var n=null==t?0:t.length,e=Gs();return t=n?Se(t,(function(t){if("function"!=typeof t[1])throw new sn(u);return[e(t[0]),t[1]]})):[],yo((function(e){var i=-1;while(++i<n){var r=t[i];if(ye(r[0],this,e))return ye(r[1],this,e)}}))}function Cd(t){return vr(gr(t,f))}function wd(t){return function(){return t}}function jd(t,n){return null==t||t!==t?n:t}var Ed=vs(),Sd=vs(!0);function Dd(t){return t}function Id(t){return Qr("function"==typeof t?t:gr(t,f))}function kd(t){return ro(gr(t,f))}function Ad(t,n){return oo(t,gr(n,f))}var Td=yo((function(t,n){return function(e){return Br(e,t,n)}})),Od=yo((function(t,n){return function(e){return Br(t,e,n)}}));function Md(t,n,e){var i=_h(n),r=Ar(n,i);null!=e||Pc(n)&&(r.length||!i.length)||(e=n,n=t,t=this,r=Ar(n,_h(n)));var o=!(Pc(e)&&"chain"in e)||!!e.chain,s=yc(t);return xe(r,(function(e){var i=n[e];t[e]=i,s&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),r=e.__actions__=es(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),e.__chain__=n,e}return i.apply(t,De([this.value()],arguments))})})),t}function Ld(){return ae._===this&&(ae._=mn),this}function Fd(){}function Nd(t){return t=Xc(t),yo((function(n){return lo(n,t)}))}var Rd=_s(Se),zd=_s(Ce),$d=_s(Ae);function Bd(t){return sa(t)?Be(Ia(t)):fo(t)}function Gd(t){return function(n){return null==t?o:Tr(t,n)}}var Ud=Cs(),Vd=Cs(!0);function Wd(){return[]}function Xd(){return!1}function Hd(){return{}}function Yd(){return""}function qd(){return!0}function Jd(t,n){if(t=Xc(t),t<1||t>F)return[];var e=z,i=Gn(t,z);n=Gs(n),t-=z;var r=Xe(i,n);while(++e<t)n(e);return r}function Kd(t){return sc(t)?Se(t,Ia):Nc(t)?[t]:es(Da(Kc(t)))}function Zd(t){var n=++fn;return Kc(t)+n}var Qd=ys((function(t,n){return t+n}),0),tf=Es("ceil"),nf=ys((function(t,n){return t/n}),1),ef=Es("floor");function rf(t){return t&&t.length?Cr(t,Dd,Lr):o}function of(t,n){return t&&t.length?Cr(t,Gs(n,2),Lr):o}function sf(t){return $e(t,Dd)}function af(t,n){return $e(t,Gs(n,2))}function lf(t){return t&&t.length?Cr(t,Dd,eo):o}function uf(t,n){return t&&t.length?Cr(t,Gs(n,2),eo):o}var cf=ys((function(t,n){return t*n}),1),hf=Es("round"),df=ys((function(t,n){return t-n}),0);function ff(t){return t&&t.length?We(t,Dd):0}function pf(t,n){return t&&t.length?We(t,Gs(n,2)):0}return _i.after=Su,_i.ary=Du,_i.assign=Zc,_i.assignIn=Qc,_i.assignInWith=th,_i.assignWith=nh,_i.at=eh,_i.before=Iu,_i.bind=ku,_i.bindAll=xd,_i.bindKey=Au,_i.castArray=Ju,_i.chain=Ul,_i.chunk=Oa,_i.compact=Ma,_i.concat=La,_i.cond=Pd,_i.conforms=Cd,_i.constant=wd,_i.countBy=tu,_i.create=ih,_i.curry=Tu,_i.curryRight=Ou,_i.debounce=Mu,_i.defaults=rh,_i.defaultsDeep=oh,_i.defer=Lu,_i.delay=Fu,_i.difference=Fa,_i.differenceBy=Na,_i.differenceWith=Ra,_i.drop=za,_i.dropRight=$a,_i.dropRightWhile=Ba,_i.dropWhile=Ga,_i.fill=Ua,_i.filter=eu,_i.flatMap=ou,_i.flatMapDeep=su,_i.flatMapDepth=au,_i.flatten=Xa,_i.flattenDeep=Ha,_i.flattenDepth=Ya,_i.flip=Nu,_i.flow=Ed,_i.flowRight=Sd,_i.fromPairs=qa,_i.functions=dh,_i.functionsIn=fh,_i.groupBy=cu,_i.initial=Za,_i.intersection=Qa,_i.intersectionBy=tl,_i.intersectionWith=nl,_i.invert=mh,_i.invertBy=bh,_i.invokeMap=du,_i.iteratee=Id,_i.keyBy=fu,_i.keys=_h,_i.keysIn=xh,_i.map=pu,_i.mapKeys=Ph,_i.mapValues=Ch,_i.matches=kd,_i.matchesProperty=Ad,_i.memoize=Ru,_i.merge=wh,_i.mergeWith=jh,_i.method=Td,_i.methodOf=Od,_i.mixin=Md,_i.negate=zu,_i.nthArg=Nd,_i.omit=Eh,_i.omitBy=Sh,_i.once=$u,_i.orderBy=gu,_i.over=Rd,_i.overArgs=Bu,_i.overEvery=zd,_i.overSome=$d,_i.partial=Gu,_i.partialRight=Uu,_i.partition=vu,_i.pick=Dh,_i.pickBy=Ih,_i.property=Bd,_i.propertyOf=Gd,_i.pull=sl,_i.pullAll=al,_i.pullAllBy=ll,_i.pullAllWith=ul,_i.pullAt=cl,_i.range=Ud,_i.rangeRight=Vd,_i.rearg=Vu,_i.reject=yu,_i.remove=hl,_i.rest=Wu,_i.reverse=dl,_i.sampleSize=xu,_i.set=Ah,_i.setWith=Th,_i.shuffle=Pu,_i.slice=fl,_i.sortBy=ju,_i.sortedUniq=_l,_i.sortedUniqBy=xl,_i.split=sd,_i.spread=Xu,_i.tail=Pl,_i.take=Cl,_i.takeRight=wl,_i.takeRightWhile=jl,_i.takeWhile=El,_i.tap=Vl,_i.throttle=Hu,_i.thru=Wl,_i.toArray=Vc,_i.toPairs=Oh,_i.toPairsIn=Mh,_i.toPath=Kd,_i.toPlainObject=qc,_i.transform=Lh,_i.unary=Yu,_i.union=Sl,_i.unionBy=Dl,_i.unionWith=Il,_i.uniq=kl,_i.uniqBy=Al,_i.uniqWith=Tl,_i.unset=Fh,_i.unzip=Ol,_i.unzipWith=Ml,_i.update=Nh,_i.updateWith=Rh,_i.values=zh,_i.valuesIn=$h,_i.without=Ll,_i.words=yd,_i.wrap=qu,_i.xor=Fl,_i.xorBy=Nl,_i.xorWith=Rl,_i.zip=zl,_i.zipObject=$l,_i.zipObjectDeep=Bl,_i.zipWith=Gl,_i.entries=Oh,_i.entriesIn=Mh,_i.extend=Qc,_i.extendWith=th,Md(_i,_i),_i.add=Qd,_i.attempt=_d,_i.camelCase=Vh,_i.capitalize=Wh,_i.ceil=tf,_i.clamp=Bh,_i.clone=Ku,_i.cloneDeep=Qu,_i.cloneDeepWith=tc,_i.cloneWith=Zu,_i.conformsTo=nc,_i.deburr=Xh,_i.defaultTo=jd,_i.divide=nf,_i.endsWith=Hh,_i.eq=ec,_i.escape=Yh,_i.escapeRegExp=qh,_i.every=nu,_i.find=iu,_i.findIndex=Va,_i.findKey=sh,_i.findLast=ru,_i.findLastIndex=Wa,_i.findLastKey=ah,_i.floor=ef,_i.forEach=lu,_i.forEachRight=uu,_i.forIn=lh,_i.forInRight=uh,_i.forOwn=ch,_i.forOwnRight=hh,_i.get=ph,_i.gt=ic,_i.gte=rc,_i.has=gh,_i.hasIn=vh,_i.head=Ja,_i.identity=Dd,_i.includes=hu,_i.indexOf=Ka,_i.inRange=Gh,_i.invoke=yh,_i.isArguments=oc,_i.isArray=sc,_i.isArrayBuffer=ac,_i.isArrayLike=lc,_i.isArrayLikeObject=uc,_i.isBoolean=cc,_i.isBuffer=hc,_i.isDate=dc,_i.isElement=fc,_i.isEmpty=pc,_i.isEqual=gc,_i.isEqualWith=vc,_i.isError=mc,_i.isFinite=bc,_i.isFunction=yc,_i.isInteger=_c,_i.isLength=xc,_i.isMap=wc,_i.isMatch=jc,_i.isMatchWith=Ec,_i.isNaN=Sc,_i.isNative=Dc,_i.isNil=kc,_i.isNull=Ic,_i.isNumber=Ac,_i.isObject=Pc,_i.isObjectLike=Cc,_i.isPlainObject=Tc,_i.isRegExp=Oc,_i.isSafeInteger=Mc,_i.isSet=Lc,_i.isString=Fc,_i.isSymbol=Nc,_i.isTypedArray=Rc,_i.isUndefined=zc,_i.isWeakMap=$c,_i.isWeakSet=Bc,_i.join=el,_i.kebabCase=Jh,_i.last=il,_i.lastIndexOf=rl,_i.lowerCase=Kh,_i.lowerFirst=Zh,_i.lt=Gc,_i.lte=Uc,_i.max=rf,_i.maxBy=of,_i.mean=sf,_i.meanBy=af,_i.min=lf,_i.minBy=uf,_i.stubArray=Wd,_i.stubFalse=Xd,_i.stubObject=Hd,_i.stubString=Yd,_i.stubTrue=qd,_i.multiply=cf,_i.nth=ol,_i.noConflict=Ld,_i.noop=Fd,_i.now=Eu,_i.pad=Qh,_i.padEnd=td,_i.padStart=nd,_i.parseInt=ed,_i.random=Uh,_i.reduce=mu,_i.reduceRight=bu,_i.repeat=id,_i.replace=rd,_i.result=kh,_i.round=hf,_i.runInContext=t,_i.sample=_u,_i.size=Cu,_i.snakeCase=od,_i.some=wu,_i.sortedIndex=pl,_i.sortedIndexBy=gl,_i.sortedIndexOf=vl,_i.sortedLastIndex=ml,_i.sortedLastIndexBy=bl,_i.sortedLastIndexOf=yl,_i.startCase=ad,_i.startsWith=ld,_i.subtract=df,_i.sum=ff,_i.sumBy=pf,_i.template=ud,_i.times=Jd,_i.toFinite=Wc,_i.toInteger=Xc,_i.toLength=Hc,_i.toLower=cd,_i.toNumber=Yc,_i.toSafeInteger=Jc,_i.toString=Kc,_i.toUpper=hd,_i.trim=dd,_i.trimEnd=fd,_i.trimStart=pd,_i.truncate=gd,_i.unescape=vd,_i.uniqueId=Zd,_i.upperCase=md,_i.upperFirst=bd,_i.each=lu,_i.eachRight=uu,_i.first=Ja,Md(_i,function(){var t={};return Ir(_i,(function(n,e){dn.call(_i.prototype,e)||(t[e]=n)})),t}(),{chain:!1}),_i.VERSION=s,xe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){_i[t].placeholder=_i})),xe(["drop","take"],(function(t,n){ji.prototype[t]=function(e){e=e===o?1:Bn(Xc(e),0);var i=this.__filtered__&&!n?new ji(this):this.clone();return i.__filtered__?i.__takeCount__=Gn(e,i.__takeCount__):i.__views__.push({size:Gn(e,z),type:t+(i.__dir__<0?"Right":"")}),i},ji.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),xe(["filter","map","takeWhile"],(function(t,n){var e=n+1,i=e==T||e==M;ji.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Gs(t,3),type:e}),n.__filtered__=n.__filtered__||i,n}})),xe(["head","last"],(function(t,n){var e="take"+(n?"Right":"");ji.prototype[t]=function(){return this[e](1).value()[0]}})),xe(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");ji.prototype[t]=function(){return this.__filtered__?new ji(this):this[e](1)}})),ji.prototype.compact=function(){return this.filter(Dd)},ji.prototype.find=function(t){return this.filter(t).head()},ji.prototype.findLast=function(t){return this.reverse().find(t)},ji.prototype.invokeMap=yo((function(t,n){return"function"==typeof t?new ji(this):this.map((function(e){return Br(e,t,n)}))})),ji.prototype.reject=function(t){return this.filter(zu(Gs(t)))},ji.prototype.slice=function(t,n){t=Xc(t);var e=this;return e.__filtered__&&(t>0||n<0)?new ji(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==o&&(n=Xc(n),e=n<0?e.dropRight(-n):e.take(n-t)),e)},ji.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ji.prototype.toArray=function(){return this.take(z)},Ir(ji.prototype,(function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),r=_i[i?"take"+("last"==n?"Right":""):n],s=i||/^find/.test(n);r&&(_i.prototype[n]=function(){var n=this.__wrapped__,a=i?[1]:arguments,l=n instanceof ji,u=a[0],c=l||sc(n),h=function(t){var n=r.apply(_i,De([t],a));return i&&d?n[0]:n};c&&e&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,g=l&&!f;if(!s&&c){n=g?n:new ji(this);var v=t.apply(n,a);return v.__actions__.push({func:Wl,args:[h],thisArg:o}),new wi(v,d)}return p&&g?t.apply(this,a):(v=this.thru(h),p?i?v.value()[0]:v.value():v)})})),xe(["pop","push","shift","sort","splice","unshift"],(function(t){var n=an[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);_i.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return n.apply(sc(r)?r:[],t)}return this[e]((function(e){return n.apply(sc(e)?e:[],t)}))}})),Ir(ji.prototype,(function(t,n){var e=_i[n];if(e){var i=e.name+"";dn.call(ue,i)||(ue[i]=[]),ue[i].push({name:n,func:e})}})),ue[ms(o,y).name]=[{name:"wrapper",func:o}],ji.prototype.clone=Ei,ji.prototype.reverse=Si,ji.prototype.value=Di,_i.prototype.at=Xl,_i.prototype.chain=Hl,_i.prototype.commit=Yl,_i.prototype.next=ql,_i.prototype.plant=Kl,_i.prototype.reverse=Zl,_i.prototype.toJSON=_i.prototype.valueOf=_i.prototype.value=Ql,_i.prototype.first=_i.prototype.head,Dn&&(_i.prototype[Dn]=Jl),_i},xi=_i();ae._=xi,r=function(){return xi}.call(n,e,n,i),r===o||(i.exports=r)}).call(this)}).call(this,e("a5a4"),e("23fb")(t))},"3be8":function(t,n,e){},"3c7d":function(t,n,e){"use strict";var i=e("1bf6"),r=e.n(i);r.a},"44de":function(t,n,e){var i=e("88dd"),r=e("0e44").set;t.exports=function(t,n,e){var o,s=n.constructor;return s!==e&&"function"==typeof s&&(o=s.prototype)!==e.prototype&&i(o)&&r&&r(t,o),t}},4773:function(t,n,e){"use strict";var i=e("17b1"),r=e.n(i);r.a},"4a81":function(t,n,e){"use strict";var i=e("1952"),r=e.n(i);r.a},"4dbf":function(t,n,e){"use strict";var i=e("3be8"),r=e.n(i);r.a},"4fd0":function(t,n,e){},"539d":function(t,n,e){var i=e("b2f5"),r=e("f01a"),o=e("b6f1"),s=e("c9ea4"),a="["+s+"]",l="​",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),h=function(t,n,e){var r={},a=o((function(){return!!s[t]()||l[t]()!=l})),u=r[t]=a?n(d):s[t];e&&(r[e]=u),i(i.P+i.F*a,"String",r)},d=h.trim=function(t,n){return t=String(r(t)),1&n&&(t=t.replace(u,"")),2&n&&(t=t.replace(c,"")),t};t.exports=h},"54d7":function(t,n,e){"use strict";var i=e("c2e4"),r=e.n(i);r.a},5824:function(t,n,e){var i=e("f691");t.exports=function(t,n){return new(i(t))(n)}},"608b":function(t,n,e){"use strict";var i=e("b2f5"),r=e("2d43")(5),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e("644a")(o)},"65ff":function(t,n,e){},6969:function(t,n,e){t.exports=e.p+"assets/img/detail1.8cfda5c1.png"},7364:function(t,n,e){var i=e("ddf7").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in r||e("dad2")&&i(r,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},7549:function(t,n,e){},"7d93":function(t,n,e){"use strict";var i=e("c085"),r=e.n(i);r.a},"7edb":function(t,n,e){},"82d8":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"breadcrumb"},[e("i",{staticClass:"icon ce-crumb__icon"},[t._v("")]),e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.crumb,(function(n,i){return e("el-breadcrumb-item",{key:i},[t._v(t._s(n))])})),1)],1)},r=[],o={name:"Breadcrumb",data:function(){return{}},props:{crumb:Array}},s=o,a=(e("c437"),e("6691")),l=Object(a["a"])(s,i,r,!1,null,"4bd73897",null);n["a"]=l.exports},8499:function(t,n,e){"use strict";var i=e("dfd9"),r=e.n(i);r.a},8939:function(t,n,e){},8998:function(t,n,e){},"8b67":function(t,n,e){"use strict";var i=e("65ff"),r=e.n(i);r.a},"8cee":function(t){t.exports=JSON.parse('{"左/右排除":"#iconzuoyoupaichu_huaban","左/右连接":"#iconzuoyoulianjie_huaban","全连接":"#iconquanlianjie_huaban","并集":"#iconbingji_huaban","交集":"#iconjiaoji","字段计算":"#iconziduanjisuan_huaban","数字计算":"#iconshuzijisuan_huaban","日期计算":"#iconriqijisuan_huaban","字符串计算":"#iconzifuchuanjisuan_huaban","条件过滤":"#icontiaojianguolv_huaban","去重插件":"#iconquzhongchajian_huaban","数据排序":"#iconshujupaixu","数据处理":"#iconshujuchuli_huaban","数据统计":"#iconshujutongji_huaban","采样分流":"#iconcaiyangfenliu_huaban","分组统计":"#iconfenzutongji_huaban","次数统计":"#iconcishutongji_huaban","频率筛选":"#iconpinshuaishaixuan_huaban","字段过滤":"#iconziduanguolv_huaban","自定义脚本":"#iconzidingyijiaoben_huaban","启动方案":"#iconqidongfangan_huaban","公式":"#icongongshi_huaban","执行SQL脚本":"#iconzhihangSQLjiaoben_huaban","导出":"#icondaochu_huaban","XML输出":"#iconXMLshuchu_huaban","EXCEL输出":"#iconEXCELshuchu_huaban","CSV输出":"#iconCSVshuchu_huaban","展示":"#iconzhanshi_huaban","散点图可视化插件":"#iconsandiantukeshihua_huaban","结果组件":"#iconjieguo_huaban","甘特图可视化插件":"#icongantetukeshihua_huaban","雷达图可视化插件":"#iconleidatu_huaban","饼图可视化插件":"#iconbingtu_huaban","柱状图可视化插件":"#iconzhutu_huaban","折线图可视化插件":"#iconzhexiantu_huaban","关系计算":"#iconguanxijisuan_huaban","旅馆同行数据构造插件":"#iconlvguantonghang_huaban","网吧同行数据构造插件":"#iconwangbatonghang_huaban","客运同行数据构造插件":"#iconkeyuntonghang_huaban","铁路同行数据构造插件":"#icontielutonghang_huaban","民航同行数据构造插件":"#iconminhangtonghang_huaban","民航订票数据构造插件":"#iconminhangtonghang_huaban","同行数据输出插件":"#icontonghangshuju_huaban","文件处理":"#iconwenjianchuli_huaban","ftp文件删除":"#iconftpshanchuwenjian_huaban","yrEos文件库输出":"#iconyrEoswenjiankushuchu_huaban","redis操作插件":"#iconredis_huaban","hdfs删除插件":"#iconHDFSshanchu_huaban","ftp文件上传":"#iconftpshangchuan_huaban","文件生产插件":"#iconwenjianshengchan_huaban","文件转换":"#iconwenjianzhuanhuan_huaban","数据迁移":"#iconshujuqianyi_huaban","加载":"#iconjiazai_huaban","抽取":"#iconchouqu_huaban","xml解析hbase输出":"#iconxmljiexihbase_huaban","solr表输出":"#iconsolrbiaoshuchu_huaban","odps输出":"#iconodpsshuchu_huaban","Gbase表输出":"#icongbasebiaoshuchu_huaban","greenPlum输出":"#iconGreenPlum_huaban","KAFKA生产者":"#iconkafka-copy-copy","habse表输出":"#iconhbase_huaban","关系库表输出":"#iconguanxikushuchu_huaban","csv输出":"#iconCSVshuchu_huaban","hive表输出":"#iconhive_huaban","parquet文件输出插件":"#iconparquetwenjianshuchu_huaban","redis表输出":"#iconredis_huaban","RCFILE输出":"#iconRCFILEshuchu_huaban","标签数据源输入插件":"#iconbiaoqianshujuyuanshuru_huaban","webservice客户端插件":"#iconwebservicekehuduan_huaban","hbase表输入":"#iconhbase_huaban","关系库表输入":"#iconguanxikushuru_huaban","Gbase表输入":"#icongbasebiaoshuchu_huaban","odps输入":"#iconODPSshuru","KAFKA消费者":"#iconkafka-copy-copy","solr输入插件":"#iconkafka-copy-copy","hive数据输入":"#iconhive_huaban","业务分析":"#iconyewufenxi_huaban","轨迹分析":"#iconguiji1","习惯路线分析":"#iconguiji","往返分析插件":"#iconwangfan","套牌车筛选":"#icontaopaicheshaixuan_huaban","卡口组合概率统计":"#iconqiakou","集中出现预警":"#iconjizhongchuxianyujing_huaban","集中出现预警新":"#iconjizhongchuxianyujing_huaban","轨迹概率统计":"#iconguiji1","数据转换":"#iconshujuzhuanhuan_huaban","获取图片":"#iconhuoqutupian_huaban","添加Json字段":"#icontianjiaJSONziduan_huaban","字符串替换":"#iconzifuchuantihuan_huaban","时间过滤合并":"#iconshijianguolvhebing_huaban","null值替换":"#iconnullzhitihuan_huaban","身份证号操作":"#iconshenfenzhengcaozuo_huaban","添加字段":"#icontianjiaziduan_huaban","字符串截取":"#iconzifuchuanjiequ_huaban","字符串操作":"#iconzifuchuancaozuo_huaban"}')},9098:function(t,n,e){t.exports=e.p+"assets/img/detail4.109b4bd5.png"},"9c28":function(t,n,e){"use strict";var i=e("f033"),r=e.n(i);r.a},a009:function(t,n,e){"use strict";var i=e("a098"),r=e.n(i);r.a},a098:function(t,n,e){},a546:function(t,n,e){"use strict";var i=e("c2b9"),r=e.n(i);r.a},a5b1:function(t,n,e){"use strict";var i=e("f0a5"),r=e.n(i);r.a},aae4:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"main"},[e("Breadcrumb",{attrs:{crumb:t.crumb}}),e("DataTreeVue"),t.newModel?e("NewModel",{on:{backTo:t.backTo,newModel:t.addModelTab}}):t._e(),e("ModelTabs",{directives:[{name:"show",rawName:"v-show",value:t.modelTabs,expression:"modelTabs"}],ref:"modelPage",on:{backTo:t.backTo}}),e("div",{staticClass:"div_right"},[e("div",{staticClass:"div_right_top"},[e("div",{staticClass:"div_search"},[e("el-form",{attrs:{inline:!0,size:"mini"},nativeOn:{"":function(t){t.preventDefault()}}},[e("el-form-item",[e("el-input",{attrs:{size:"small",placeholder:"请输入模型名称"},model:{value:t.inputModelValue,callback:function(n){t.inputModelValue=n},expression:"inputModelValue"}})],1),e("el-form-item",[e("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.searchTableEvent}},[t._v("查询")])],1)],1)],1),e("el-button",{staticClass:"btn_new_model",attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.openNewModel}},[t._v("新建模型")])],1),e("ModelingCenterTable",{ref:"modelingCenterTable",staticClass:"table_content",on:{tableItemEvent:t.onTableItemEvent,modelEdit:t.modelEdit}}),e("ModelEditDailogVue",{ref:"modelEditDailog"})],1)],1)},r=[],o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","tooltip-effect":"light","cell-class-name":"ce-ellipsis",size:"small"}},[e("el-table-column",{attrs:{prop:"name",label:"模型名称",width:"160",align:"left","show-overflow-tooltip":!0}}),e("el-table-column",{attrs:{prop:"date",label:"发布日期",width:"120",align:"center"}}),e("el-table-column",{attrs:{prop:"sort",label:"模型分类",align:"center"}}),e("el-table-column",{attrs:{prop:"explain",label:"模型说明",width:"120",align:"center"}}),e("el-table-column",{attrs:{label:"状态",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("i",{staticClass:"icon ce_link pl5 pr5 f18",attrs:{title:t.tipStatus},domProps:{innerHTML:t._s(n.row.status)},on:{click:function(e){return t.handleEdit6(n.$index,n.row)}}})]}}])}),e("el-table-column",{attrs:{label:"操作",width:"220",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return t._l(n.row.icons,(function(i,r){return e("i",{key:r,staticClass:"icon ce_link pl5 pr5 f18",attrs:{title:i.tip},domProps:{innerHTML:t._s(i.icon)},on:{click:function(e){return t.handleEdit(n.$index,r)}}})}))}}])})],1),e("el-pagination",{staticClass:"mt5 mb5 tc",attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.changePage}})],1)},s=[],a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("el-dialog",{attrs:{title:"基础配置",visible:t.dialogFormVisible},on:{"update:visible":function(n){t.dialogFormVisible=n}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{staticClass:"form-item-select",attrs:{label:"运行实例:","label-width":t.formLabelWidth,size:"mini"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.instance,callback:function(n){t.$set(t.form,"instance",n)},expression:"form.instance"}},t._l(t.optInstanceData,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{staticClass:"form-item-select",attrs:{label:"运行模式:","label-width":t.formLabelWidth,size:"mini"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.mode,callback:function(n){t.$set(t.form,"mode",n)},expression:"form.mode"}},t._l(t.optProcessModeData,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{staticClass:"form-item-select",attrs:{label:"日志级别:","label-width":t.formLabelWidth,size:"mini"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.logLevel,callback:function(n){t.$set(t.form,"logLevel",n)},expression:"form.logLevel"}},t._l(t.optLogLevelData,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{staticClass:"form-item-select",attrs:{label:"处理模式:","label-width":t.formLabelWidth,size:"mini"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.processMode,callback:function(n){t.$set(t.form,"processMode",n)},expression:"form.processMode"}},t._l(t.optProcessModeData,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{staticClass:"form-item-radio",attrs:{label:"调度计划:","label-width":t.formLabelWidth}},[e("el-radio-group",{attrs:{size:"mini"},model:{value:t.form.dispatchPlan,callback:function(n){t.$set(t.form,"dispatchPlan",n)},expression:"form.dispatchPlan"}},t._l(t.radioDispatchPlan,(function(t){return e("el-radio-button",{key:t.value,attrs:{border:"",label:t.label}})})),1)],1),e("el-form-item",{staticClass:"form-item-radio",attrs:{label:"调度方案说明 :","label-width":t.formLabelWidth,size:"mini"}},[e("el-input",{staticClass:"ta_content",attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(n){t.textarea=n},expression:"textarea"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:function(n){t.dialogFormVisible=!1}}},[t._v("保存")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.dialogFormVisible=!1}}},[t._v("停用")])],1)],1)],1)},l=[];function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var c={name:"ModelEditDailog",data:function(){var t;return t={radioDispatchPlan:[{id:0,value:"0",label:"定时"},{id:1,value:"1",label:"手动"},{id:2,value:"2",label:"一次性"},{id:3,value:"3",label:"间隔"},{id:4,value:"4",label:"cron表达式"}],optInstanceData:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}],optProcessModeData:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}],optLogLevelData:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}]},u(t,"optProcessModeData",[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}]),u(t,"gridData",[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}]),u(t,"dialogTableVisible",!0),u(t,"dialogFormVisible",!1),u(t,"form",{name:"",instance:"",mode:"",logLevel:"",processMode:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",dispatchPlan:"0"}),u(t,"formLabelWidth","120px"),u(t,"textarea",""),t},methods:{handleClose:function(t){this.$confirm("确认关闭？").then((function(n){t()})).catch((function(t){}))},show:function(){this.dialogFormVisible=!this.dialogFormVisible},radioChangeListener:function(){this.$message("value")}}},h=c,d=(e("8499"),e("6691")),f=Object(d["a"])(h,a,l,!1,null,"149a9712",null),p=f.exports,g={name:"ModelCenterTable",components:{ModelEditDailog:p},data:function(){return{tipStatus:"状态",currentPage:1,total:0,pageSize:10,is_stripe:!0,tableData:[{date:"2016-05-02",name:"王小虎",operation:"上海",explain:"普陀区",sort:"上海市普陀区金沙江路 1518 弄",zip:200333,status:"&#xe66b",icons:[{icon:"&#xe6c0;",tip:"编辑"},{icon:"&#xe650;",tip:"执行"},{icon:"&#xe656;",tip:"基础设置"},{icon:"&#xe6f4;",tip:"复制方案"},{icon:"&#xe605;",tip:"重命名"},{icon:"&#xe65f;",tip:"删除"},{icon:"&#xe6f2;",tip:"下载"}]},{date:"2016-05-02",name:"王小虎",operation:"上海",explain:"普陀区",sort:"上海市普陀区金沙江路 1518 弄",zip:200333,status:"&#xe66b",icons:[{icon:"&#xe6c0;",tip:"编辑"},{icon:"&#xe650;",tip:"执行"},{icon:"&#xe656;",tip:"基础设置"},{icon:"&#xe6f4;",tip:"复制方案"},{icon:"&#xe605;",tip:"重命名"},{icon:"&#xe65f;",tip:"删除"},{icon:"&#xe6f2;",tip:"下载"}]},{date:"2016-05-02",name:"王小虎",operation:"上海",explain:"普陀区",sort:"上海市普陀区金沙江路 1518 弄",zip:200333,status:"&#xe66b",icons:[{icon:"&#xe6c0;",tip:"编辑"},{icon:"&#xe650;",tip:"执行"},{icon:"&#xe656;",tip:"基础设置"},{icon:"&#xe6f4;",tip:"复制方案"},{icon:"&#xe605;",tip:"重命名"},{icon:"&#xe65f;",tip:"删除"},{icon:"&#xe6f2;",tip:"下载"}]}]}},methods:{handleEdit:function(t,n){0==n&&this.$emit("modelEdit",t),2==n&&this.$emit("tableItemEvent",t,n)},refSearchModel:function(t){this.$message(t),this.tableData=[{date:"2016-05-02",name:t,operation:"上海",explain:"普陀区",sort:"上海市普陀区金沙江路 1518 弄",zip:200333}]},refPageChange:function(t){this.$message("当前页 "+t)},changePage:function(t){}},created:function(){this.changePage(1),this.total=this.tableData.length}},v=g,m=(e("4dbf"),Object(d["a"])(v,o,s,!1,null,"4d59e23e",null)),b=m.exports,y=e("82d8"),_=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"dataTree"},[e("el-input",{staticClass:"ce-search",attrs:{placeholder:"名称过滤",size:"medium"},model:{value:t.filterText,callback:function(n){t.filterText=n},expression:"filterText"}},[e("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})]),e("div",{staticClass:"ce-tree selectn"},[e("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tree",staticClass:"filter-tree",attrs:{data:t.data,props:t.defaultProps,"node-key":"id","expand-on-click-node":!0,"filter-node-method":t.filterNode,"highlight-current":!0},on:{"node-contextmenu":t.rightMenu}})],1),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.menuVisible,expression:"menuVisible"}],staticClass:"ce-tree__menu",attrs:{id:"ce_menu"}},t._l(t.treeMenu,(function(n,i){return e("li",{key:i,on:{click:t.addAnalyse}},[t._v(t._s(n.name))])})),0)],1)},x=[],P=(e("f763"),e("debc")),C=e.n(P),w={name:"DataTree",data:function(){return{menuVisible:!1,filterText:"",selectedNode:{},parentLabel:String,treeMenu:[{name:"创建分析",path:"/result"}],data:[],defaultProps:{children:"children",label:"label"},loading:!0}},watch:{filterText:function(t){this.$refs.tree.filter(t)}},methods:{initTree:function(){var t=this;this.$axios.get("/getTree").then((function(n){n.data.forEach((function(t,n){t.id=n,t.children.length&&t.children.forEach((function(t,e){t.id=n+"_"+e}))})),t.data=n.data,t.loading=!1}))},filterNode:function(t,n){return!t||-1!==n.label.indexOf(t)},addAnalyse:function(){},rightMenu:function(t,n,e,i){if(2===e.level){this.menuVisible=!1;var r=document.querySelector("#ce_menu");r.style.left=t.clientX+10+"px",r.style.top=t.clientY-10+"px",this.selectedNode=n,this.$refs.tree.setCurrentNode(n),this.parentLabel=e.parent.data.label}}},mounted:function(){var t=this;document.addEventListener("click",(function(n){0===C()(n.target).closest("#menu").length&&(t.menuVisible=!1)}))},created:function(){this.initTree()}},j=w,E=(e("4773"),Object(d["a"])(j,_,x,!1,null,"0ebdd338",null)),S=E.exports,D=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"newModel"},[e("div",{staticClass:"ce-search-outer"},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.backTo}},[t._v("返回\n        ")]),e("div",{staticClass:"r w250"},[e("el-input",{attrs:{size:"small",placeholder:"请输入模型名称"},model:{value:t.searchVal,callback:function(n){t.searchVal=n},expression:"searchVal"}})],1)],1),e("ul",{staticClass:"ce-model-type"},[t._l(t.modelStore,(function(n,i){return e("li",{key:i,staticClass:"ce-model-item"},[e("div",{staticClass:"ce-touch",on:{dblclick:t.newModel}},[e("div",{staticClass:"ce-model-box"},[e("em",{staticClass:"icon ce-model-icon",domProps:{innerHTML:t._s(n.icon)}})]),e("p",{staticClass:"ce-model-name"},[t._v(t._s(n.name))])])])})),e("li",{directives:[{name:"show",rawName:"v-show",value:!t.modelStore.length,expression:"!modelStore.length"}],staticClass:"ce-data-none p30"},[t._v("暂无数据")])],2)])},I=[],k=(e("7364"),{name:"NewModel",data:function(){return{searchVal:"",modelTemp:[{icon:"",name:"空白模板"},{icon:"&#xe655;",name:"伴随车追击"}],modelStore:[]}},watch:{searchVal:function(t){var n=t.trim();n?this.createFilter(n):this.modelInit()}},methods:{backTo:function(){this.$emit("backTo")},modelInit:function(){this.modelStore=this.modelTemp},createFilter:function(t){var n=this.modelTemp;this.modelStore=n.filter((function(n){return-1!==n.name.indexOf(t)}))},newModel:function(){this.$emit("newModel")}},created:function(){this.modelInit()}}),A=k,T=(e("dea7"),Object(d["a"])(A,D,I,!1,null,"5609119e",null)),O=T.exports,M=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"modelContainer"},[e("div",{staticClass:"ce-edit-btn"},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.addTab}},[t._v("新建")]),e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("打开")]),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.backTo}},[t._v("返回")])],1),t.editableTabs.length?e("el-tabs",{staticClass:"ce-editTabs",attrs:{type:"border-card",closable:""},on:{"tab-remove":t.removeTab},model:{value:t.editableTabsValue,callback:function(n){t.editableTabsValue=n},expression:"editableTabsValue"}},t._l(t.editableTabs,(function(t){return e("el-tab-pane",{key:t.id,attrs:{label:t.label,name:t.id}},[e("ModelPage")],1)})),1):t._e()],1)},L=[],F=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"modelPage"},[e("ModelPlugIn"),e("DataSource"),e("Attribute"),e("ModelPanel")],1)},N=[],R=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"plugs",staticClass:"modelPlugIn selectn"},[t._l(t.plugIn,(function(n,i){return e("PlugInGroup",{key:i,ref:"slide"+i,refInFor:!0,attrs:{plugInData:n,addIcon:t.addIcon,removeIcon:t.removeIcon}})})),e("div",{staticClass:"cl"})],2)},z=[],$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",{staticClass:"plugInGroup",on:{mouseleave:t.hideSlideIcon}},[t._l(t.storeList,(function(n,i){return e("li",{key:i,staticClass:"module-icon",on:{mouseenter:function(n){return t.getChildPos(n)}}},[e("div",{attrs:{draggable:!n.children},on:{dragstart:function(e){return t.addNode(n)}}},[e("div",{staticClass:"m-icon"},[e("svg",{staticClass:"eda_icon"},[e("use",{attrs:{"xlink:href":n.icon}})])]),e("p",{staticClass:"m-name"},[t._v(t._s(n.label))])]),n.detail?e("PlugDetail",{attrs:{detail:n.detail,arrowP:n.arrowPos,marginL:n.marginL}}):t._e(),n.children?e("div",{staticClass:"child-arrow"},[e("i",{staticClass:"el-icon-caret-bottom"}),e("ChildPlugIn",{attrs:{childData:n.children,isOver:t.isOver}})],1):t._e()],1)})),t.plugInData.canSlide?e("div",{staticClass:"model-a",on:{click:t.showSlideIcon}}):t._e(),t.plugInData.plugList.length?e("div",{staticClass:"groupN"},[t._v(t._s(t.plugInData.groupName))]):t._e(),t.plugInData.plugList.length?e("div",{staticClass:"group-line"}):t._e(),t.plugInData.canSlide?e("SlidePlugIn",{attrs:{plugList:t.slideList,showSlide:t.showSlide}}):t._e()],2)},B=[],G=(e("608b"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"plugDetail",style:{"margin-left":t.marginL}},[e("div",{staticClass:"arrow-i",style:{left:t.arrowP+"rem"}}),e("table",t._l(t.detail,(function(n,i){return e("tr",{key:i},[e("td",{staticClass:"bdd p5",attrs:{valign:"top"}},[e("h1",{staticClass:"b f14"},[t._v(t._s(n.title)+":")]),e("div",{attrs:{align:"center"}},[e("img",{attrs:{src:n.img_path,width:"400"}})])]),e("td",{staticClass:"bdd p5",attrs:{valign:"top"}},[e("h1",{staticClass:"b f14"},[t._v("说明:")]),e("ol",{staticClass:"nav-ol"},t._l(n.description,(function(n,i){return e("li",{key:i},[t._v(t._s(n))])})),0)])])})),0)])}),U=[],V=(e("d4d5"),{name:"PlugDetail",data:function(){return{}},props:{detail:Array,arrowP:Number,marginL:String},methods:{}}),W=V,X=(e("54d7"),Object(d["a"])(W,G,U,!1,null,"4f161ad2",null)),H=X.exports,Y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",{staticClass:"childPlugIn",class:{overPos:t.addRightC}},t._l(t.childData,(function(n,i){return e("li",{key:i,attrs:{draggable:!n.children},on:{dragstart:function(e){return e.stopPropagation(),t.addNode(n)},mouseenter:function(n){return t.getChildPos(n)}}},[e("svg",{staticClass:"eda_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":n.icon}})]),e("span",{staticClass:"plug-name"},[t._v(t._s(n.label))]),n.children?e("i",{staticClass:"el-icon-caret-right "}):t._e(),n.children?e("ChildPlugIn",{staticClass:"childTop",class:{childOver:t.childOver},attrs:{childData:n.children}}):t._e()],1)})),0)},q=[],J=e("6e6d"),K=new J["default"],Z={name:"ChildPlugIn",data:function(){return{childOver:!1}},props:{childData:Array,isOver:Boolean},components:{ChildPlugIn:nt},computed:{addRightC:function(){return this.isOver}},methods:{addNode:function(t){K.$emit("plugNode",t)},getChildPos:function(t){var n=t.currentTarget,e=C()(window).width(),i=t.pageX-t.layerX+C()(n).width(),r=C()(n).children(".childPlugIn").outerWidth();this.childOver=e-i<r}}},Q=Z,tt=(e("a5b1"),Object(d["a"])(Q,Y,q,!1,null,"50ac9bd9",null)),nt=tt.exports,et=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.plugList.length?e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSlide,expression:"showSlide"}],staticClass:"slidePlugIn"},[e("ul",{staticClass:"slideGroup"},t._l(t.plugList,(function(n,i){return e("li",{key:i,staticClass:"module-icon",attrs:{draggable:"true"},on:{dragstart:function(e){return t.addNode(n)}}},[e("div",{staticClass:"m-icon"},[e("svg",{staticClass:"eda_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":n.icon}})])]),e("p",{staticClass:"m-name"},[t._v(t._s(n.label))])])})),0)]):t._e()},it=[],rt={name:"SlidePlugIn",props:{plugList:Array,showSlide:Boolean},data:function(){return{}},methods:{addNode:function(t){K.$emit("plugNode",t)}},created:function(){}},ot=rt,st=(e("abaa"),Object(d["a"])(ot,et,it,!1,null,"cdc56158",null)),at=st.exports,lt={name:"PlugInGroup",props:{plugInData:Object,addIcon:Boolean,removeIcon:Boolean},data:function(){return{isOver:!1,slideList:[],storeList:[],storeLen:5,showSlide:!1}},components:{PlugDetail:H,ChildPlugIn:nt,SlidePlugIn:at},methods:{addNode:function(t){K.$emit("plugNode",t)},getChildPos:function(t){var n=t.currentTarget,e=n.parentNode,i=C()(window).width(),r=n.offsetLeft+e.offsetLeft,o=C()(n).find(".childPlugIn").outerWidth();this.isOver=i-r<o},initList:function(){var t=this,n=this.plugInData.plugList;this.plugInData.canSlide?(this.storeList=n.filter((function(n,e){return e<t.storeLen})),this.slideList=n.filter((function(n,e){return e>=t.storeLen}))):this.storeList=n},addIconFun:function(){this.storeLen++,this.initList()},removeIconFun:function(){this.storeLen--,this.initList()},showSlideIcon:function(){this.showSlide=!0},hideSlideIcon:function(){this.showSlide=!1}},created:function(){this.initList()}},ut=lt,ct=(e("9c28"),Object(d["a"])(ut,$,B,!1,null,"2f190a5c",null)),ht=ct.exports,dt=e("8cee"),ft={name:"ModelPlugIn",components:{PlugInGroup:ht},data:function(){return{plugIn:[{plugList:[{icon:"#iconzuoyoupaichu_huaban",label:"左/右排除",arrowPos:2.8,marginL:"0",detail:[{title:"左排除图例",img_path:e("9098"),description:["排除掉右表中存在的数据,得到只有左表才有的数据。"]},{title:"右排除图例",img_path:e("e81c"),description:["排除掉左表中存在的数据,得到只有右表才有的数据。"]}]},{icon:"#iconzuoyoulianjie_huaban",label:"左/右连接",arrowPos:8.3,marginL:"calc(-4.5rem - 14px)",detail:[{title:"左连接图例",img_path:e("abd7"),description:["将两张表中相同的信息联系起来。","所得到的结果一定在左表中都存在,如果右表没有相关信息,则空白。"]},{title:"右连接图例",img_path:e("d072"),description:["将两张表中相同的信息联系起来。","所得到的结果一定在右表中都存在,如果左表没有相关信息,则空白。"]}]},{icon:"#iconquanlianjie_huaban",label:"全连接",arrowPos:13.4,marginL:"calc(-9rem - 28px)",detail:[{title:"全连接图例",img_path:e("c24c"),description:["将两张表中相同的信息联系起来。","所得到的结果一定在左表中都存在,如果右表没有相关信息,则空白。"]}]},{icon:"#iconbingji_huaban",label:"并集",arrowPos:17.6,marginL:"calc(-12.4rem - 42px)",detail:[{title:"并集图例",img_path:e("1124"),description:["将两张表的数据按照对应关系合并成一个数据。","它与连接有着本质的区别。连接是将两边的数据联系起来,而合并只是将数据打包到一起,不会分析两边的关系。","连接做的是乘法计算,而合并是做加法运算。","如果合并的数据中存在重复记录,不做去重操作。"]}]},{icon:"#iconjiaoji",label:"交集",arrowPos:22.3,marginL:"calc(-15.8rem - 56px)",detail:[{title:"交集图例",img_path:e("6969"),description:["将两张表中相同的信息联系起来。","所得到的结果一定在左右表中都存在。"]}]}],groupName:"碰撞"},{plugList:[{icon:"#iconziduanjisuan_huaban",label:"字段计算",children:[{icon:"#iconshuzijisuan_huaban",label:"数字计算"},{icon:"#iconriqijisuan_huaban",label:"日期计算"},{icon:"#iconzifuchuanjisuan_huaban",label:"字符串计算"}]},{icon:"#icontiaojianguolv_huaban",label:"条件过滤"},{icon:"#iconquzhongchajian_huaban",label:"去重插件"},{icon:"#iconshujupaixu",label:"数据排序"},{icon:"#iconshujuchuli_huaban",label:"数据处理"},{icon:"#iconshujutongji_huaban",label:"数据统计"},{icon:"#iconcaiyangfenliu_huaban",label:"采样分流"},{icon:"#iconfenzutongji_huaban",label:"分组统计"},{icon:"#iconcishutongji_huaban",label:"次数统计"},{icon:"#iconpinshuaishaixuan_huaban",label:"频率筛选"},{icon:"#iconziduanguolv_huaban",label:"字段过滤"}],canSlide:!0,groupName:"处理"},{plugList:[{icon:"#iconzidingyijiaoben_huaban",label:"自定义脚本",children:[{icon:"#iconqidongfangan_huaban",label:"启动方案"},{icon:"#icongongshi_huaban",label:"公式"},{icon:"#iconzhihangSQLjiaoben_huaban",label:"执行SQL脚本"}]},{icon:"#icondaochu_huaban",label:"导出",children:[{icon:"#iconXMLshuchu_huaban",label:"XML输出"},{icon:"#iconEXCELshuchu_huaban",label:"EXCEL输出"},{icon:"#iconCSVshuchu_huaban",label:"CSV输出"}]},{icon:"#iconzhanshi_huaban",label:"展示",children:[{icon:"#iconsandiantukeshihua_huaban",label:"散点图可视化插件"},{icon:"#iconjieguo_huaban",label:"结果组件"},{icon:"#icongantetukeshihua_huaban",label:"甘特图可视化插件"},{icon:"#iconleidatu_huaban",label:"雷达图可视化插件"},{icon:"#iconbingtu_huaban",label:"饼图可视化插件"},{icon:"#iconzhutu_huaban",label:"柱状图可视化插件"},{icon:"#iconzhexiantu_huaban",label:"折线图可视化插件"}]},{icon:"#iconguanxijisuan_huaban",label:"关系计算",children:[{icon:"#iconlvguantonghang_huaban",label:"旅馆同行数据构造插件"},{icon:"#iconwangbatonghang_huaban",label:"网吧同行数据构造插件"},{icon:"#iconkeyuntonghang_huaban",label:"客运同行数据构造插件"},{icon:"#icontielutonghang_huaban",label:"铁路同行数据构造插件"},{icon:"#iconminhangtonghang_huaban",label:"民航同行数据构造插件"},{icon:"#iconminhangtonghang_huaban",label:"民航订票数据构造插件"},{icon:"#icontonghangshuju_huaban",label:"同行数据输出插件"}]},{icon:"#iconwenjianchuli_huaban",label:"文件处理",children:[{icon:"",label:"ftp文件删除"},{icon:"",label:"yrEos文件库输出"},{icon:"",label:"redis操作插件"},{icon:"",label:"hdfs删除插件"},{icon:"",label:"ftp文件上传"},{icon:"",label:"文件生产插件"},{icon:"",label:"文件转换"}]},{icon:"",label:"数据迁移",children:[{icon:"",label:"加载",children:[{icon:"",label:"xml解析hbase输出"},{icon:"",label:"solr表输出"},{icon:"",label:"odps输出"},{icon:"",label:"Gbase表输出"},{icon:"",label:"greenPlum输出"},{icon:"",label:"KAFKA生产者"},{icon:"",label:"habse表输出"},{icon:"",label:"关系库表输出"},{icon:"",label:"csv输出"},{icon:"",label:"hive表输出"},{icon:"",label:"parquet文件输出插件"},{icon:"",label:"redis表输出"},{icon:"",label:"RCFILE输出"}]},{icon:"",label:"抽取",children:[{icon:"",label:"标签数据源输入插件"},{icon:"",label:"webservice客户端插件"},{icon:"",label:"hbase表输入"},{icon:"",label:"关系库表输入"},{icon:"",label:"Gbase表输入"},{icon:"",label:"odps输入"},{icon:"",label:"KAFKA消费者"},{icon:"",label:"solr输入插件"},{icon:"",label:"hive数据输入"}]}]},{icon:"",label:"业务分析",children:[{icon:"",label:"轨迹分析"},{icon:"",label:"习惯路线分析"},{icon:"",label:"往返分析插件"},{icon:"",label:"集中出现预警新"},{icon:"",label:"套牌车筛选"},{icon:"",label:"卡口组合概率统计"},{icon:"",label:"集中出现预警"},{icon:"",label:"轨迹概率统计"}]},{icon:"",label:"数据转换",children:[{icon:"",label:"获取图片"},{icon:"",label:"添加Json字段"},{icon:"",label:"字符串替换"},{icon:"",label:"时间过滤合并"},{icon:"",label:"null值替换"},{icon:"",label:"身份证号操作"},{icon:"",label:"添加字段"},{icon:"",label:"字符串截取"},{icon:"",label:"字符串操作"}]}],groupName:"分析"}],addIcon:!1,removeIcon:!1}},methods:{initPlug:function(){var t=this;this.plugIn.forEach((function(n){t.getIcons(n.plugList)}))},getIcons:function(t){var n=this;t.forEach((function(t){t.icon=dt[t.label],t.type="plug",t.children&&n.getIcons(t.children)}))},hasSpaceForIcon:function(){for(var t=this,n=C()(this.$refs.plugs).children(".plugInGroup"),e=C()(this.$refs.plugs).width(),i=0,r=0;r<n.length;r++)i+=n.eq(r).outerWidth();this.addIcon=e-i>96,this.removeIcon=e-i<=20,this.addIcon&&this.$nextTick((function(){t.$refs.slide1[0].addIconFun()})),this.removeIcon&&this.$nextTick((function(){t.$refs.slide1[0].removeIconFun()}))},checkSpace:function(){this.addIcon&&this.hasSpaceForIcon(),this.removeIcon&&this.hasSpaceForIcon()},initSpace:function(){var t=this;this.hasSpaceForIcon(),this.$nextTick((function(){t.checkSpace()}))}},created:function(){this.initPlug()},mounted:function(){this.initSpace();var t=this;C()(window).resize((function(){t.hasSpaceForIcon()}))}},pt=ft,gt=(e("b115"),Object(d["a"])(pt,R,z,!1,null,"a9091fec",null)),vt=gt.exports,mt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"dataSource"},[e("div",{staticClass:"left-arrow",class:{"left-arrow_show":t.slide},on:{click:t.slideSource}},[t._v("数据资源")]),e("div",{staticClass:"custom-leftNav",class:{leftNav_hide:t.slide}},[e("em",{staticClass:"icon data_a",on:{click:t.slideSource}},[t._v("")]),e("div",{staticClass:"card-title"},[t._v("数据资源")]),e("ul",{staticClass:"list-tab"},t._l(t.listTabs,(function(n,i){return e("li",{key:i,staticClass:"list-item",class:{active:i===t.tabActive},on:{click:function(n){return t.listTabClick(i)}}},[t._v(t._s(n))])})),0),e("ul",{staticClass:"tab-cont"},t._l(t.listTabs,(function(n,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:i===t.tabActive,expression:"index === tabActive"}],key:i,staticClass:"tab-child"},[0===i?e("LocalData"):t._e(),1===i?e("ExternalFile"):t._e(),2===i?e("ResultReuse"):t._e()],1)})),0)])])},bt=[],yt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"localData"},[e("div",{staticClass:"filter-b"},[e("el-input",{staticClass:"ce-search",attrs:{placeholder:"请输入资源名称搜索",size:"small"},model:{value:t.filterText,callback:function(n){t.filterText=n},expression:"filterText"}},[e("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1),e("ul",{staticClass:"list-tab"},t._l(t.listTabs,(function(n,i){return e("li",{key:i,staticClass:"list-item",class:{active:t.activeTab===i},on:{click:function(n){return t.sourceTabClick(i)}}},[t._v(t._s(n.title))])})),0),e("ul",{staticClass:"list-cont selectn"},t._l(t.listTabs,(function(n,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===i,expression:"activeTab === index"}],key:i,staticClass:"list-cont-item"},[t.activeTab===i?e("SourcesPlug",{attrs:{iconData:n.plugs}}):t._e()],1)})),0)])},_t=[],xt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"plug_box",staticClass:"sourcesPlug"},[e("div",{staticClass:"showIcon"},t._l(t.storeData,(function(n,i){return e("div",{key:i,staticClass:"sources-plug",attrs:{draggable:"true"},on:{dragstart:function(e){return t.addNode(n)}}},[e("div",{staticClass:"m-icon"},[e("svg",{staticClass:"eda_icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":n.icon}})])]),e("p",{staticClass:"m-name"},[t._v(t._s(n.label))])])})),0),e("div",{staticClass:"arrow-box"},[e("div",{staticClass:"arrow-prev",class:{active:0!==t.iconIndex},on:{click:t.prevData}}),e("div",{staticClass:"arrow-next",class:{active:t.iconIndex+t.pageCount<t.iconData.length},on:{click:t.nextData}})])])},Pt=[],Ct={name:"SourcesPlug",props:{iconData:Array},data:function(){return{storeData:[],iconH:80,colCount:3,iconIndex:0,pageCount:0}},methods:{addNode:function(t){K.$emit("plugNode",t)},initIcon:function(){this.getPageCount(),this.createFilter()},createFilter:function(){var t=this;this.storeData=this.iconData.filter((function(n,e){return e<t.pageCount+t.iconIndex&&e>=t.iconIndex}))},nextData:function(){var t=this;this.iconIndex+this.pageCount<this.iconData.length&&(this.getPageCount(),this.switchEffect((function(){t.iconIndex+=t.pageCount,t.createFilter()})))},prevData:function(){var t=this;this.iconIndex>0&&(this.getPageCount(),this.switchEffect((function(){t.iconIndex=t.iconIndex-t.pageCount<0?0:t.iconIndex-t.pageCount,t.createFilter()})))},switchEffect:function(t){var n=C()(this.$refs.plug_box).children(".showIcon");n.slideUp(300),setTimeout((function(){t(),n.fadeIn(300)}),400)},getPageCount:function(){var t=C()(this.$refs.plug_box).parent(".list-cont-item").height(),n=Math.floor(t/this.iconH);this.pageCount=n*this.colCount}},mounted:function(){this.initIcon(),C()(window).resize(this.initIcon)}},wt=Ct,jt=(e("7d93"),Object(d["a"])(wt,xt,Pt,!1,null,"6e882a5d",null)),Et=jt.exports,St={name:"LocalData",components:{SourcesPlug:Et},data:function(){return{filterText:"",listTabs:[],tabs:[{title:"人员",plugs:[{icon:"#iconrenyuan_huaban",label:"人员",type:"source"},{icon:"#iconsheanrenyuan_huaban",label:"涉案人员",type:"source"},{icon:"#iconqiankerenyuan_huaban",label:"前科人员",type:"source"},{icon:"#iconxiaoqufangwu_huaban",label:"小区房屋信息",type:"source"},{icon:"#iconminhang_huaban",label:"民航同行",type:"source"},{icon:"#iconwangba_huaban",label:"网吧同行",type:"source"}]},{title:"案件",plugs:[{icon:"#iconsheanrenyuan_huaban",label:"案件",type:"source"}]},{title:"车辆",plugs:[{icon:"#iconcheliang_huaban",label:"车辆",type:"source"}]}],activeTab:0}},methods:{sourceTabClick:function(t){this.activeTab=t},initTabs:function(){this.listTabs=this.tabs}},created:function(){this.initTabs()}},Dt=St,It=(e("cb30"),Object(d["a"])(Dt,yt,_t,!1,null,"9acda79a",null)),kt=It.exports,At=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"externalFile"},[e("div",{staticClass:"filter-b"},[e("el-input",{staticClass:"ce-search",attrs:{placeholder:"请输入资源名称搜索",size:"small"},model:{value:t.filterText,callback:function(n){t.filterText=n},expression:"filterText"}},[e("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1),e("div",{staticClass:"btn-box"},[e("el-button",{attrs:{size:"mini",type:"text"}},[t._v("导入文件")])],1),e("div",{staticClass:"tree-cont selectn"},[e("el-tree",{attrs:{data:t.treeData,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.node,r=n.data;return e("span",{staticClass:"custom-tree-node"},[i.level>1?e("span",{staticClass:"node-label",attrs:{title:i.label,draggable:"true"},on:{dragstart:function(n){return t.addNode({label:i.label,icon:"#iconshuju_huaban",type:"source"})}}},[t._v(t._s(i.label))]):e("span",[t._v(t._s(i.label))]),i.level>1?e("span",[e("el-button",{attrs:{title:"删除文件",icon:"el-icon-remove-outline",type:"text",size:"medium"},on:{click:function(){return t.remove(i,r)}}})],1):t._e()])}}])})],1)])},Tt=[],Ot=(e("cde0"),{name:"ExternalFile",data:function(){return{treeData:[],filterText:"",tree1:[{id:"1",label:"文件",children:[{id:"1_1",label:"CSV"},{id:"1_2",label:"JSON"},{id:"1_3",label:"XML"},{id:"1_4",label:"FTP"}]}]}},methods:{initTree:function(){this.treeData=this.tree1},addNode:function(t){K.$emit("plugNode",t)},append:function(t){},remove:function(t,n){var e=this,i=t.parent,r=i.data.children||i.data,o=r.findIndex((function(t){return t.id===n.id}));this.$confirm("此操作将永久删除该文件, 是否继续?","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r.splice(o,1),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.initTree()}}),Mt=Ot,Lt=(e("f8c9"),Object(d["a"])(Mt,At,Tt,!1,null,"7c6dbfed",null)),Ft=Lt.exports,Nt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"resultReuse"},[e("div",{staticClass:"filter-b"},[e("el-input",{staticClass:"ce-search",attrs:{placeholder:"请输入资源名称搜索",size:"small"},model:{value:t.filterText,callback:function(n){t.filterText=n},expression:"filterText"}},[e("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1),e("ul",{staticClass:"list-tab"},t._l(t.listTabs,(function(n,i){return e("li",{key:i,staticClass:"list-item",class:{active:t.activeTab===i},on:{click:function(n){return t.sourceTabClick(i)}}},[t._v(t._s(n))])})),0),e("div",{staticClass:"tree-cont selectn"},[e("el-tree",{attrs:{data:t.treeData,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.node;n.data;return e("span",{staticClass:"custom-tree-node"},[i.level>1?e("span",{staticClass:"node-label",attrs:{title:i.label,draggable:"true"},on:{dragstart:function(n){return t.addNode({label:i.label,icon:"#iconshuju_huaban",type:"source"})}}},[t._v(t._s(i.label))]):e("span",[t._v(t._s(i.label))])])}}])})],1)])},Rt=[],zt={name:"ResultReuse",data:function(){return{treeData:[],filterText:"",listTabs:["全部","今日","一周内","一月内"],activeTab:0,tree1:[{id:"1",label:"模型",children:[{id:"1_1",label:"时空交叉分析",type:"source",icon:"123"}]}],tree2:[{id:"1",label:"模型",children:[{id:"1_1",label:"国内旅客VS在逃人员碰撞分析"}]}]}},methods:{addNode:function(t){K.$emit("plugNode",t)},sourceTabClick:function(t){switch(this.activeTab=t,t){case 0:this.treeData=this.tree1;break;case 1:this.treeData=this.tree2;break;default:break}},initTree:function(){this.treeData=this.tree1}},created:function(){this.initTree()}},$t=zt,Bt=(e("a009"),Object(d["a"])($t,Nt,Rt,!1,null,"1f3f7a6e",null)),Gt=Bt.exports,Ut={name:"DataSource",components:{LocalData:kt,ExternalFile:Ft,ResultReuse:Gt},data:function(){return{listTabs:["本地数据","外部文件","结果复用"],tabActive:0,slide:!1}},methods:{listTabClick:function(t){this.tabActive=t},slideSource:function(){this.slide=!this.slide,K.$emit("slideS",this.slide)},hideSource:function(){var t=this;K.$on("hideSource",(function(n){t.slide=n}))},showSource:function(){var t=this;K.$on("showSource",(function(n){t.slide=!n}))}},created:function(){this.hideSource(),this.showSource()}},Vt=Ut,Wt=(e("a546"),Object(d["a"])(Vt,mt,bt,!1,null,"3450fd2c",null)),Xt=Wt.exports,Ht=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"modelPanel",class:{modelMl:t.leftShow,modelMr:t.rightShow}},[e("FlowPanelEt",{on:{slideAttr:t.slideRight,hideSource:t.closeSource}})],1)},Yt=[],qt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.easyFlowVisible?e("div",{staticClass:"flowPanelEt",style:{marginRight:t.marginRight+"px"},on:{dragover:function(n){return n.preventDefault(),t.allowDrop(n)},drop:t.drop}},[t._l(t.data.nodeList,(function(n){return e("ModelNode",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"node.show"}],key:n.id,attrs:{id:n.id,node:n},on:{deleteNode:t.deleteNode,changeNodeSite:t.changeNodeSite,editNode:t.editNode,editAttr:t.editAttr,edaFun:t.edaFun}})})),t.nodeFormVisible?e("NodeForm",{ref:"nodeForm",on:{change:t.changeVal}}):t._e(),e("PlugSetting",{ref:"setting"})],2):t._e()},Jt=[],Kt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-dialog",{attrs:{title:"节点信息","close-on-click-modal":!1,visible:t.visible,"modal-append-to-body":!1},on:{"update:visible":function(n){t.visible=n}}},[e("el-form",{ref:"dataForm",attrs:{model:t.node,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"名称"}},[e("el-input",{model:{value:t.node.name,callback:function(n){t.$set(t.node,"name",n)},expression:"node.name"}})],1)],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small",dataType:"primary"},on:{click:t.submit}},[t._v("确定")]),e("el-button",{attrs:{size:"small"},on:{click:function(n){t.visible=!1}}},[t._v("取消")])],1)],1)},Zt=[],Qt={name:"NodeForm",data:function(){return{visible:!1,node:{name:"",id:""}}},methods:{init:function(t,n){var e=this;this.visible=!0,t.nodeList.forEach((function(t){t.id===n&&(e.node.name=t.name,e.node.id=t.id)}))},submit:function(){this.visible=!1,this.$emit("change",this.node)}}},tn=Qt,nn=Object(d["a"])(tn,Kt,Zt,!1,null,"06197117",null),en=nn.exports,rn=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.easyFlowVisible?e("div",{staticClass:"flowPanel",style:{marginRight:t.marginRight+"px"},on:{dragover:function(n){return n.preventDefault(),t.allowDrop(n)},drop:t.drop}},[t._l(t.data.nodeList,(function(n){return e("flow-node",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"node.show"}],key:n.id,attrs:{id:n.id,node:n},on:{deleteNode:t.deleteNode,changeNodeSite:t.changeNodeSite,editNode:t.editNode,editAttr:t.editAttr,edaFun:t.edaFun}})})),t.nodeFormVisible?e("NodeForm",{ref:"nodeForm",on:{change:t.changeVal}}):t._e()],2):t._e()},on=[],sn=(e("34a3"),e("c441")),an=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"node",staticClass:"node selectn",style:t.flowNodeContainer,on:{mouseenter:t.showDelete,mouseleave:t.hideDelete,mouseup:t.changeNodeSite}},[e("div",{staticClass:"flow-node-header"},[e("i",{staticClass:"el-icon-link pl6",class:t.nodeClass}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.mouseEnter,expression:"mouseEnter"}],staticClass:"edit-icon"},[e("i",{staticClass:"el-icon-eleme",on:{click:t.EdaFun}}),t._v(" \n            "),e("i",{staticClass:"el-icon-edit",on:{click:t.editNode}}),t._v(" \n            "),e("i",{staticClass:"el-icon-close",on:{click:t.deleteNode}}),t._v(" \n        ")])]),e("div",{staticClass:"flow-node-body",on:{dblclick:t.editAttr}},[e("i",{staticClass:"eda_icon f20",domProps:{innerHTML:t._s(t.nodeIco)}}),e("div",{staticClass:"flow-name"},[t._v("\n            "+t._s(t.node.name)+"\n        ")])])])},ln=[],un={name:"Node",props:{node:Object},data:function(){return{mouseEnter:!1,timer:null}},computed:{flowNodeContainer:{get:function(){return{position:"absolute",width:"160px",top:this.node.top,left:this.node.left,boxShadow:this.mouseEnter?"#66a6e0 0px 0px 12px 0px":""}}},nodeClass:function(){var t={"flow-node-drag":!0};return t},nodeIco:function(){return this.node.ico}},methods:{deleteNode:function(){this.$emit("deleteNode",this.node)},editNode:function(){this.$emit("editNode",this.node.id)},showDelete:function(){this.mouseEnter=!0},hideDelete:function(){this.mouseEnter=!1},changeNodeSite:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$emit("changeNodeSite",{nodeId:t.node.id,left:t.$refs.node.style.left,top:t.$refs.node.style.top})}),300)},EdaFun:function(){this.$emit("edaFun",this.node.id,this.node.name)},editAttr:function(){this.timer&&clearTimeout(this.timer),this.$emit("editAttr",this.node.id)}},created:function(){}},cn=un,hn=(e("f936"),Object(d["a"])(cn,an,ln,!1,null,"7333f996",null)),dn=hn.exports,fn={nodeList:[],lineList:[]};function pn(){return fn}var gn={name:"FlowPanel",components:{flowNode:dn,NodeForm:en},props:{schemeId:String,varData:Object},data:function(){return{stepId:"",operatorCode:String,easyFlowVisible:!0,menuNode:{},marginRight:0,index:1,jsPlumb:null,nodeFormVisible:!1,jsplumbSetting:{Anchors:["Top","TopCenter","TopRight","TopLeft","Right","RightMiddle","Bottom","BottomCenter","BottomRight","BottomLeft","Left","LeftMiddle"],Container:"flowContainer",Connector:"Flowchart",ConnectionsDetachable:!1,DeleteEndpointsOnDetach:!1,EndpointStyle:{fill:"rgba(255,255,255,0)",outlineWidth:1},LogEnabled:!0,PaintStyle:{stroke:"#2d81b3",strokeWidth:2},Overlays:[["Arrow",{width:12,length:10,location:1}]],RenderMode:"svg"},jsplumbConnectOptions:{isSource:!0,isTarget:!0,maxConnections:1,anchor:"Continuous"},jsplumbSourceOptions:{filter:".flow-node-drag",filterExclude:!1,anchor:"Continuous",allowLoopback:!1},jsplumbTargetOptions:{filter:".flow-node-drag",filterExclude:!1,anchor:"Continuous",allowLoopback:!1},loadEasyFlowFinish:!1,data:{nodeList:[],lineList:[]}}},methods:{saveEdaData:function(t){this.$refs.edaList.saveData(t)},addEdaData:function(t){this.$refs.edaList.addData(t)},addEda:function(t,n,e,i){this.$refs.EdaO.show(e,t,n,i)},edaFun:function(t,n){this.$refs.edaList.show(t,n)},editAttr:function(t){var n=this;n.$axios.get("operatorConfig/getMethods?stepId="+t).then((function(e){if(0===e.data.code){n.operatorCode=e.data.data[0]["code"];var i=null;"multiOperator"===n.operatorCode?n.$refs.Polynomial.show(i,t,n.schemeId):"pcaTransform"===n.operatorCode?n.$refs.Pca.show(i,t,n.schemeId):n.$refs.EditA.show(i,t,n.schemeId)}else n.$message.error("获取方法失败")})).catch((function(t){console.error(t),n.$message.error("获取方法失败")}))},isSpecialOperator:function(t){return-1!=t.indexOf("pca降维transform")||-1!=t.indexOf("特征多项式")},getRowByEdaCode:function(t,n){var e=this.$refs.edaList.getRowByEdaCode(t);return n(e),e},initData:function(){var t=this;this.data.nodeList=[],this.data.lineList=[],this.$nextTick((function(){t.jsPlumb=sn["jsPlumb"].getInstance(),t.$nextTick((function(){t.jsPlumbInit()}))}))},changeVal:function(t){var n=this;console.log("修改步骤名称： FlowPanel.vue-changeVal"),this.data.nodeList.filter((function(e){e.id===t.id&&n.$axios.get("/modelingConfig/renameStep?stepName="+t.name+"&stepId="+t.id).then((function(i){0===i.data.code?(e.name=t.name,n.$message.success("步骤名称修改成功!")):n.$message.error("步骤名称修改失败!")}))}))},getMenuNode:function(t){this.menuNode=t},allowDrop:function(){return!0},drop:function(t){this.addNode(t,this.menuNode)},initMargin:function(t){this.marginRight=t?400:0},jsPlumbInit:function(){var t=this;this.jsPlumb.ready((function(){t.jsPlumb.importDefaults(t.jsplumbSetting),t.jsPlumb.setSuspendDrawing(!1,!0),t.loadEasyFlow(),t.jsPlumb.bind("click",(function(n,e){t.$confirm("确定删除所点击的线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.jsPlumb.deleteConnection(n)})).catch((function(){}))})),t.jsPlumb.bind("connection",(function(n){var e=n.source.id,i=n.target.id;t.$axios.get("/modelingConfig/addRelation?fromStepId="+e+"&toStepId="+i).then((function(n){0===n.data.code&&t.loadEasyFlowFinish&&t.data.lineList.push({from:e,to:i})}))})),t.jsPlumb.bind("connectionDetached",(function(n){console.log("connectionDetached",n),t.deleteLine(n.sourceId,n.targetId)})),t.jsPlumb.bind("connectionMoved",(function(n){t.changeLine(n.originalSourceId,n.originalTargetId)})),t.jsPlumb.bind("contextmenu",(function(t){console.log("contextmenu",t)})),t.jsPlumb.bind("beforeDrop",(function(n){var e=n.sourceId,i=n.targetId;if(e===i)return t.$message.error("不能连接自己"),!1;for(var r=0;r<t.data.lineList.length;r++){var o=t.data.lineList[r];if(o.from===e)return t.$message.error("只能有一个输出哦"),!1;if(o.to===i)return t.$message.error("只能有一个输入哦"),!1;if(o.from===e&&o.to===i)return t.$message.error("不能重复连线"),!1;if(o.from===i&&o.to===e)return t.$message.error("不能回环哦"),!1;if(t.checkOneRoad(e,i))return t.$message.error("不允许存在多条链路"),!1}return!0})),t.jsPlumb.bind("beforeDetach",(function(t){console.log("beforeDetach",t)}))}))},checkOneRoad:function(t,n){var e=[];return this.data.lineList.forEach((function(t){-1===e.indexOf(t.from)&&e.push(t.from),-1===e.indexOf(t.to)&&e.push(t.to)})),-1===e.indexOf(n)&&-1===e.indexOf(t)},loadEasyFlow:function(){for(var t=0;t<this.data.nodeList.length;t++){var n=this.data.nodeList[t];this.jsPlumb.makeSource(n.id,this.jsplumbSourceOptions),this.jsPlumb.makeTarget(n.id,this.jsplumbTargetOptions),this.jsPlumb.draggable(n.id,{containment:"parent"})}for(var e=0;e<this.data.lineList.length;e++){var i=this.data.lineList[e];this.jsPlumb.connect({source:i.from,target:i.to},this.jsplumbConnectOptions)}this.$nextTick((function(){this.loadEasyFlowFinish=!0}))},getNodes:function(){console.log(sn["jsPlumb"]),console.log(sn["jsPlumb"].Defaults)},getLines:function(){console.log("线",sn["jsPlumb"].getConnections())},deleteLine:function(t,n){var e=this;this.$axios.get("/modelingConfig/removeRelation?fromStepId="+t+"&toStepId="+n).then((function(i){0===i.data.code&&(e.data.lineList=e.data.lineList.filter((function(e){return e.from!==t&&e.to!==n})),e.$message.success("步骤连线删除成功!"))}))},changeLine:function(t,n){this.deleteLine(t,n)},changeNodeSite:function(t){var n=this;this.data.nodeList.forEach((function(e){if(e.id===t.nodeId){var i=parseInt(t.left.replace("px","")),r=parseInt(t.top.replace("px",""));n.$axios.get("/modelingConfig/moveStep?stepId="+t.nodeId+"&x="+i+"&y="+r).then(),e.left=t.left,e.top=t.top,console.log("修改节点位置： x->"+t.left+", y->"+t.top)}}))},addNode:function(t,n){var e=this,i=this.index++,r=t.offsetX-80,o=t.offsetY-25,s=JSON.stringify({schemeId:this.schemeId,stepName:n.label+"_"+i,x:r,y:o,operatorId:n.id}),a="";this.$axios.post("/modelingConfig/addStep",s,{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(t){0===t.data.code&&(a=t.data.data,e.data.nodeList.push({id:a,name:n.label+"_"+i,left:r+"px",top:o+"px",ico:n.icon,show:!0}),e.$nextTick((function(){this.jsPlumb.makeSource(a,this.jsplumbSourceOptions),this.jsPlumb.makeTarget(a,this.jsplumbTargetOptions),this.jsPlumb.draggable(a,{containment:"parent"})})))})).catch((function(t){console.log(t),e.$message.error("新增方案步骤失败!")}))},nodeRightMenu:function(t,n){this.menu.show=!0,this.menu.curNodeId=t,this.menu.left=n.x+"px",this.menu.top=n.y+"px"},deleteNode:function(t){var n=this,e=t.id,i=t.name;return this.$confirm("确定要删除步骤["+i+"]?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then((function(){n.$axios.get("/modelingConfig/removeStep?stepId="+e).then((function(t){0===t.data.code?(n.data.nodeList=n.data.nodeList.filter((function(t){return t.id===e&&(t.show=!1),!0})),n.$nextTick((function(){console.log("删除"+e),this.jsPlumb.removeAllEndpoints(e)})),n.$message.success("步骤删除成功!")):n.$message.error("步骤删除失败!")}))})).catch((function(){})),!0},editNode:function(t){this.nodeFormVisible=!0,this.$nextTick((function(){this.$refs.nodeForm.init(this.data,t)}))},dataReload:function(){var t=this;this.easyFlowVisible=!1,this.data.nodeList=[],this.data.lineList=[];this.$nextTick((function(){t.$axios.get("/modelingConfig/queryStep?schemeId="+t.schemeId).then((function(n){0===n.data.code?(n.data.data.nodeList.forEach((function(t){t.left=t.left+"px",t.top=t.top+"px",t.ico=operatorIcon[t.operatorName],delete t.operatorName})),t.data=n.data.data):(t.$message.error("请求后台数据失败!"),t.data=pn()),t.easyFlowVisible=!0,t.$nextTick((function(){t.jsPlumb=sn["jsPlumb"].getInstance(),t.$nextTick((function(){t.jsPlumbInit()}))}))}))}))},changeLabel:function(){var t=this.jsPlumb.getConnections({source:"nodeA",target:"nodeB"});t[0].setLabel({label:"   ",cssClass:"labelClass"})},getAttr:function(t){console.log(t)},pushEdaTaskListTable:function(t){this.$emit("pushEdaTaskListTable",t)},deleteEdaTaskListTable:function(t,n){this.$emit("deleteEdaTaskListTable",t,n)}},created:function(){}},vn=gn,mn=(e("b3a8"),Object(d["a"])(vn,rn,on,!1,null,"c2155f06",null)),bn=mn.exports,yn=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"contextmenu",rawName:"v-contextmenu",value:t.menu,expression:"menu"}],ref:"node",staticClass:"modelNode node selectn",style:t.flowNodeContainer,on:{mouseenter:t.showDelete,mouseleave:t.hideDelete,mouseup:t.changeNodeSite}},[e("div",{staticClass:"flow-node-header"},[e("i",{staticClass:"el-icon-link pl6",class:t.nodeClass,attrs:{title:"连线"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.mouseEnter,expression:"mouseEnter"}],staticClass:"edit-icon"},[e("i",{staticClass:"el-icon-edit",attrs:{title:"重命名"},on:{click:t.editNode}}),t._v(" \n            "),e("i",{staticClass:"el-icon-close",attrs:{title:"删除"},on:{click:t.deleteNode}}),t._v(" \n        ")])]),e("div",{staticClass:"flow-node-body",on:{dblclick:function(n){return t.editAttr(t.node)}}},[e("div",{staticClass:"m-icon"},[e("svg",{staticClass:"eda_icon"},[e("use",{attrs:{"xlink:href":t.node.ico}})])]),e("div",{staticClass:"flow-name"},[t._v("\n            "+t._s(t.node.name)+"\n        ")])])])},_n=[],xn={name:"ModelNode",extends:dn,methods:{editAttr:function(t){this.$emit("editAttr",t)},deleteFn:function(){},debugging:function(){},codyDispense:function(){},inputFn:function(){},outputFn:function(){},threadCount:function(){},detailFn:function(){},handleFn:function(){},sampling:function(){}},created:function(){},computed:{menu:function(){return[{icon:"",name:"调试",fn:this.debugging},{icon:"",name:"复制分发",fn:this.codyDispense},{icon:"",name:"输入",fn:this.inputFn},{icon:"",name:"输出",fn:this.outputFn},{icon:"",name:"线程数",fn:this.threadCount},{icon:"",name:"详情",fn:this.detailFn},{icon:"",name:"处理",fn:this.handleFn},{icon:"",name:"抽样",fn:this.sampling}]}}},Pn=xn,Cn=(e("8b67"),Object(d["a"])(Pn,yn,_n,!1,null,"be297834",null)),wn=Cn.exports,jn=e("391c"),En=e.n(jn),Sn=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"plugSetting"},[e("el-dialog",{attrs:{title:t.dialogTitle+"-配置",visible:t.dialogVisible,width:t.width,"modal-append-to-body":!1,"close-on-click-modal":!1},on:{"update:visible":function(n){t.dialogVisible=n}}},[e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeSetting}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.saveSetting}},[t._v("保存")])],1)])],1)},Dn=[],In={name:"PlugSetting",data:function(){return{dialogVisible:!1,dialogTitle:"",width:"1200",plugData:{}}},methods:{openSetting:function(t){this.plugData=t,this.dialogTitle=t.name,this.dialogVisible=!0},closeSetting:function(){this.dialogVisible=!1},saveSetting:function(){this.closeSetting()}}},kn=In,An=Object(d["a"])(kn,Sn,Dn,!1,null,"4fae7ae0",null),Tn=An.exports,On={name:"FlowPanelEt",extends:bn,components:{ModelNode:wn,NodeForm:en,PlugSetting:Tn},data:function(){return{plugNode:null}},methods:{editAttr:function(t){switch(console.log(t),t.type){case"source":this.editSourceAttr(t);break;case"plug":this.editPlugAttr(t);break;default:break}},editSourceAttr:function(t){this.$emit("slideAttr",!0),K.$emit("slideAttr",t,!0),K.$emit("hideSource",!0),this.$emit("hideSource",!1)},editPlugAttr:function(t){this.$refs.setting.openSetting(t)},getPlugNode:function(){var t=this;K.$on("plugNode",(function(n){t.plugNode=n}))},drop:function(t){this.addNode(t,this.plugNode)},changeVal:function(t){this.data.nodeList.filter((function(n){n.id===t.id&&(n.name=t.name)}))},getMenuNode:function(t){this.menuNode=t},allowDrop:function(){return!0},initMargin:function(t){this.marginRight=t?400:0},deleteLine:function(t,n){this.data.lineList=this.data.lineList.filter((function(e){return e.from!==t&&e.to!==n}))},changeLine:function(t,n){this.deleteLine(t,n)},changeNodeSite:function(t){for(var n=0;n<this.data.nodeList.length;n++){var e=this.data.nodeList[n];e.id===t.nodeId&&(e.left=t.left,e.top=t.top)}},addNode:function(t,n){var e=80,i=this.index++,r="node"+i;this.data.nodeList.push({left:t.offsetX-e+"px",top:t.offsetY-25+"px",id:r,name:n.label+"_"+i,ico:n.icon,show:!0,type:n.type}),this.$nextTick((function(){this.jsPlumb.makeSource(r,this.jsplumbSourceOptions),this.jsPlumb.makeTarget(r,this.jsplumbTargetOptions),this.jsPlumb.draggable(r,{containment:"parent"})}))},hasLine:function(t,n){for(var e=0;e<this.data.lineList.length;e++){var i=this.data.lineList[e];if(i.from===t&&i.to===n)return!0}return!1},hashOppositeLine:function(t,n){return this.hasLine(n,t)},ownLine:function(t,n){for(var e=0;e<this.data.lineList.length;e++){var i=this.data.lineList[e];if(i.from===t||i.to===n)return!0}return!1},deleteNode:function(t){var n=this;return this.$confirm("确定要删除节点"+t.name+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then((function(){n.data.nodeList=n.data.nodeList.filter((function(n){return n.id===t.id&&(n.show=!1),!0})),n.$nextTick((function(){console.log("删除"+t),this.jsPlumb.removeAllEndpoints(t.id)}))})).catch((function(){})),!0},editNode:function(t){console.log("编辑节点",t),this.nodeFormVisible=!0,this.$nextTick((function(){this.$refs.nodeForm.init(this.data,t)}))},dataReload:function(t){var n=this;this.easyFlowVisible=!1,this.data.nodeList=[],this.data.lineList=[],this.$nextTick((function(){t=En.a.cloneDeep(t),n.easyFlowVisible=!0,n.data=t,n.$nextTick((function(){n.jsPlumb=jsPlumb.getInstance(),n.$nextTick((function(){n.jsPlumbInit()}))}))}))},changeLabel:function(){var t=this.jsPlumb.getConnections({source:"nodeA",target:"nodeB"});t[0].setLabel({label:"   ",cssClass:"labelClass"})}},created:function(){this.getPlugNode(),this.dataReload(pn())}},Mn=On,Ln=(e("3c7d"),Object(d["a"])(Mn,qt,Jt,!1,null,"ea886fa8",null)),Fn=Ln.exports,Nn={name:"ModelPanel",data:function(){return{leftShow:!0,rightShow:!1}},methods:{slideLeft:function(){var t=this;K.$on("slideS",(function(n){t.leftShow=!n}))},slideRight:function(t){this.rightShow=t},closeAttr:function(){var t=this;K.$on("hideAttr",(function(n){t.rightShow=n,t.leftShow=!n}))},closeSource:function(t){this.leftShow=t}},components:{FlowPanelEt:Fn},created:function(){this.slideLeft(),this.closeAttr()}},Rn=Nn,zn=(e("cd32"),Object(d["a"])(Rn,Ht,Yt,!1,null,"3f3365e7",null)),$n=zn.exports,Bn=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"attribute",class:{attrShow:t.showClass}},[t.showAttr?e("AttrCont",{attrs:{sourceData:t.sourceData},on:{closeAttr:t.closeAttr}}):t._e()],1)},Gn=[],Un=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"attrCont"},[e("div",{staticClass:"attrTitle"},[t._v(t._s(t.sourceData.name))]),e("div",{staticClass:"attr_btn"},t._l(t.buttons,(function(n,i){return e("el-button",{key:i,attrs:{size:"mini",type:n.type},on:{click:n.clickFn}},[t._v(t._s(n.name))])})),1)])},Vn=[],Wn={name:"AttrCont",props:{sourceData:Object},data:function(){return{buttons:[{name:"保存",clickFn:this.saveSetting,type:"primary"},{name:"关闭",clickFn:this.close,type:""}]}},methods:{saveSetting:function(){},close:function(){this.$emit("closeAttr",!1)}}},Xn=Wn,Hn=(e("ebf1"),Object(d["a"])(Xn,Un,Vn,!1,null,"750ab13e",null)),Yn=Hn.exports,qn={name:"Attribute",components:{AttrCont:Yn},data:function(){return{showAttr:!1,showClass:!1,sourceData:{}}},methods:{slideLeft:function(){var t=this;K.$on("slideAttr",(function(n,e){t.showAttr=e,t.showClass=e,t.sourceData=n}))},closeAttr:function(t){this.showClass=t,this.slowSlide(t),K.$emit("hideAttr",t),K.$emit("showSource",!t)},slowSlide:function(t){var n=this;setTimeout((function(){n.showAttr=t}),500)}},created:function(){this.slideLeft()}},Jn=qn,Kn=(e("4a81"),Object(d["a"])(Jn,Bn,Gn,!1,null,"68e6b56f",null)),Zn=Kn.exports,Qn={name:"ModelPage",components:{ModelPlugIn:vt,DataSource:Xt,ModelPanel:$n,Attribute:Zn}},te=Qn,ne=(e("d485"),Object(d["a"])(te,F,N,!1,null,"630719c2",null)),ee=ne.exports,ie={name:"ModelContainer",components:{ModelPage:ee},data:function(){return{editableTabsValue:"1",editableTabs:[],tabIndex:0}},methods:{removeTab:function(t){var n=this.editableTabs,e=this.editableTabsValue;e===t&&n.forEach((function(i,r){if(i.id===t){var o=n[r+1]||n[r-1];o&&(e=o.id)}})),this.editableTabsValue=e,this.editableTabs=n.filter((function(n){return n.id!==t}))},createId:function(){},addTab:function(t){var n,e=++this.tabIndex+"";n=t.name?t.name:"model"+e;var i={id:e,label:n};this.editableTabs.push(i),this.editableTabsValue=e},backTo:function(){this.$emit("backTo")}}},re=ie,oe=(e("ba25"),Object(d["a"])(re,M,L,!1,null,"757c73e8",null)),se=oe.exports,ae={name:"Home",components:{ModelingCenterTable:b,Breadcrumb:y["a"],DataTreeVue:S,ModelEditDailogVue:p,NewModel:O,ModelTabs:se},props:{crumb:Array},data:function(){return{options:[{value:"0",label:"硬盘"},{value:"1",label:"内存"},{value:"2",label:"无缓存"}],value:"",inputValueTree:"",inputModelValue:"",newModel:!1,modelTabs:!1}},methods:{handleSizeChange:function(t){this.$refs.modelingCenterTable.refPageChange(t)},handleCurrentChange:function(t){this.$refs.modelingCenterTable.refPageChange(t)},searchTreeEvent:function(){this.$message("tree")},searchTableEvent:function(){this.$message("table 查找！")},onTableItemEvent:function(t,n){this.$refs.modelEditDailog.show()},openNewModel:function(){this.newModel=!0},closeNewModel:function(){this.newModel=!1},openModelTabs:function(){this.modelTabs=!0},closeModelTabs:function(){this.modelTabs=!1},backTo:function(){this.closeNewModel(),this.closeModelTabs()},addModelTab:function(){this.openModelTabs(),this.closeNewModel(),this.$refs.modelPage.addTab({})},modelEdit:function(t){this.openModelTabs(),this.$refs.modelPage.addTab(t)}}},le=ae,ue=(e("cad7"),Object(d["a"])(le,i,r,!1,null,"170d2ec5",null));n["default"]=ue.exports},abaa:function(t,n,e){"use strict";var i=e("8939"),r=e.n(i);r.a},abd7:function(t,n,e){t.exports=e.p+"assets/img/detail2.7c15b8d2.png"},b115:function(t,n,e){"use strict";var i=e("f714"),r=e.n(i);r.a},b3a8:function(t,n,e){"use strict";var i=e("7edb"),r=e.n(i);r.a},b943:function(t,n,e){},ba25:function(t,n,e){"use strict";var i=e("4fd0"),r=e.n(i);r.a},bf42:function(t,n,e){},c085:function(t,n,e){},c24c:function(t,n,e){t.exports=e.p+"assets/img/detail6.d9bf4272.png"},c2b9:function(t,n,e){},c2e4:function(t,n,e){},c437:function(t,n,e){"use strict";var i=e("f38b"),r=e.n(i);r.a},c441:function(t,n,e){(function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t={subtract:function(t,n){return{x:t.x-n.x,y:t.y-n.y}},dotProduct:function(t,n){return t.x*n.x+t.y*n.y},square:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},scale:function(t,n){return{x:t.x*n,y:t.y*n}}},e=64,i=Math.pow(2,-e-1),r=function(n,e){for(var i=[],r=s(n,e),o=e.length-1,l=2*o-1,u=a(r,l,i,0),c=t.subtract(n,e[0]),d=t.square(c),f=0,p=0;p<u;p++){c=t.subtract(n,h(e,o,i[p],null,null));var g=t.square(c);g<d&&(d=g,f=i[p])}return c=t.subtract(n,e[o]),g=t.square(c),g<d&&(d=g,f=1),{location:f,distance:d}},o=function(t,n){var e=r(t,n);return{point:h(n,n.length-1,e.location,null,null),location:e.location}},s=function(n,e){for(var i=e.length-1,r=2*i-1,o=[],s=[],a=[],l=[],u=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;c<=i;c++)o[c]=t.subtract(e[c],n);for(c=0;c<=i-1;c++)s[c]=t.subtract(e[c+1],e[c]),s[c]=t.scale(s[c],3);for(var h=0;h<=i-1;h++)for(var d=0;d<=i;d++)a[h]||(a[h]=[]),a[h][d]=t.dotProduct(s[h],o[d]);for(c=0;c<=r;c++)l[c]||(l[c]=[]),l[c].y=0,l[c].x=parseFloat(c)/r;for(var f=i,p=i-1,g=0;g<=f+p;g++){var v=Math.max(0,g-p),m=Math.min(g,f);for(c=v;c<=m;c++){var b=g-c;l[c+b].y+=a[b][c]*u[b][c]}}return l},a=function(t,n,i,r){var o,s,d=[],f=[],p=[],g=[];switch(l(t,n)){case 0:return 0;case 1:if(r>=e)return i[0]=(t[0].x+t[n].x)/2,1;if(u(t,n))return i[0]=c(t,n),1;break}h(t,n,.5,d,f),o=a(d,n,p,r+1),s=a(f,n,g,r+1);for(var v=0;v<o;v++)i[v]=p[v];for(v=0;v<s;v++)i[v+o]=g[v];return o+s},l=function(t,n){var e,i,r=0;e=i=Math.sgn(t[0].y);for(var o=1;o<=n;o++)e=Math.sgn(t[o].y),e!=i&&r++,i=e;return r},u=function(t,n){var e,r,o,s,a,l,u,c,h,d,f,p,g,v,m,b,y,_;l=t[0].y-t[n].y,u=t[n].x-t[0].x,c=t[0].x*t[n].y-t[n].x*t[0].y,y=_=0;for(var x=1;x<n;x++){var P=l*t[x].x+u*t[x].y+c;P>y?y=P:P<_&&(_=P)}return f=0,p=1,g=0,v=l,m=u,b=c-y,h=f*m-v*p,d=1/h,r=(p*b-m*g)*d,v=l,m=u,b=c-_,h=f*m-v*p,d=1/h,o=(p*b-m*g)*d,s=Math.min(r,o),a=Math.max(r,o),e=a-s,e<i?1:0},c=function(t,n){var e=1,i=0,r=t[n].x-t[0].x,o=t[n].y-t[0].y,s=t[0].x-0,a=t[0].y-0,l=r*i-o*e,u=1/l,c=(r*a-o*s)*u;return 0+e*c},h=function(t,n,e,i,r){for(var o=[[]],s=0;s<=n;s++)o[0][s]=t[s];for(var a=1;a<=n;a++)for(s=0;s<=n-a;s++)o[a]||(o[a]=[]),o[a][s]||(o[a][s]={}),o[a][s].x=(1-e)*o[a-1][s].x+e*o[a-1][s+1].x,o[a][s].y=(1-e)*o[a-1][s].y+e*o[a-1][s+1].y;if(null!=i)for(s=0;s<=n;s++)i[s]=o[s][0];if(null!=r)for(s=0;s<=n;s++)r[s]=o[n-s][s];return o[n][0]},d={},f=function(t){var n=d[t];if(!n){n=[];var e=function(){return function(n){return Math.pow(n,t)}},i=function(){return function(n){return Math.pow(1-n,t)}},r=function(t){return function(n){return t}},o=function(){return function(t){return t}},s=function(){return function(t){return 1-t}},a=function(t){return function(n){for(var e=1,i=0;i<t.length;i++)e*=t[i](n);return e}};n.push(new e);for(var l=1;l<t;l++){for(var u=[new r(t)],c=0;c<t-l;c++)u.push(new o);for(c=0;c<l;c++)u.push(new s);n.push(new a(u))}n.push(new i),d[t]=n}return n},p=function(t,n){for(var e=f(t.length-1),i=0,r=0,o=0;o<t.length;o++)i+=t[o].x*e[o](n),r+=t[o].y*e[o](n);return{x:i,y:r}},g=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},v=function(t){return t[0].x===t[1].x&&t[0].y===t[1].y},m=function(t,n,e){if(v(t))return{point:t[0],location:n};var i=p(t,n),r=0,o=n,s=e>0?1:-1,a=null;while(r<Math.abs(e))o+=.005*s,a=p(t,o),r+=g(a,i),i=a;return{point:a,location:o}},b=function(t){if(v(t))return 0;var n=p(t,0),e=0,i=0,r=1,o=null;while(i<1)i+=.005*r,o=p(t,i),e+=g(o,n),n=o;return e},y=function(t,n,e){return m(t,n,e).point},_=function(t,n,e){return m(t,n,e).location},x=function(t,n){var e=p(t,n),i=p(t.slice(0,t.length-1),n),r=i.y-e.y,o=i.x-e.x;return 0===r?1/0:Math.atan(r/o)},P=function(t,n,e){var i=m(t,n,e);return i.location>1&&(i.location=1),i.location<0&&(i.location=0),x(t,i.location)},C=function(t,n,e,i){i=null==i?0:i;var r=m(t,n,i),o=x(t,r.location),s=Math.atan(-1/o),a=e/2*Math.sin(s),l=e/2*Math.cos(s);return[{x:r.point.x+l,y:r.point.y+a},{x:r.point.x-l,y:r.point.y-a}]},w=function(t,n,e,i,r){var o=i-n,s=t-e,a=t*(n-i)+n*(e-t),l=D(r),u=[o*l[0][0]+s*l[1][0],o*l[0][1]+s*l[1][1],o*l[0][2]+s*l[1][2],o*l[0][3]+s*l[1][3]+a],c=k.apply(null,u),h=[];if(null!=c)for(var d=0;d<3;d++){var f,p=c[d],g=Math.pow(p,2),v=Math.pow(p,3),m=[l[0][0]*v+l[0][1]*g+l[0][2]*p+l[0][3],l[1][0]*v+l[1][1]*g+l[1][2]*p+l[1][3]];f=e-t!==0?(m[0]-t)/(e-t):(m[1]-n)/(i-n),p>=0&&p<=1&&f>=0&&f<=1&&h.push(m)}return h},j=function(t,n,e,i,r){var o=[];return o.push.apply(o,w(t,n,t+e,n,r)),o.push.apply(o,w(t+e,n,t+e,n+i,r)),o.push.apply(o,w(t+e,n+i,t,n+i,r)),o.push.apply(o,w(t,n+i,t,n,r)),o},E=function(t,n){var e=[];return e.push.apply(e,w(t.x,t.y,t.x+t.w,t.y,n)),e.push.apply(e,w(t.x+t.w,t.y,t.x+t.w,t.y+t.h,n)),e.push.apply(e,w(t.x+t.w,t.y+t.h,t.x,t.y+t.h,n)),e.push.apply(e,w(t.x,t.y+t.h,t.x,t.y,n)),e};function S(t,n){return[-t[0][n]+3*t[1][n]+-3*t[2][n]+t[3][n],3*t[0][n]-6*t[1][n]+3*t[2][n],-3*t[0][n]+3*t[1][n],t[0][n]]}function D(t){return[S(t,"x"),S(t,"y")]}function I(t){return t<0?-1:t>0?1:0}function k(t,n,e,i){var r,o,s=n/t,a=e/t,l=i/t,u=(3*a-Math.pow(s,2))/9,c=(9*s*a-27*l-2*Math.pow(s,3))/54,h=Math.pow(u,3)+Math.pow(c,2),d=[];if(h>=0)r=I(c+Math.sqrt(h))*Math.pow(Math.abs(c+Math.sqrt(h)),1/3),o=I(c-Math.sqrt(h))*Math.pow(Math.abs(c-Math.sqrt(h)),1/3),d[0]=-s/3+(r+o),d[1]=-s/3-(r+o)/2,d[2]=-s/3-(r+o)/2,0!==Math.abs(Math.sqrt(3)*(r-o)/2)&&(d[1]=-1,d[2]=-1);else{var f=Math.acos(c/Math.sqrt(-Math.pow(u,3)));d[0]=2*Math.sqrt(-u)*Math.cos(f/3)-s/3,d[1]=2*Math.sqrt(-u)*Math.cos((f+2*Math.PI)/3)-s/3,d[2]=2*Math.sqrt(-u)*Math.cos((f+4*Math.PI)/3)-s/3}for(var p=0;p<3;p++)(d[p]<0||d[p]>1)&&(d[p]=-1);return d}var A=this.jsBezier={distanceFromCurve:r,gradientAtPoint:x,gradientAtPointAlongCurveFrom:P,nearestPointOnCurve:o,pointOnCurve:p,pointAlongCurveFrom:y,perpendicularToCurveAt:C,locationAlongCurveFrom:_,getLength:b,lineIntersection:w,boxIntersection:j,boundingBoxIntersection:E,version:"0.9.0"};n.jsBezier=A}).call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,e=t.Biltong={version:"0.4.0"};n.Biltong=e;var i=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(t,n,e){return t=i(t)?t:[t.x,t.y],n=i(n)?n:[n.x,n.y],e(t,n)},o=e.gradient=function(t,n){return r(t,n,(function(t,n){return n[0]==t[0]?n[1]>t[1]?1/0:-1/0:n[1]==t[1]?n[0]>t[0]?0:-0:(n[1]-t[1])/(n[0]-t[0])}))},s=(e.normal=function(t,n){return-1/o(t,n)},e.lineLength=function(t,n){return r(t,n,(function(t,n){return Math.sqrt(Math.pow(n[1]-t[1],2)+Math.pow(n[0]-t[0],2))}))},e.quadrant=function(t,n){return r(t,n,(function(t,n){return n[0]>t[0]?n[1]>t[1]?2:1:n[0]==t[0]?n[1]>t[1]?2:1:n[1]>t[1]?3:4}))}),a=(e.theta=function(t,n){return r(t,n,(function(t,n){var e=o(t,n),i=Math.atan(e),r=s(t,n);return 4!=r&&3!=r||(i+=Math.PI),i<0&&(i+=2*Math.PI),i}))},e.intersects=function(t,n){var e=t.x,i=t.x+t.w,r=t.y,o=t.y+t.h,s=n.x,a=n.x+n.w,l=n.y,u=n.y+n.h;return e<=s&&s<=i&&r<=l&&l<=o||e<=a&&a<=i&&r<=l&&l<=o||e<=s&&s<=i&&r<=u&&u<=o||e<=a&&s<=i&&r<=u&&u<=o||s<=e&&e<=a&&l<=r&&r<=u||s<=i&&i<=a&&l<=r&&r<=u||s<=e&&e<=a&&l<=o&&o<=u||s<=i&&e<=a&&l<=o&&o<=u},e.encloses=function(t,n,e){var i=t.x,r=t.x+t.w,o=t.y,s=t.y+t.h,a=n.x,l=n.x+n.w,u=n.y,c=n.y+n.h,h=function(t,n,i,r){return e?t<=n&&i>=r:t<n&&i>r};return h(i,a,r,l)&&h(o,u,s,c)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),l=[null,[-1,-1],[-1,1],[1,1],[1,-1]];e.pointOnLine=function(t,n,e){var i=o(t,n),r=s(t,n),u=e>0?a[r]:l[r],c=Math.atan(i),h=Math.abs(e*Math.sin(c))*u[1],d=Math.abs(e*Math.cos(c))*u[0];return{x:t.x+d,y:t.y+h}},e.perpendicularLineTo=function(t,n,e){var i=o(t,n),r=Math.atan(-1/i),s=e/2*Math.sin(r),a=e/2*Math.cos(r);return[{x:n.x+a,y:n.y+s},{x:n.x-a,y:n.y-s}]}}.call("undefined"!==typeof window?window:this),function(){"use strict";function t(t,n,e,i,r,o,s,a){return new Touch({target:n,identifier:F(),pageX:e,pageY:i,screenX:r,screenY:o,clientX:s||r,clientY:a||o})}function e(){var t=[];return Array.prototype.push.apply(t,arguments),t.item=function(t){return this[t]},t}function i(n,i,r,o,s,a,l,u){return e(t.apply(null,arguments))}var r=this,o=function(t,n,e){e=e||t.parentNode;for(var i=e.querySelectorAll(n),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},s=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},a=function(t){return t.srcElement||t.target},l=function(t,n,e,i){if(i){if("undefined"!==typeof t.path&&t.path.indexOf)return{path:t.path,end:t.path.indexOf(e)};var r={path:[],end:-1},o=function(t){r.path.push(t),t===e?r.end=r.path.length-1:null!=t.parentNode&&o(t.parentNode)};return o(n),r}return{path:[n],end:1}},u=function(t,n){for(var e=0,i=t.length;e<i;e++)if(t[e]==n)break;e<t.length&&t.splice(e,1)},c=1,h=function(t,n,e){var i=c++;return t.__ta=t.__ta||{},t.__ta[n]=t.__ta[n]||{},t.__ta[n][i]=e,e.__tauid=i,i},d=function(t,n,e){if(t.__ta&&t.__ta[n]&&delete t.__ta[n][e.__tauid],e.__taExtra){for(var i=0;i<e.__taExtra.length;i++)M(t,e.__taExtra[i][0],e.__taExtra[i][1]);e.__taExtra.length=0}e.__taUnstore&&e.__taUnstore()},f=function(t,n,e,i){if(null==t)return e;var r=t.split(","),s=function(i){s.__tauid=e.__tauid;var u=a(i),c=u,h=l(i,u,n,null!=t);if(-1!=h.end)for(var d=0;d<h.end;d++){c=h.path[d];for(var f=0;f<r.length;f++)o(c,r[f],n)&&e.apply(c,arguments)}};return p(e,i,s),s},p=function(t,n,e){t.__taExtra=t.__taExtra||[],t.__taExtra.push([n,e])},g=function(t,n,e,i){if(x&&C[n]){var r=f(i,t,e,C[n]);O(t,C[n],r,e)}"focus"===n&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),O(t,n,f(i,t,e,n),e)},v=function(t,n,e,i){if(null==t.__taSmartClicks){var r=function(n){t.__tad=S(n)},o=function(n){t.__tau=S(n)},s=function(n){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var e=0;e<t.__taSmartClicks.length;e++)t.__taSmartClicks[e].apply(a(n),[n])};g(t,"mousedown",r,i),g(t,"mouseup",o,i),g(t,"click",s,i),t.__taSmartClicks=[]}t.__taSmartClicks.push(e),e.__taUnstore=function(){u(t.__taSmartClicks,e)}},m={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},b=function(t,n){return function(e,i,r,s){if("contextmenu"==i&&P)g(e,i,r,s);else{if(null==e.__taTapHandler){var c=e.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},h=function(i){for(var r=a(i),u=l(i,r,e,null!=s),h=!1,d=0;d<u.end;d++){if(h)return;r=u.path[d];for(var g=0;g<c.downSelectors.length;g++)if(null==c.downSelectors[g]||o(r,c.downSelectors[g],e)){c.down=!0,setTimeout(f,t),setTimeout(p,n),h=!0;break}}},d=function(t){if(c.down){var n,i,r=a(t);c.taps++;var s=T(t);for(var u in m)if(m.hasOwnProperty(u)){var h=m[u];if(h.touches===s&&(1===h.taps||h.taps===c.taps))for(var d=0;d<c[u].length;d++){i=l(t,r,e,null!=c[u][d][1]);for(var f=0;f<i.end;f++)if(n=i.path[f],null==c[u][d][1]||o(n,c[u][d][1],e)){c[u][d][0].apply(n,[t]);break}}}}},f=function(){c.down=!1},p=function(){c.taps=0};g(e,"mousedown",h),g(e,"mouseup",d)}e.__taTapHandler.downSelectors.push(s),e.__taTapHandler[i].push([r,s]),r.__taUnstore=function(){u(e.__taTapHandler[i],r)}}}},y=function(t,n,e,i){for(var r in e.__tamee[t])e.__tamee[t].hasOwnProperty(r)&&e.__tamee[t][r].apply(i,[n])},_=function(){var t=[];return function(n,e,i,r){if(!n.__tamee){n.__tamee={over:!1,mouseenter:[],mouseexit:[]};var s=function(e){var i=a(e);(null==r&&i==n&&!n.__tamee.over||o(i,r,n)&&(null==i.__tamee||!i.__tamee.over))&&(y("mouseenter",e,n,i),i.__tamee=i.__tamee||{},i.__tamee.over=!0,t.push(i))},l=function(e){for(var i=a(e),r=0;r<t.length;r++)i!=t[r]||o(e.relatedTarget||e.toElement,"*",i)||(i.__tamee.over=!1,t.splice(r,1),y("mouseexit",e,n,i))};O(n,"mouseover",f(r,n,s,"mouseover"),s),O(n,"mouseout",f(r,n,l,"mouseout"),l)}i.__taUnstore=function(){delete n.__tamee[e][i.__tauid]},h(n,e,i),n.__tamee[e][i.__tauid]=i}},x="ontouchstart"in document.documentElement,P="onmousedown"in document.documentElement,C={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},w=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var n=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=e.exec(n)&&(t=parseFloat(RegExp.$1))}return t}(),j=w>-1&&w<9,E=function(t,n){if(null==t)return[0,0];var e=A(t),i=k(e,0);return[i[n+"X"],i[n+"Y"]]},S=function(t){return null==t?[0,0]:j?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:E(t,"page")},D=function(t){return E(t,"screen")},I=function(t){return E(t,"client")},k=function(t,n){return t.item?t.item(n):t[n]},A=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},T=function(t){return A(t).length},O=function(t,n,e,i){if(h(t,n,e),i.__tauid=e.__tauid,t.addEventListener)t.addEventListener(n,e,!1);else if(t.attachEvent){var r=n+e.__tauid;t["e"+r]=e,t[r]=function(){t["e"+r]&&t["e"+r](window.event)},t.attachEvent("on"+n,t[r])}},M=function(t,n,e){null!=e&&L(t,(function(){var i=s(this);if(d(i,n,e),null!=e.__tauid)if(i.removeEventListener)i.removeEventListener(n,e,!1),x&&C[n]&&i.removeEventListener(C[n],e,!1);else if(this.detachEvent){var r=n+e.__tauid;i[r]&&i.detachEvent("on"+n,i[r]),i[r]=null,i["e"+r]=null}e.__taTouchProxy&&M(t,e.__taTouchProxy[1],e.__taTouchProxy[0])}))},L=function(t,n){if(null!=t){t="undefined"!==typeof Window&&"unknown"!==typeof t.top&&t==t.top?[t]:"string"!==typeof t&&null==t.tagName&&null!=t.length?t:"string"===typeof t?document.querySelectorAll(t):[t];for(var e=0;e<t.length;e++)n.apply(t[e])}},F=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0,e="x"==t?n:3&n|8;return e.toString(16)}))};r.Mottle=function(t){t=t||{};var n=t.clickThreshold||250,e=t.dblClickThreshold||450,r=new _,o=new b(n,e),a=t.smartClicks,l=function(t,n,e,i){null!=e&&L(t,(function(){var t=s(this);a&&"click"===n?v(t,n,e,i):"tap"===n||"dbltap"===n||"contextmenu"===n?o(t,n,e,i):"mouseenter"===n||"mouseexit"==n?r(t,n,e,i):g(t,n,e,i)}))};this.remove=function(t){return L(t,(function(){var t=s(this);if(t.__ta)for(var n in t.__ta)if(t.__ta.hasOwnProperty(n))for(var e in t.__ta[n])t.__ta[n].hasOwnProperty(e)&&M(t,n,t.__ta[n][e]);t.parentNode&&t.parentNode.removeChild(t)})),this},this.on=function(t,n,e,i){var r=arguments[0],o=4==arguments.length?arguments[2]:null,s=arguments[1],a=arguments[arguments.length-1];return l(r,s,a,o),this},this.off=function(t,n,e){return M(t,n,e),this},this.trigger=function(t,n,e,r){var o=P&&("undefined"===typeof MouseEvent||null==e||e.constructor===MouseEvent),a=x&&!P&&C[n]?C[n]:n,l=!(x&&!P&&C[n]),u=S(e),c=D(e),h=I(e);return L(t,(function(){var t,d=s(this);e=e||{screenX:c[0],screenY:c[1],clientX:h[0],clientY:h[1]};var f=function(t){r&&(t.payload=r)},p={TouchEvent:function(t){var n=i(window,d,0,u[0],u[1],c[0],c[1],h[0],h[1]),e=t.initTouchEvent||t.initEvent;e(a,!0,!0,window,null,c[0],c[1],h[0],h[1],!1,!1,!1,!1,n,n,n,1,0)},MouseEvents:function(t){t.initMouseEvent(a,!0,!0,window,0,c[0],c[1],h[0],h[1],!1,!1,!1,!1,1,d)}};if(document.createEvent){var g=!l&&!o&&x&&C[n],v=g?"TouchEvent":"MouseEvents";t=document.createEvent(v),p[v](t),f(t),d.dispatchEvent(t)}else document.createEventObject&&(t=document.createEventObject(),t.eventType=t.eventName=a,t.screenX=c[0],t.screenY=c[1],t.clientX=h[0],t.clientY=h[1],f(t),d.fireEvent("on"+a,t))})),this}},r.Mottle.consume=function(t,n){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!n&&t.preventDefault&&t.preventDefault()},r.Mottle.pageLocation=S,r.Mottle.setForceTouchEvents=function(t){x=t},r.Mottle.setForceMouseEvents=function(t){P=t},r.Mottle.version="0.8.0",n.Mottle=r.Mottle}.call("undefined"===typeof window?this:window),function(){"use strict";var t=this,e=function(t,n,e){return-1===t.indexOf(n)&&(e?t.unshift(n):t.push(n),!0)},i=function(t,n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)},r=function(t,n){for(var e=[],i=0;i<t.length;i++)-1===n.indexOf(t[i])&&e.push(t[i]);return e},o=function(t){return null!=t&&("string"===typeof t||t.constructor===String)},s=function(t){var n=t.getBoundingClientRect(),e=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||e.scrollTop,o=window.pageXOffset||i.scrollLeft||e.scrollLeft,s=i.clientTop||e.clientTop||0,a=i.clientLeft||e.clientLeft||0,l=n.top+r-s,u=n.left+o-a;return{top:Math.round(l),left:Math.round(u)}},a=function(t,n,e){e=e||t.parentNode;for(var i=e.querySelectorAll(n),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},l=function(t,n,e){if(a(n,e,t))return n;var i=n.parentNode;while(null!=i&&i!==t){if(a(i,e,t))return i;i=i.parentNode}},u=function(t,n,e){for(var i=null,r=n.getAttribute("katavorio-draggable"),o=null!=r?"[katavorio-draggable='"+r+"'] ":"",s=0;s<t.length;s++)if(i=l(n,e,o+t[s].selector),null!=i){if(t[s].filter){var u=a(e,t[s].filter,i),c=!0===t[s].filterExclude;if(c&&!u||u)return null}return[t[s],i]}return null},c=function(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var n=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=e.exec(n)&&(t=parseFloat(RegExp.$1))}return t}(),h=10,d=10,f=c>-1&&c<9,p=9===c,g=function(t){if(f)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var n=m(t),e=v(n,0);return p?[e.pageX||e.clientX,e.pageY||e.clientY]:[e.pageX,e.pageY]},v=function(t,n){return t.item?t.item(n):t[n]},m=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},b={delegatedDraggable:"katavorio-delegated-draggable",draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},y="katavorio-drag-scope",_=["stop","start","drag","drop","over","out","beforeStart"],x=function(){},P=function(){return!0},C=function(t,n,e){for(var i=0;i<t.length;i++)t[i]!=e&&n(t[i])},w=function(t,n,e,i){C(t,(function(t){t.setActive(n),n&&t.updatePosition(),e&&t.setHover(i,n)}))},j=function(t,n){if(null!=t){t=o(t)||null!=t.tagName||null==t.length?[t]:t;for(var e=0;e<t.length;e++)n.apply(t[e],[t[e]])}},E=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},S="input,textarea,select,button,option",D=function(t,n,e){var i=t.srcElement||t.target;return!a(i,e.getInputFilterSelector(),n)},I=function(t,n,e,i){this.params=n||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=M();var r=!0;return this.setEnabled=function(t){r=t},this.isEnabled=function(){return r},this.toggleEnabled=function(){r=!r},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[i]},this.addScope=function(t){var n={};for(var e in j(this.scopes,(function(t){n[t]=!0})),j(t?t.split(/\s+/):[],(function(t){n[t]=!0})),this.scopes=[],n)this.scopes.push(e)},this.removeScope=function(t){var n={};for(var e in j(this.scopes,(function(t){n[t]=!0})),j(t?t.split(/\s+/):[],(function(t){delete n[t]})),this.scopes=[],n)this.scopes.push(e)},this.toggleScope=function(t){var n={};for(var e in j(this.scopes,(function(t){n[t]=!0})),j(t?t.split(/\s+/):[],(function(t){n[t]?delete n[t]:n[t]=!0})),this.scopes=[],n)this.scopes.push(e)},this.setScope(n.scope),this.k=n.katavorio,n.katavorio},k=function(){return!0},A=function(){return!1},T=function(t,n,e,i){this._class=e.draggable;var r=I.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var l,c,f,p,v=[0,0],m=null,y=null,_=[0,0],x=!1,C=[0,0],j=!1!==this.params.consumeStartEvent,S=this.el,T=this.params.clone,O=(this.params.scroll,!1!==n.multipleDrop),F=!1,N=!0===n.ghostProxy?k:n.ghostProxy&&"function"===typeof n.ghostProxy?n.ghostProxy:A,R=function(t){return t.cloneNode(!0)},z=null,$=[],B=null,G=n.ghostProxyParent;if(n.selector){var U=t.getAttribute("katavorio-draggable");null==U&&(U=""+(new Date).getTime(),t.setAttribute("katavorio-draggable",U)),$.push(n)}var V,W=n.snapThreshold,X=function(t,n,e,i,r){var o=Math.floor(t[0]/n),s=n*o,a=s+n,l=Math.abs(t[0]-s)<=i?s:Math.abs(a-t[0])<=i?a:t[0],u=Math.floor(t[1]/e),c=e*u,h=c+e,d=Math.abs(t[1]-c)<=r?c:Math.abs(h-t[1])<=r?h:t[1];return[l,d]};this.posses=[],this.posseRoles={},this.toGrid=function(t){if(null==this.params.grid)return t;var n=this.params.grid?this.params.grid[0]/2:W||h/2,e=this.params.grid?this.params.grid[1]/2:W||d/2;return X(t,this.params.grid[0],this.params.grid[1],n,e)},this.snap=function(t,n){if(null!=S){t=t||(this.params.grid?this.params.grid[0]:h),n=n||(this.params.grid?this.params.grid[1]:d);var e=this.params.getPosition(S),i=this.params.grid?this.params.grid[0]/2:W,r=this.params.grid?this.params.grid[1]/2:W,o=X(e,t,n,i,r);return this.params.setPosition(S,o),o}},this.setUseGhostProxy=function(t){N=t?k:A};var H,Y=function(t){return!1===n.allowNegative?[Math.max(0,t[0]),Math.max(0,t[1])]:t},q=function(t){V="function"===typeof t?t:t?function(t,n,e,i){return Y([Math.max(0,Math.min(e.w-i[0],t[0])),Math.max(0,Math.min(e.h-i[1],t[1]))])}.bind(this):function(t){return Y(t)}}.bind(this);q("function"===typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(t){q(t)},this.setRevert=function(t){H=t},this.params.revert&&(H=this.params.revert);var J=function(t){return"function"===typeof t?(t._katavorioId=M(),t._katavorioId):t},K={},Z=function(t){for(var n in K){var e=K[n],i=e[0](t);if(e[1]&&(i=!i),!i)return!1}return!0},Q=this.setFilter=function(n,e){if(n){var i=J(n);K[i]=[function(e){var i,r=e.srcElement||e.target;return o(n)?i=a(r,n,t):"function"===typeof n&&(i=n(e,t)),i},!1!==e]}};this.addFilter=Q,this.removeFilter=function(t){var n="function"===typeof t?t._katavorioId:t;delete K[n]};this.clearAllFilters=function(){K={}},this.canDrag=this.params.canDrag||P;var tt,nt=[],et=[];this.addSelector=function(t){t.selector&&$.push(t)},this.downListener=function(t){if(!t.defaultPrevented){var n=this.rightButtonCanDrag||3!==t.which&&2!==t.button;if(n&&this.isEnabled()&&this.canDrag()){var i=Z(t)&&D(t,this.el,this.k);if(i){if(B=null,z=null,$.length>0){var o=u($,this.el,t.target||t.srcElement);if(null!=o&&(B=o[0],z=o[1]),null==z)return}else z=this.el;if(T)if(S=z.cloneNode(!0),this.params.addClass(S,b.clonedDrag),S.setAttribute("id",null),S.style.position="absolute",null!=this.params.parent){var a=this.params.getPosition(this.el);S.style.left=a[0]+"px",S.style.top=a[1]+"px",this.params.parent.appendChild(S)}else{var l=s(z);S.style.left=l.left+"px",S.style.top=l.top+"px",document.body.appendChild(S)}else S=z;j&&E(t),v=g(t),S&&S.parentNode&&(C=[S.parentNode.scrollLeft,S.parentNode.scrollTop]),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),r.markSelection(this),r.markPosses(this),this.params.addClass(document.body,e.noSelect),ot("beforeStart",{el:this.el,pos:m,e:t,drag:this})}else this.params.consumeFilteredEvents&&E(t)}}}.bind(this),this.moveListener=function(t){if(v){if(!x){var n=ot("start",{el:this.el,pos:m,e:t,drag:this});if(!1!==n){if(!v)return;this.mark(!0),x=!0}else this.abort()}if(v){et.length=0;var e=g(t),i=e[0]-v[0],o=e[1]-v[1],s=this.params.ignoreZoom?1:r.getZoom();S&&S.parentNode&&(i+=S.parentNode.scrollLeft-C[0],o+=S.parentNode.scrollTop-C[1]),i/=s,o/=s,this.moveBy(i,o,t),r.updateSelection(i,o,this),r.updatePosses(i,o,this)}}}.bind(this),this.upListener=function(t){v&&(v=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,e.noSelect),this.unmark(t),r.unmarkSelection(this,t),r.unmarkPosses(this,t),this.stop(t),r.notifyPosseDragStop(this,t),x=!1,et.length=0,T?(S&&S.parentNode&&S.parentNode.removeChild(S),S=null):H&&!0===H(S,this.params.getPosition(S))&&(this.params.setPosition(S,m),ot("revert",S)))}.bind(this),this.getFilters=function(){return K},this.abort=function(){null!=v&&this.upListener()},this.getDragElement=function(t){return t?z||this.el:S||this.el};var it={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};n.events.start&&it.start.push(n.events.start),n.events.beforeStart&&it.beforeStart.push(n.events.beforeStart),n.events.stop&&it.stop.push(n.events.stop),n.events.drag&&it.drag.push(n.events.drag),n.events.revert&&it.revert.push(n.events.revert),this.on=function(t,n){it[t]&&it[t].push(n)},this.off=function(t,n){if(it[t]){for(var e=[],i=0;i<it[t].length;i++)it[t][i]!==n&&e.push(it[t][i]);it[t]=e}};var rt,ot=function(t,n){var e=null;if(B&&B[t])e=B[t](n);else if(it[t])for(var i=0;i<it[t].length;i++)try{var r=it[t][i](n);null!=r&&(e=r)}catch(o){}return e};this.notifyStart=function(t){ot("start",{el:this.el,pos:this.params.getPosition(S),e:t,drag:this})},this.stop=function(t,n){if(n||x){var e=[],i=r.getSelection(),o=this.params.getPosition(S);if(i.length>0)for(var s=0;s<i.length;s++){var a=this.params.getPosition(i[s].el);e.push([i[s].el,{left:a[0],top:a[1]},i[s]])}else e.push([S,{left:o[0],top:o[1]},this]);ot("stop",{el:S,pos:rt||o,finalPos:o,e:t,drag:this,selection:e})}},this.mark=function(t){var n;m=this.params.getPosition(S),y=this.params.getPosition(S,!0),_=[y[0]-m[0],y[1]-m[1]],this.size=this.params.getSize(S),nt=r.getMatchingDroppables(this),w(nt,!0,!1,this),this.params.addClass(S,this.params.dragClass||e.drag),n=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(S):this.params.getSize(S.parentNode),tt={w:n[0],h:n[1]},f=0,p=0,t&&r.notifySelectionDragStart(this)},this.unmark=function(t,i){if(w(nt,!1,!0,this),F&&N(z,S)?(rt=[S.offsetLeft-f,S.offsetTop-p],S.parentNode.removeChild(S),S=z):rt=null,this.params.removeClass(S,this.params.dragClass||e.drag),nt.length=0,F=!1,!i){et.length>0&&rt&&n.setPosition(z,rt),et.sort(L);for(var r=0;r<et.length;r++){var o=et[r].drop(this,t);if(!0===o)break}}},this.moveBy=function(t,e,i){et.length=0;var r=this.toGrid([m[0]+t,m[1]+e]),o=V(r,S,tt,this.size);if(N(this.el,S))if(r[0]!==o[0]||r[1]!==o[1]){if(!F){var s=R(z);n.addClass(s,b.ghostProxy),G?(G.appendChild(s),l=n.getPosition(z.parentNode,!0),c=n.getPosition(n.ghostProxyParent,!0),f=l[0]-c[0],p=l[1]-c[1]):z.parentNode.appendChild(s),S=s,F=!0}o=r}else F&&(S.parentNode.removeChild(S),S=z,F=!1,l=null,c=null,f=0,p=0);var a={x:o[0],y:o[1],w:this.size[0],h:this.size[1]},u={x:a.x+_[0],y:a.y+_[1],w:a.w,h:a.h},h=null;this.params.setPosition(S,[o[0]+f,o[1]+p]);for(var d=0;d<nt.length;d++){var g={x:nt[d].pagePosition[0],y:nt[d].pagePosition[1],w:nt[d].size[0],h:nt[d].size[1]};this.params.intersects(u,g)&&(O||null==h||h===nt[d].el)&&nt[d].canDrop(this)?(h||(h=nt[d].el),et.push(nt[d]),nt[d].setHover(this,!0,i)):nt[d].isHover()&&nt[d].setHover(this,!1,i)}ot("drag",{el:this.el,pos:o,e:i,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?Q(this.params.handle,!1):Q(this.params.filter,this.params.filterExclude)},O=function(t,n,e,i){this._class=e.droppable,this.params=n||{},this.rank=n.rank||0,this._activeClass=this.params.activeClass||e.active,this._hoverClass=this.params.hoverClass||e.hover,I.apply(this,arguments);var r=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(t){return!0},this.isHover=function(){return r},this.setHover=function(t,n,e){(n||null==this.el._katavorioDragHover||this.el._katavorioDragHover===t.el._katavorio)&&(this.params[n?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=n?t.el._katavorio:null,r!==n&&this.params.events[n?"over":"out"]({el:this.el,e:e,drag:t,drop:this}),r=n)},this.drop=function(t,n){return this.params.events["drop"]({drag:t,e:n,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,r=null}},M=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0,e="x"===t?n:3&n|8;return e.toString(16)}))},L=function(t,n){return t.rank<n.rank?1:t.rank>n.rank?-1:0},F=function(t){return null==t?null:(t="string"===typeof t||t.constructor===String?document.getElementById(t):t,null==t?null:(t._katavorio=t._katavorio||M(),t))};t.Katavorio=function(t){var n=[],s={};this._dragsByScope={},this._dropsByScope={};var a=1,l=function(t,n){j(t,(function(t){for(var e=0;e<t.scopes.length;e++)n[t.scopes[e]]=n[t.scopes[e]]||[],n[t.scopes[e]].push(t)}))},u=function(n,e){var i=0;return j(n,(function(n){for(var r=0;r<n.scopes.length;r++)if(e[n.scopes[r]]){var o=t.indexOf(e[n.scopes[r]],n);-1!==o&&(e[n.scopes[r]].splice(o,1),i++)}})),i>0},c=(this.getMatchingDroppables=function(t){for(var n=[],e={},i=0;i<t.scopes.length;i++){var r=this._dropsByScope[t.scopes[i]];if(r)for(var o=0;o<r.length;o++)!r[o].canDrop(t)||e[r[o].uuid]||!r[o].allowLoopback&&r[o].el===t.el||(e[r[o].uuid]=!0,n.push(r[o]))}return n.sort(L),n},function(n){n=n||{};var e,i={events:{}};for(e in t)i[e]=t[e];for(e in n)i[e]=n[e];for(e=0;e<_.length;e++)i.events[_[e]]=n[_[e]]||x;return i.katavorio=this,i}.bind(this)),h=function(t,n){for(var e=0;e<_.length;e++)n[_[e]]&&t.on(_[e],n[_[e]])}.bind(this),d={},f=t.css||{},p=t.scope||y;for(var g in b)d[g]=b[g];for(var g in f)d[g]=f[g];var v=t.inputFilterSelector||S;this.getInputFilterSelector=function(){return v},this.setInputFilterSelector=function(t){return v=t,this},this.draggable=function(n,e){var i=[];return j(n,function(n){if(n=F(n),null!=n)if(null==n._katavorioDrag){var r=c(e);n._katavorioDrag=new T(n,r,d,p),l(n._katavorioDrag,this._dragsByScope),i.push(n._katavorioDrag),t.addClass(n,r.selector?d.delegatedDraggable:d.draggable)}else h(n._katavorioDrag,e)}.bind(this)),i},this.droppable=function(n,e){var i=[];return j(n,function(n){if(n=F(n),null!=n){var r=new O(n,c(e),d,p);n._katavorioDrop=n._katavorioDrop||[],n._katavorioDrop.push(r),l(r,this._dropsByScope),i.push(r),t.addClass(n,d.droppable)}}.bind(this)),i},this.select=function(e){return j(e,(function(){var e=F(this);e&&e._katavorioDrag&&(s[e._katavorio]||(n.push(e._katavorioDrag),s[e._katavorio]=[e,n.length-1],t.addClass(e,d.selected)))})),this},this.deselect=function(e){return j(e,(function(){var e=F(this);if(e&&e._katavorio){var i=s[e._katavorio];if(i){for(var r=[],o=0;o<n.length;o++)n[o].el!==e&&r.push(n[o]);n=r,delete s[e._katavorio],t.removeClass(e,d.selected)}}})),this},this.deselectAll=function(){for(var e in s){var i=s[e];t.removeClass(i[0],d.selected)}n.length=0,s={}},this.markSelection=function(t){C(n,(function(t){t.mark()}),t)},this.markPosses=function(t){t.posses&&j(t.posses,(function(n){t.posseRoles[n]&&D[n]&&C(D[n].members,(function(t){t.mark()}),t)}))},this.unmarkSelection=function(t,e){C(n,(function(t){t.unmark(e)}),t)},this.unmarkPosses=function(t,n){t.posses&&j(t.posses,(function(e){t.posseRoles[e]&&D[e]&&C(D[e].members,(function(t){t.unmark(n,!0)}),t)}))},this.getSelection=function(){return n.slice(0)},this.updateSelection=function(t,e,i){C(n,(function(n){n.moveBy(t,e)}),i)};var m=function(t,n){n.posses&&j(n.posses,(function(e){n.posseRoles[e]&&D[e]&&C(D[e].members,(function(n){t(n)}),n)}))};this.updatePosses=function(t,n,e){m((function(e){e.moveBy(t,n)}),e)},this.notifyPosseDragStop=function(t,n){m((function(t){t.stop(n,!0)}),t)},this.notifySelectionDragStop=function(t,e){C(n,(function(t){t.stop(e,!0)}),t)},this.notifySelectionDragStart=function(t,e){C(n,(function(t){t.notifyStart(e)}),t)},this.setZoom=function(t){a=t},this.getZoom=function(){return a};var P=function(t,n,e,i){j(t,(function(t){u(t,e),t[i](n),l(t,e)}))};j(["set","add","remove","toggle"],function(t){this[t+"Scope"]=function(n,e){P(n._katavorioDrag,e,this._dragsByScope,t+"Scope"),P(n._katavorioDrop,e,this._dropsByScope,t+"Scope")}.bind(this),this[t+"DragScope"]=function(n,e){P(n.constructor===T?n:n._katavorioDrag,e,this._dragsByScope,t+"Scope")}.bind(this),this[t+"DropScope"]=function(n,e){P(n.constructor===O?n:n._katavorioDrop,e,this._dropsByScope,t+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(t,n){for(var e in this._dragsByScope)C(this._dragsByScope[e],(function(e){e.snap(t,n)}))},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var w=function(t,e,i){if(t=F(t),t[e]){var r=n.indexOf(t[e]);r>=0&&n.splice(r,1),u(t[e],i)&&j(t[e],(function(t){t.destroy()})),delete t[e]}},E=function(t,n,e,i){t=F(t),t[n]&&t[n].off(e,i)};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t,n,e){1===arguments.length?w(t,"_katavorioDrag",this._dragsByScope):E(t,"_katavorioDrag",n,e)},this.destroyDroppable=function(t,n,e){1===arguments.length?w(t,"_katavorioDrop",this._dropsByScope):E(t,"_katavorioDrop",n,e)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},n=[],s={},D={}};var D={},I=function(t,n,i){var r=o(n)?n:n.id,s=!!o(n)||!1!==n.active,a=D[r]||function(){var t={name:r,members:[]};return D[r]=t,t}();return j(t,(function(t){if(t._katavorioDrag){if(i&&null!=t._katavorioDrag.posseRoles[a.name])return;e(a.members,t._katavorioDrag),e(t._katavorioDrag.posses,a.name),t._katavorioDrag.posseRoles[a.name]=s}})),a};this.addToPosse=function(t,n){for(var e=[],i=1;i<arguments.length;i++)e.push(I(t,arguments[i]));return 1===e.length?e[0]:e},this.setPosse=function(t,n){for(var e=[],i=1;i<arguments.length;i++)e.push(I(t,arguments[i],!0).name);return j(t,function(t){if(t._katavorioDrag){var n=r(t._katavorioDrag.posses,e),i=[];Array.prototype.push.apply(i,t._katavorioDrag.posses);for(var o=0;o<n.length;o++)this.removeFromPosse(t,n[o])}}.bind(this)),1===e.length?e[0]:e},this.removeFromPosse=function(t,n){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var e=1;e<arguments.length;e++)n=arguments[e],j(t,(function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var e=t._katavorioDrag;j(n,(function(t){i(D[t].members,e),i(e.posses,t),delete e.posseRoles[t]}))}}))},this.removeFromAllPosses=function(t){j(t,(function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var n=t._katavorioDrag;j(n.posses,(function(t){i(D[t].members,n)})),n.posses.length=0,n.posseRoles={}}}))},this.setPosseState=function(t,n,e){var i=D[n];i&&j(t,(function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[i.name]=e)}))}},t.Katavorio.version="1.0.0",n.Katavorio=t.Katavorio}.call("undefined"!==typeof window?window:this),function(){var t=this;t.jsPlumbUtil=t.jsPlumbUtil||{};var e=t.jsPlumbUtil;function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"[object Number]"===Object.prototype.toString.call(t)}function o(t){return"string"===typeof t}function s(t){return"boolean"===typeof t}function a(t){return null==t}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function u(t){return"[object Date]"===Object.prototype.toString.call(t)}function c(t){return"[object Function]"===Object.prototype.toString.call(t)}function h(t){return c(t)&&null!=t.name&&t.name.length>0}function d(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}function f(t){if(o(t))return""+t;if(s(t))return!!t;if(u(t))return new Date(t.getTime());if(c(t))return t;if(i(t)){for(var n=[],e=0;e<t.length;e++)n.push(f(t[e]));return n}if(l(t)){var r={};for(var a in t)r[a]=f(t[a]);return r}return t}function p(t,n,e,r){var a,u,c={},h={};for(e=e||[],r=r||[],u=0;u<e.length;u++)c[e[u]]=!0;for(u=0;u<r.length;u++)h[r[u]]=!0;var d=f(t);for(u in n)if(null==d[u]||h[u])d[u]=n[u];else if(o(n[u])||s(n[u]))c[u]?(a=[],a.push.apply(a,i(d[u])?d[u]:[d[u]]),a.push.apply(a,s(n[u])?n[u]:[n[u]]),d[u]=a):d[u]=n[u];else if(i(n[u]))a=[],i(d[u])&&a.push.apply(a,d[u]),a.push.apply(a,n[u]),d[u]=a;else if(l(n[u]))for(var p in l(d[u])||(d[u]={}),n[u])d[u][p]=n[u][p];return d}function g(t,n,e){if(null!=t){var i=t,r=i;return n.replace(/([^\.])+/g,(function(t,n,i,o){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=i+t.length>=o.length,l=function(){return r[s[1]]||function(){return r[s[1]]=[],r[s[1]]}()};if(a)s?l()[s[3]]=e:r[t]=e;else if(s){var u=l();r=u[s[3]]||function(){return u[s[3]]={},u[s[3]]}()}else r=r[t]||function(){return r[t]={},r[t]}();return""})),t}}function v(t,n,e){for(var i=0;i<e.length;i++){var r=e[i][0][e[i][1]].apply(e[i][0],e[i][2]);if(r===n)return r}return t}function m(t,n,e,r){var s=function(t){var e=t.match(/(\${.*?})/g);if(null!=e)for(var i=0;i<e.length;i++){var r=n[e[i].substring(2,e[i].length-1)]||"";null!=r&&(t=t.replace(e[i],r))}return t},a=function(t){if(null!=t){if(o(t))return s(t);if(!c(t)||r||null!=e&&0!==(t.name||"").indexOf(e)){if(i(t)){for(var u=[],h=0;h<t.length;h++)u.push(a(t[h]));return u}if(l(t)){var d={};for(var f in t)d[f]=a(t[f]);return d}return t}return t(n)}};return a(t)}function b(t,n){if(t)for(var e=0;e<t.length;e++)if(n(t[e]))return e;return-1}function y(t,n){var e=b(t,n);return e>-1&&t.splice(e,1),-1!==e}function _(t,n){var e=t.indexOf(n);return e>-1&&t.splice(e,1),-1!==e}function x(t,n,e){-1===b(t,e)&&t.push(n)}function P(t,n,e,i){var r=t[n];return null==r&&(r=[],t[n]=r),r[i?"unshift":"push"](e),r}function C(t,n,e){return-1===t.indexOf(n)&&(e?t.unshift(n):t.push(n),!0)}function w(t,n,e){var r;n=i(n)?n:[n];var o=function(n){var e=n.__proto__;while(null!=e)if(null!=e.prototype){for(var i in e.prototype)e.prototype.hasOwnProperty(i)&&!t.prototype.hasOwnProperty(i)&&(t.prototype[i]=e.prototype[i]);e=e.prototype.__proto__}else e=null};for(r=0;r<n.length;r++){for(var s in n[r].prototype)n[r].prototype.hasOwnProperty(s)&&!t.prototype.hasOwnProperty(s)&&(t.prototype[s]=n[r].prototype[s]);o(n[r])}var a=function(t,e){return function(){for(r=0;r<n.length;r++)n[r].prototype[t]&&n[r].prototype[t].apply(this,arguments);return e.apply(this,arguments)}},l=function(n){for(var e in n)t.prototype[e]=a(e,n[e])};if(arguments.length>2)for(r=2;r<arguments.length;r++)l(arguments[r]);return t}function j(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0,e="x"===t?n:3&n|8;return e.toString(16)}))}function E(t){if(null==t)return null;var n=t.replace(/^\s\s*/,""),e=/\s/,i=n.length;while(e.test(n.charAt(--i)));return n.slice(0,i+1)}function S(t,n){t=null==t.length||"string"===typeof t?[t]:t;for(var e=0;e<t.length;e++)n(t[e])}function D(t,n){for(var e=[],i=0;i<t.length;i++)e.push(n(t[i]));return e}function I(t,n,e){e=e||"parent";var i=function(t){return t?n[t]:null},r=function(t){return t?i(t[e]):null},o=function(t,n){if(null==t)return n;var e=["anchor","anchors","cssClass","connector","paintStyle","hoverPaintStyle","endpoint","endpoints"];"override"===n.mergeStrategy&&Array.prototype.push.apply(e,["events","overlays"]);var i=p(t,n,[],e);return o(r(t),i)},s=function(t){if(null==t)return{};if("string"===typeof t)return i(t);if(t.length){var n=!1,e=0,r=void 0;while(!n&&e<t.length)r=s(t[e]),r?n=!0:e++;return r}},a=s(t);return a?o(r(a),a):{}}function k(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.logEnabled&&"undefined"!==typeof console)try{var i=arguments[arguments.length-1];console.log(i)}catch(r){}}function A(t,n,e){return function(){var i=null;try{null!=n&&(i=n.apply(this,arguments))}catch(r){k("jsPlumb function failed : "+r)}if(null!=t&&(null==e||i!==e))try{i=t.apply(this,arguments)}catch(r){k("wrapped function failed : "+r)}return i}}n.jsPlumbUtil=e,e.isArray=i,e.isNumber=r,e.isString=o,e.isBoolean=s,e.isNull=a,e.isObject=l,e.isDate=u,e.isFunction=c,e.isNamedFunction=h,e.isEmpty=d,e.clone=f,e.merge=p,e.replace=g,e.functionChain=v,e.populate=m,e.findWithFunction=b,e.removeWithFunction=y,e.remove=_,e.addWithFunction=x,e.addToList=P,e.suggest=C,e.extend=w,e.uuid=j,e.fastTrim=E,e.each=S,e.map=D,e.mergeWithParents=I,e.logEnabled=!0,e.log=k,e.wrap=A;var T=function(){function t(){var t=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(n,e,i){var r=function(n){P(t._listeners,n,e,i),e.__jsPlumb=e.__jsPlumb||{},e.__jsPlumb[j()]=n};if("string"===typeof n)r(n);else if(null!=n.length)for(var o=0;o<n.length;o++)r(n[o]);return t},this.fire=function(t,n,e){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[t]){var i=this._listeners[t].length,r=0,o=!1,s=null;if(!this.shouldFireEvent||this.shouldFireEvent(t,n,e))while(!o&&r<i&&!1!==s){if(this.eventsToDieOn[t])this._listeners[t][r].apply(this,[n,e]);else try{s=this._listeners[t][r].apply(this,[n,e])}catch(a){k("jsPlumb: fire failed for event "+t+" : "+a)}r++,null!=this._listeners&&null!=this._listeners[t]||(o=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var n=t.queue.pop();n&&t.fire.apply(t,n)},this.unbind=function(t,n){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"===typeof t)delete this._listeners[t];else if(t.__jsPlumb){var e=void 0;for(var i in t.__jsPlumb)e=t.__jsPlumb[i],_(this._listeners[e]||[],t)}}else 2===arguments.length&&_(this._listeners[t]||[],n);return this},this.getListener=function(n){return t._listeners[n]},this.setSuspendEvents=function(n){t.eventsSuspended=n},this.isSuspendEvents=function(){return t.eventsSuspended},this.silently=function(n){t.setSuspendEvents(!0);try{n()}catch(e){k("Cannot execute silent function "+e)}t.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var n in t._listeners)t._listeners[n]=null}}return t}();e.EventGenerator=T}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this;t.jsPlumbUtil.matchesSelector=function(t,n,e){e=e||t.parentNode;for(var i=e.querySelectorAll(n),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},t.jsPlumbUtil.consume=function(t,n){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!n&&t.preventDefault&&t.preventDefault()},t.jsPlumbUtil.sizeElement=function(t,n,e,i,r){t&&(t.style.height=r+"px",t.height=r,t.style.width=i+"px",t.width=i,t.style.left=n+"px",t.style.top=e+"px")}}.call("undefined"!==typeof window?window:this),function(){var t={deriveAnchor:function(t,n,e,i){return{top:["TopRight","TopLeft"],bottom:["BottomRight","BottomLeft"]}[t][n]}},n=this,e=function(t){this.count=0,this.instance=t,this.lists={},this.instance.addList=function(t,n){return this.listManager.addList(t,n)},this.instance.removeList=function(t){this.listManager.removeList(t)},this.instance.bind("manageElement",function(t){for(var n=this.instance.getSelector(t.el,"[jtk-scrollable-list]"),e=0;e<n.length;e++)this.addList(n[e])}.bind(this)),this.instance.bind("unmanageElement",(function(t){this.removeList(t.el)})),this.instance.bind("connection",function(t,n){null==n&&(this._maybeUpdateParentList(t.source),this._maybeUpdateParentList(t.target))}.bind(this))};n.jsPlumbListManager=e,e.prototype={addList:function(n,e){var r=this.instance.extend({},t);e=this.instance.extend(r,e||{});var o=[this.instance.getInstanceIndex(),this.count++].join("_");this.lists[o]=new i(this.instance,n,e,o)},removeList:function(t){var n=this.lists[t._jsPlumbList];n&&(n.destroy(),delete this.lists[t._jsPlumbList])},_maybeUpdateParentList:function(t){var n=t.parentNode,e=this.instance.getContainer();while(null!=n&&n!==e){if(null!=n._jsPlumbList&&null!=this.lists[n._jsPlumbList])return void n._jsPlumbScrollHandler();n=n.parentNode}}};var i=function(t,n,e,i){function r(t,n,i,r){return e.anchor?e.anchor:e.deriveAnchor(t,n,i,r)}function o(t,n,i,r){return e.deriveEndpoint?e.deriveEndpoint(t,n,i,r):e.endpoint?e.endpoint:i.type}function s(n){var e=n.parentNode,i=t.getContainer();while(null!=e&&e!==i){if(t.hasClass(e,"jtk-managed"))return void t.recalculateOffsets(e);e=e.parentNode}}n["_jsPlumbList"]=i;var a=function(e){for(var i=t.getSelector(n,".jtk-managed"),a=t.getId(n),l=0;l<i.length;l++){if(i[l].offsetTop<n.scrollTop)i[l]._jsPlumbProxies||(i[l]._jsPlumbProxies=i[l]._jsPlumbProxies||[],t.select({source:i[l]}).each((function(e){t.proxyConnection(e,0,n,a,(function(){return o("top",0,e.endpoints[0],e)}),(function(){return r("top",0,e.endpoints[0],e)})),i[l]._jsPlumbProxies.push([e,0])})),t.select({target:i[l]}).each((function(e){t.proxyConnection(e,1,n,a,(function(){return o("top",1,e.endpoints[1],e)}),(function(){return r("top",1,e.endpoints[1],e)})),i[l]._jsPlumbProxies.push([e,1])})));else if(i[l].offsetTop>n.scrollTop+n.offsetHeight)i[l]._jsPlumbProxies||(i[l]._jsPlumbProxies=i[l]._jsPlumbProxies||[],t.select({source:i[l]}).each((function(e){t.proxyConnection(e,0,n,a,(function(){return o("bottom",0,e.endpoints[0],e)}),(function(){return r("bottom",0,e.endpoints[0],e)})),i[l]._jsPlumbProxies.push([e,0])})),t.select({target:i[l]}).each((function(e){t.proxyConnection(e,1,n,a,(function(){return o("bottom",1,e.endpoints[1],e)}),(function(){return r("bottom",1,e.endpoints[1],e)})),i[l]._jsPlumbProxies.push([e,1])})));else if(i[l]._jsPlumbProxies){for(var u=0;u<i[l]._jsPlumbProxies.length;u++)t.unproxyConnection(i[l]._jsPlumbProxies[u][0],i[l]._jsPlumbProxies[u][1],a);delete i[l]._jsPlumbProxies}t.revalidate(i[l])}s(n)};t.setAttribute(n,"jtk-scrollable-list","true"),n._jsPlumbScrollHandler=a,t.on(n,"scroll",a),a(),this.destroy=function(){t.off(n,"scroll",a),delete n._jsPlumbScrollHandler;for(var e=t.getSelector(n,".jtk-managed"),i=t.getId(n),r=0;r<e.length;r++)if(e[r]._jsPlumbProxies){for(var o=0;o<e[r]._jsPlumbProxies.length;o++)t.unproxyConnection(e[r]._jsPlumbProxies[o][0],e[r]._jsPlumbProxies[o][1],i);delete e[r]._jsPlumbProxies}}}}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumbUtil,i=function(){return""+(new Date).getTime()},r=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var n={};g.extend(n,t._jsPlumb.paintStyle),g.extend(n,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,n.gradient&&t._jsPlumb.paintStyle.fill&&delete n.gradient,t._jsPlumb.hoverPaintStyle=n}},o=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(t,n,e,i){var r=t.getAttachedElements();if(r)for(var o=0,s=r.length;o<s;o++)i&&i===r[o]||r[o].setHover(n,!0,e)},a=function(t){return null==t?null:t.split(" ")},l=function(t,n,e){for(var i in n)t[i]=e},u=function(t,n,i){if(t.getDefaultType){var r=t.getTypeDescriptor(),o={},s=t.getDefaultType(),a=e.merge({},s);l(o,s,"__default");for(var u=0,c=t._jsPlumb.types.length;u<c;u++){var h=t._jsPlumb.types[u];if("__default"!==h){var d=t._jsPlumb.instance.getType(h,r);if(null!=d){var f=["anchor","anchors","connector","paintStyle","hoverPaintStyle","endpoint","endpoints","connectorOverlays","connectorStyle","connectorHoverStyle","endpointStyle","endpointHoverStyle"],p=[];"override"===d.mergeStrategy?Array.prototype.push.apply(f,["events","overlays","cssClass"]):p.push("cssClass"),a=e.merge(a,d,p,f),l(o,d,h)}}}n&&(a=e.populate(a,n,"_")),t.applyType(a,i,o),i||t.repaint()}},c=t.jsPlumbUIComponent=function(t){e.EventGenerator.apply(this,arguments);var n=this,i=arguments,r=n.idPrefix,o=r+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,n,e){this._jsPlumb.typeCache[e]=this._jsPlumb.typeCache[e]||{},this._jsPlumb.typeCache[e][t]=n},this.getCachedTypeItem=function(t,n){return this._jsPlumb.typeCache[n]?this._jsPlumb.typeCache[n][t]:null},this.getId=function(){return o};var s=t.overlays||[],a={};if(this.defaultOverlayKeys){for(var l=0;l<this.defaultOverlayKeys.length;l++)Array.prototype.push.apply(s,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[l]]||[]);for(l=0;l<s.length;l++){var u=g.convertToFullOverlaySpec(s[l]);a[u[1].id]=u}}var c={overlays:a,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return c},this.appendToDefaultType=function(t){for(var n in t)c[n]=t[n]},t.events)for(var h in t.events)n.bind(h,t.events[h]);this.clone=function(){var t=Object.create(this.constructor.prototype);return this.constructor.apply(t,i),t}.bind(this),this.isDetachAllowed=function(t){var n=!0;if(this._jsPlumb.beforeDetach)try{n=this._jsPlumb.beforeDetach(t)}catch(i){e.log("jsPlumb: beforeDetach callback failed",i)}return n},this.isDropAllowed=function(t,n,i,r,o,s,a){var l=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:n,scope:i,connection:r,dropEndpoint:o,source:s,target:a});if(this._jsPlumb.beforeDrop)try{l=this._jsPlumb.beforeDrop({sourceId:t,targetId:n,scope:i,connection:r,dropEndpoint:o,source:s,target:a})}catch(u){e.log("jsPlumb: beforeDrop callback failed",u)}return l};var d=[];this.setListenerComponent=function(t){for(var n=0;n<d.length;n++)d[n][3]=t}},h=function(t,n){var e=t._jsPlumb.types[n],i=t._jsPlumb.instance.getType(e,t.getTypeDescriptor());null!=i&&i.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,i.cssClass)};e.extend(t.jsPlumbUIComponent,e.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,n){this._jsPlumb.parameters[t]=n},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return g.getClass(this.canvas)},hasClass:function(t){return g.hasClass(this.canvas,t)},addClass:function(t){g.addClass(this.canvas,t)},removeClass:function(t){g.removeClass(this.canvas,t)},updateClasses:function(t,n){g.updateClasses(this.canvas,t,n)},setType:function(t,n,e){this.clearTypes(),this._jsPlumb.types=a(t)||[],u(this,n,e)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,n){u(this,t,n)},hasType:function(t){return-1!==this._jsPlumb.types.indexOf(t)},addType:function(t,n,e){var i=a(t),r=!1;if(null!=i){for(var o=0,s=i.length;o<s;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),r=!0);r&&u(this,n,e)}},removeType:function(t,n,e){var i=a(t),r=!1,o=function(t){var n=this._jsPlumb.types.indexOf(t);return-1!==n&&(h(this,n),this._jsPlumb.types.splice(n,1),!0)}.bind(this);if(null!=i){for(var s=0,l=i.length;s<l;s++)r=o(i[s])||r;r&&u(this,n,e)}},clearTypes:function(t,n){for(var e=this._jsPlumb.types.length,i=0;i<e;i++)h(this,0),this._jsPlumb.types.splice(0,1);u(this,t,n)},toggleType:function(t,n,e){var i=a(t);if(null!=i){for(var r=0,o=i.length;r<o;r++){var s=this._jsPlumb.types.indexOf(i[r]);-1!==s?(h(this,s),this._jsPlumb.types.splice(s,1)):this._jsPlumb.types.push(i[r])}u(this,n,e)}},applyType:function(t,n){if(this.setPaintStyle(t.paintStyle,n),this.setHoverPaintStyle(t.hoverPaintStyle,n),t.parameters)for(var e in t.parameters)this.setParameter(e,t.parameters[e]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,n){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,r(this),n||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,n){this._jsPlumb.hoverPaintStyle=t,r(this),n||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,n,e){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=t;var r=t?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(e=e||i(),this.repaint({timestamp:e,recalc:!1}))),this.getAttachedElements&&!n&&s(this,t,i(),this)}}});var d=0,f=function(){var t=d+1;return d++,t},p=t.jsPlumbInstance=function(n){this.version="2.11.2",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},n&&g.extend(this.Defaults,n),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},e.EventGenerator.apply(this);var r=this,s=f(),a=r.bind,l={},u=1,h=function(t){if(null==t)return null;if(3===t.nodeType||8===t.nodeType)return{el:t,text:!0};var n=r.getElement(t);return{el:n,id:e.isString(t)&&null==n?t:W(n)}};for(var d in this.getInstanceIndex=function(){return s},this.setZoom=function(t,n){return u=t,r.fire("zoom",u),n&&r.repaintEverything(),!0},this.getZoom=function(){return u},this.Defaults)l[d]=this.Defaults[d];var p,v=[];this.unbindContainer=function(){if(null!=p&&v.length>0)for(var t=0;t<v.length;t++)r.off(p,v[t][0],v[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each((function(n){n.moveParent(t)})),this.selectEndpoints().each((function(n){n.moveParent(t)}));var n=p;p=t,v.length=0;for(var e={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},i=function(t,n,i){var o=n.srcElement||n.target,s=(o&&o.parentNode?o.parentNode._jsPlumb:null)||(o?o._jsPlumb:null)||(o&&o.parentNode&&o.parentNode.parentNode?o.parentNode.parentNode._jsPlumb:null);if(s){s.fire(t,s,n);var a=i&&e[i+t]||t;r.fire(a,s.component||s,n)}},s=function(t,n,e){v.push([t,e]),r.on(p,t,n,e)},a=function(t){s(t,".jtk-connector",(function(n){i(t,n)})),s(t,".jtk-endpoint",(function(n){i(t,n,"endpoint")})),s(t,".jtk-overlay",(function(n){i(t,n)}))},l=0;l<o.length;l++)a(o[l]);for(var u in P){var c=P[u].el;c.parentNode===n&&(n.removeChild(c),p.appendChild(c))}},this.getContainer=function(){return p},this.bind=function(t,n){"ready"===t&&b?n():a.apply(r,[t,n])},r.importDefaults=function(t){for(var n in t)r.Defaults[n]=t[n];return t.Container&&r.setContainer(t.Container),r},r.restoreDefaults=function(){return r.Defaults=g.extend({},l),r};var m=null,b=!1,y=[],_={},x={},P={},C={},w={},j=!1,E=[],S=!1,D=null,I=this.Defaults.Scope,k=1,A=function(){return""+k++},T=function(t,n){p?p.appendChild(t):n?this.getElement(n).appendChild(t):this.appendToRoot(t)}.bind(this),O=function(t,n,e,o){if(!S){var s,a=W(t),l=r.getDragManager();l&&(s=l.getElementsForDraggable(a)),null==e&&(e=i());var u=pt({elId:a,offset:n,recalc:!1,timestamp:e});if(s&&u&&u.o)for(var c in s)pt({elId:s[c].id,offset:{left:u.o.left+s[c].offset.left,top:u.o.top+s[c].offset.top},recalc:!1,timestamp:e});if(r.anchorManager.redraw(a,n,e,null,o),s)for(var h in s)r.anchorManager.redraw(s[h].id,n,e,s[h].offset,o,!0)}},M=function(t){return x[t]},L=function(t,n){for(var e=t.scope.split(/\s/),i=n.scope.split(/\s/),r=0;r<e.length;r++)for(var o=0;o<i.length;o++)if(i[o]===e[r])return!0;return!1},F=function(t,n){var e=g.extend({},t);for(var i in n)n[i]&&(e[i]=n[i]);return e},N=function(t,n){var i=g.extend({},t);if(n&&g.extend(i,n),i.source&&(i.source.endpoint?i.sourceEndpoint=i.source:i.source=r.getElement(i.source)),i.target&&(i.target.endpoint?i.targetEndpoint=i.target:i.target=r.getElement(i.target)),t.uuids&&(i.sourceEndpoint=M(t.uuids[0]),i.targetEndpoint=M(t.uuids[1])),i.sourceEndpoint&&i.sourceEndpoint.isFull())e.log(r,"could not add connection; source endpoint is full");else if(i.targetEndpoint&&i.targetEndpoint.isFull())e.log(r,"could not add connection; target endpoint is full");else{if(!i.type&&i.sourceEndpoint&&(i.type=i.sourceEndpoint.connectionType),i.sourceEndpoint&&i.sourceEndpoint.connectorOverlays){i.overlays=i.overlays||[];for(var o=0,s=i.sourceEndpoint.connectorOverlays.length;o<s;o++)i.overlays.push(i.sourceEndpoint.connectorOverlays[o])}i.sourceEndpoint&&i.sourceEndpoint.scope&&(i.scope=i.sourceEndpoint.scope),!i["pointer-events"]&&i.sourceEndpoint&&i.sourceEndpoint.connectorPointerEvents&&(i["pointer-events"]=i.sourceEndpoint.connectorPointerEvents);var a=function(t,n,e){return r.addEndpoint(t,F(n,{anchor:i.anchors?i.anchors[e]:i.anchor,endpoint:i.endpoints?i.endpoints[e]:i.endpoint,paintStyle:i.endpointStyles?i.endpointStyles[e]:i.endpointStyle,hoverPaintStyle:i.endpointHoverStyles?i.endpointHoverStyles[e]:i.endpointHoverStyle}))},l=function(t,n,e,r){if(i[t]&&!i[t].endpoint&&!i[t+"Endpoint"]&&!i.newConnection){var o=W(i[t]),s=e[o];if(s=s?s[r]:null,s){if(!s.enabled)return!1;var l=null!=s.endpoint&&s.endpoint._jsPlumb?s.endpoint:a(i[t],s.def,n);if(l.isFull())return!1;i[t+"Endpoint"]=l,!i.scope&&s.def.scope&&(i.scope=s.def.scope),s.uniqueEndpoint?s.endpoint?l.finalEndpoint=s.endpoint:(s.endpoint=l,l.setDeleteOnEmpty(!1)):l.setDeleteOnEmpty(!0),0===n&&s.def.connectorOverlays&&(i.overlays=i.overlays||[],Array.prototype.push.apply(i.overlays,s.def.connectorOverlays))}}};if(!1!==l("source",0,this.sourceEndpointDefinitions,i.type||"default")&&!1!==l("target",1,this.targetEndpointDefinitions,i.type||"default"))return i.sourceEndpoint&&i.targetEndpoint&&(L(i.sourceEndpoint,i.targetEndpoint)||(i=null)),i}}.bind(r),R=function(t){var n=r.Defaults.ConnectionType||r.getDefaultConnectionType();t._jsPlumb=r,t.newConnection=R,t.newEndpoint=$,t.endpointsByUUID=x,t.endpointsByElement=_,t.finaliseConnection=z,t.id="con_"+A();var e=new n(t);return e.isDetachable()&&(e.endpoints[0].initDraggable("_jsPlumbSource"),e.endpoints[1].initDraggable("_jsPlumbTarget")),e},z=r.finaliseConnection=function(t,n,e,i){if(n=n||{},t.suspendedEndpoint||y.push(t),t.pending=null,t.endpoints[0].isTemporarySource=!1,!1!==i&&r.anchorManager.newConnection(t),O(t.source),!n.doNotFireConnectionEvent&&!1!==n.fireEvent){var o={connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]};r.fire("connection",o,e)}},$=function(t,n){var e=r.Defaults.EndpointType||g.Endpoint,i=g.extend({},t);i._jsPlumb=r,i.newConnection=R,i.newEndpoint=$,i.endpointsByUUID=x,i.endpointsByElement=_,i.fireDetachEvent=Y,i.elementId=n||W(i.source);var o=new e(i);return o.id="ep_"+A(),ft(i.elementId,i.source),g.headless||r.getDragManager().endpointAdded(i.source,n),o},B=function(t,n,e){var i=_[t];if(i&&i.length)for(var r=0,o=i.length;r<o;r++){for(var s=0,a=i[r].connections.length;s<a;s++){var l=n(i[r].connections[s]);if(l)return}e&&e(i[r])}},G=function(t,n,e){n="block"===n;var i=null;e&&(i=function(t){t.setVisible(n,!0,!0)});var r=h(t);B(r.id,(function(t){if(n&&e){var i=t.sourceId===r.id?1:0;t.endpoints[i].isVisible()&&t.setVisible(!0)}else t.setVisible(n)}),i)},U=function(t,n){var e=null;n&&(e=function(t){var n=t.isVisible();t.setVisible(!n)}),B(t,(function(t){var n=t.isVisible();t.setVisible(!n)}),e)},V=function(t){var n=C[t];return n?{o:n,s:E[t]}:pt({elId:t})},W=function(t,n,i){if(e.isString(t))return t;if(null==t)return null;var o=r.getAttribute(t,"id");return o&&"undefined"!==o||(2===arguments.length&&void 0!==arguments[1]?o=n:(1===arguments.length||3===arguments.length&&!arguments[2])&&(o="jsPlumb_"+s+"_"+A()),i||r.setAttribute(t,"id",o)),o};this.setConnectionBeingDragged=function(t){j=t},this.isConnectionBeingDragged=function(){return j},this.getManagedElements=function(){return P},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,n,i){i=i||{};var o=g.extend({},i);g.extend(o,n),o.endpoint=o.endpoint||r.Defaults.Endpoint,o.paintStyle=o.paintStyle||r.Defaults.EndpointStyle;for(var s=[],a=e.isArray(t)||null!=t.length&&!e.isString(t)?t:[t],l=0,u=a.length;l<u;l++){o.source=r.getElement(a[l]),ht(o.source);var c=W(o.source),h=$(o,c),d=ft(c,o.source).info.o;e.addToList(_,c,h),S||h.paint({anchorLoc:h.anchor.compute({xy:[d.left,d.top],wh:E[c],element:h,timestamp:D}),timestamp:D}),s.push(h)}return 1===s.length?s[0]:s},this.addEndpoints=function(t,n,i){for(var o=[],s=0,a=n.length;s<a;s++){var l=r.addEndpoint(t,n[s],i);e.isArray(l)?Array.prototype.push.apply(o,l):o.push(l)}return o},this.animate=function(t,n,i){if(!this.animationSupported)return!1;i=i||{};var o=r.getElement(t),s=W(o),a=g.animEvents.step,l=g.animEvents.complete;i[a]=e.wrap(i[a],(function(){r.revalidate(s)})),i[l]=e.wrap(i[l],(function(){r.revalidate(s)})),r.doAnimate(o,n,i)},this.checkCondition=function(t,n){var i=r.getListener(t),o=!0;if(i&&i.length>0){var s=Array.prototype.slice.call(arguments,1);try{for(var a=0,l=i.length;a<l;a++)o=o&&i[a].apply(i[a],s)}catch(u){e.log(r,"cannot check condition ["+t+"]"+u)}}return o},this.connect=function(t,n){var i,r=N(t,n);if(r){if(null==r.source&&null==r.sourceEndpoint)return void e.log("Cannot establish connection - source does not exist");if(null==r.target&&null==r.targetEndpoint)return void e.log("Cannot establish connection - target does not exist");ht(r.source),i=R(r),z(i,r)}return i};var X=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],H=function(t,n,e,i){var r,o,s,a=X[e],l=t[a.elId],u=(t[a.el],t.endpoints[e]),c={index:e,originalSourceId:0===e?l:t.sourceId,newSourceId:t.sourceId,originalTargetId:1===e?l:t.targetId,newTargetId:t.targetId,connection:t};if(n.constructor===g.Endpoint)r=n,r.addConnection(t),n=r.element;else if(o=W(n),s=this[a.epDefs][o],o===t[a.elId])r=null;else if(s)for(var h in s){if(!s[h].enabled)return;r=null!=s[h].endpoint&&s[h].endpoint._jsPlumb?s[h].endpoint:this.addEndpoint(n,s[h].def),s[h].uniqueEndpoint&&(s[h].endpoint=r),r.addConnection(t)}else r=t.makeEndpoint(0===e,n,o);return null!=r&&(u.detachFromConnection(t),t.endpoints[e]=r,t[a.el]=r.element,t[a.elId]=r.elementId,c[0===e?"newSourceId":"newTargetId"]=r.elementId,q(c),i||t.repaint()),c.element=n,c}.bind(this);this.setSource=function(t,n,e){var i=H(t,n,0,e);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,t,i.el)},this.setTarget=function(t,n,e){var i=H(t,n,1,e);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,t)},this.deleteEndpoint=function(t,n,e){var i="string"===typeof t?x[t]:t;return i&&r.deleteObject({endpoint:i,dontUpdateHover:n,deleteAttachedObjects:e}),r},this.deleteEveryEndpoint=function(){var t=r.setSuspendDrawing(!0);for(var n in _){var e=_[n];if(e&&e.length)for(var i=0,o=e.length;i<o;i++)r.deleteEndpoint(e[i],!0)}_={},P={},x={},C={},w={},r.anchorManager.reset();var s=r.getDragManager();return s&&s.reset(),t||r.setSuspendDrawing(!1),r};var Y=function(t,n,e){var i=r.Defaults.ConnectionType||r.getDefaultConnectionType(),o=t.constructor===i,s=o?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;n&&r.fire("connectionDetached",s,e),r.fire("internal.connectionDetached",s,e),r.anchorManager.connectionDetached(s)},q=r.fireMoveEvent=function(t,n){r.fire("connectionMoved",t,n)};this.unregisterEndpoint=function(t){for(var n in t._jsPlumb.uuid&&(x[t._jsPlumb.uuid]=null),r.anchorManager.deleteEndpoint(t),_){var e=_[n];if(e){for(var i=[],o=0,s=e.length;o<s;o++)e[o]!==t&&i.push(e[o]);_[n]=i}_[n].length<1&&delete _[n]}};var J="isDetachAllowed",K="beforeDetach",Z="checkCondition";this.deleteConnection=function(t,n){return!(null==t||(n=n||{},!n.force&&!e.functionChain(!0,!1,[[t.endpoints[0],J,[t]],[t.endpoints[1],J,[t]],[t,J,[t]],[r,Z,[K,t]]])))&&(t.setHover(!1),Y(t,!t.pending&&!1!==n.fireEvent,n.originalEvent),t.endpoints[0].detachFromConnection(t),t.endpoints[1].detachFromConnection(t),e.removeWithFunction(y,(function(n){return t.id===n.id})),t.cleanup(),t.destroy(),!0)},this.deleteEveryConnection=function(t){t=t||{};var n=y.length,e=0;return r.batch((function(){for(var i=0;i<n;i++)e+=r.deleteConnection(y[0],t)?1:0})),e},this.deleteConnectionsForElement=function(t,n){n=n||{},t=r.getElement(t);var e=W(t),i=_[e];if(i&&i.length)for(var o=0,s=i.length;o<s;o++)i[o].deleteEveryConnection(n);return r},this.deleteObject=function(t){var n={endpoints:{},connections:{},endpointCount:0,connectionCount:0},i=!1!==t.deleteAttachedObjects,o=function(e){null!=e&&null==n.connections[e.id]&&(t.dontUpdateHover||null==e._jsPlumb||e.setHover(!1),n.connections[e.id]=e,n.connectionCount++)},s=function(e){if(null!=e&&null==n.endpoints[e.id]&&(t.dontUpdateHover||null==e._jsPlumb||e.setHover(!1),n.endpoints[e.id]=e,n.endpointCount++,i))for(var r=0;r<e.connections.length;r++){var s=e.connections[r];o(s)}};for(var a in t.connection?o(t.connection):s(t.endpoint),n.connections){var l=n.connections[a];if(l._jsPlumb){e.removeWithFunction(y,(function(t){return l.id===t.id})),Y(l,!1!==t.fireEvent&&!l.pending,t.originalEvent);var u=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects;l.endpoints[0].detachFromConnection(l,null,u),l.endpoints[1].detachFromConnection(l,null,u),l.cleanup(!0),l.destroy(!0)}}for(var c in n.endpoints){var h=n.endpoints[c];h._jsPlumb&&(r.unregisterEndpoint(h),h.cleanup(!0),h.destroy(!0))}return n};var Q=function(t,n,e,i){for(var r=0,o=t.length;r<o;r++)t[r][n].apply(t[r],e);return i(t)},tt=function(t,n,e){for(var i=[],r=0,o=t.length;r<o;r++)i.push([t[r][n].apply(t[r],e),t[r]]);return i},nt=function(t,n,e){return function(){return Q(t,n,arguments,e)}},et=function(t,n){return function(){return tt(t,n,arguments)}},it=function(t,n){var e=[];if(t)if("string"===typeof t){if("*"===t)return t;e.push(t)}else if(n)e=t;else if(t.length)for(var i=0,r=t.length;i<r;i++)e.push(h(t[i]).id);else e.push(h(t).id);return e},rt=function(t,n,e){return"*"===t||(t.length>0?-1!==t.indexOf(n):!e)};this.getConnections=function(t,n){t?t.constructor===String&&(t={scope:t}):t={};for(var e=t.scope||r.getDefaultScope(),i=it(e,!0),o=it(t.source),s=it(t.target),a=!n&&i.length>1?{}:[],l=function(t,e){if(!n&&i.length>1){var r=a[t];null==r&&(r=a[t]=[]),r.push(e)}else a.push(e)},u=0,c=y.length;u<c;u++){var h=y[u],d=h.proxies&&h.proxies[0]?h.proxies[0].originalEp.elementId:h.sourceId,f=h.proxies&&h.proxies[1]?h.proxies[1].originalEp.elementId:h.targetId;rt(i,h.scope)&&rt(o,d)&&rt(s,f)&&l(h.scope,h)}return a};var ot=function(t,n){return function(e){for(var i=0,r=t.length;i<r;i++)e(t[i]);return n(t)}},st=function(t){return function(n){return t[n]}},at=function(t,n){var e,i,r={length:t.length,each:ot(t,n),get:st(t)},o=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(e=0,i=o.length;e<i;e++)r[o[e]]=nt(t,o[e],n);for(e=0,i=s.length;e<i;e++)r[s[e]]=et(t,s[e]);return r},lt=function(t){var n=at(t,lt);return g.extend(n,{setDetachable:nt(t,"setDetachable",lt),setReattach:nt(t,"setReattach",lt),setConnector:nt(t,"setConnector",lt),delete:function(){for(var n=0,e=t.length;n<e;n++)r.deleteConnection(t[n])},isDetachable:et(t,"isDetachable"),isReattach:et(t,"isReattach")})},ut=function(t){var n=at(t,ut);return g.extend(n,{setEnabled:nt(t,"setEnabled",ut),setAnchor:nt(t,"setAnchor",ut),isEnabled:et(t,"isEnabled"),deleteEveryConnection:function(){for(var n=0,e=t.length;n<e;n++)t[n].deleteEveryConnection()},delete:function(){for(var n=0,e=t.length;n<e;n++)r.deleteEndpoint(t[n])}})};this.select=function(t){return t=t||{},t.scope=t.scope||"*",lt(t.connections||r.getConnections(t,!0))},this.selectEndpoints=function(t){t=t||{},t.scope=t.scope||"*";var n=!t.element&&!t.source&&!t.target,e=n?"*":it(t.element),i=n?"*":it(t.source),r=n?"*":it(t.target),o=it(t.scope,!0),s=[];for(var a in _){var l=rt(e,a,!0),u=rt(i,a,!0),c="*"!==i,h=rt(r,a,!0),d="*"!==r;if(l||u||h)t:for(var f=0,p=_[a].length;f<p;f++){var g=_[a][f];if(rt(o,g.scope,!0)){var v=c&&i.length>0&&!g.isSource,m=d&&r.length>0&&!g.isTarget;if(v||m)continue t;s.push(g)}}}return ut(s)},this.getAllConnections=function(){return y},this.getDefaultScope=function(){return I},this.getEndpoint=M,this.getEndpoints=function(t){return _[h(t).id]||[]},this.getDefaultEndpointType=function(){return g.Endpoint},this.getDefaultConnectionType=function(){return g.Connection},this.getId=W,this.draw=O,this.info=h,this.appendElement=T;var ct=!1;this.isHoverSuspended=function(){return ct},this.setHoverSuspended=function(t){ct=t},this.hide=function(t,n){return G(t,"none",n),r},this.idstamp=A;var ht=function(t){if(!p&&t){var n=r.getElement(t);n.offsetParent&&r.setContainer(n.offsetParent)}},dt=function(){r.Defaults.Container&&r.setContainer(r.Defaults.Container)},ft=r.manage=function(t,n,e){return P[t]||(P[t]={el:n,endpoints:[],connections:[]},P[t].info=pt({elId:t,timestamp:D}),r.addClass(n,"jtk-managed"),e||r.fire("manageElement",{id:t,info:P[t].info,el:n})),P[t]},pt=(r.unmanage=function(t){if(P[t]){var n=P[t].el;r.removeClass(n,"jtk-managed"),delete P[t],r.fire("unmanageElement",{id:t,el:n})}},function(t){var n,e=t.timestamp,i=t.recalc,o=t.offset,s=t.elId;return S&&!e&&(e=D),!i&&e&&e===w[s]?{o:t.offset||C[s],s:E[s]}:(i||!o&&null==C[s]?(n=P[s]?P[s].el:null,null!=n&&(E[s]=r.getSize(n),C[s]=r.getOffset(n),w[s]=e)):(C[s]=o||C[s],null==E[s]&&(n=P[s].el,null!=n&&(E[s]=r.getSize(n))),w[s]=e),C[s]&&!C[s].right&&(C[s].right=C[s].left+E[s][0],C[s].bottom=C[s].top+E[s][1],C[s].width=E[s][0],C[s].height=E[s][1],C[s].centerx=C[s].left+C[s].width/2,C[s].centery=C[s].top+C[s].height/2),{o:C[s],s:E[s]})});this.updateOffset=pt,this.init=function(){b||(dt(),r.anchorManager=new t.jsPlumb.AnchorManager({jsPlumbInstance:r}),b=!0,r.fire("ready",r))}.bind(this),this.log=m,this.jsPlumbUIComponent=c,this.makeAnchor=function(){var n,i=function(n,e){if(t.jsPlumb.Anchors[n])return new t.jsPlumb.Anchors[n](e);if(!r.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+n+"'"}};if(0===arguments.length)return null;var o=arguments[0],s=arguments[1],a=(arguments[2],null);if(o.compute&&o.getOrientation)return o;if("string"===typeof o)a=i(arguments[0],{elementId:s,jsPlumbInstance:r});else if(e.isArray(o))if(e.isArray(o[0])||e.isString(o[0]))2===o.length&&e.isObject(o[1])?e.isString(o[0])?(n=t.jsPlumb.extend({elementId:s,jsPlumbInstance:r},o[1]),a=i(o[0],n)):(n=t.jsPlumb.extend({elementId:s,jsPlumbInstance:r,anchors:o[0]},o[1]),a=new t.jsPlumb.DynamicAnchor(n)):a=new g.DynamicAnchor({anchors:o,selector:null,elementId:s,jsPlumbInstance:r});else{var l={x:o[0],y:o[1],orientation:o.length>=4?[o[2],o[3]]:[0,0],offsets:o.length>=6?[o[4],o[5]]:[0,0],elementId:s,jsPlumbInstance:r,cssClass:7===o.length?o[6]:null};a=new t.jsPlumb.Anchor(l),a.clone=function(){return new t.jsPlumb.Anchor(l)}}return a.id||(a.id="anchor_"+A()),a},this.makeAnchors=function(n,i,o){for(var s=[],a=0,l=n.length;a<l;a++)"string"===typeof n[a]?s.push(t.jsPlumb.Anchors[n[a]]({elementId:i,jsPlumbInstance:o})):e.isArray(n[a])&&s.push(r.makeAnchor(n[a],i,o));return s},this.makeDynamicAnchor=function(n,e){return new t.jsPlumb.DynamicAnchor({anchors:n,selector:e,elementId:null,jsPlumbInstance:r})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var gt=function(t,n,e,i,r){for(var o=t.target||t.srcElement,s=!1,a=i.getSelector(n,e),l=0;l<a.length;l++)if(a[l]===o){s=!0;break}return r?!s:s},vt=function(n,i,o,s,a){var l=new c(i),u=i._jsPlumb.EndpointDropHandler({jsPlumb:r,enabled:function(){return n.def.enabled},isFull:function(){var t=r.select({target:n.id}).length;return n.def.maxConnections>0&&t>=n.def.maxConnections},element:n.el,elementId:n.id,isSource:s,isTarget:a,addClass:function(t){r.addClass(n.el,t)},removeClass:function(t){r.removeClass(n.el,t)},onDrop:function(t){var n=t.endpoints[0];n.anchor.unlock()},isDropAllowed:function(){return l.isDropAllowed.apply(l,arguments)},isRedrop:function(t){return null!=t.suspendedElement&&null!=t.suspendedEndpoint&&t.suspendedEndpoint.element===n.el},getEndpoint:function(e){var o=n.def.endpoint;if(null==o||null==o._jsPlumb){var s=r.deriveEndpointAndAnchorSpec(e.getType().join(" "),!0),a=s.endpoints?t.jsPlumb.extend(i,{endpoint:n.def.def.endpoint||s.endpoints[1]}):i;s.anchors&&(a=t.jsPlumb.extend(a,{anchor:n.def.def.anchor||s.anchors[1]})),o=r.addEndpoint(n.el,a),o._mtNew=!0}if(i.uniqueEndpoint&&(n.def.endpoint=o),o.setDeleteOnEmpty(!0),e.isDetachable()&&o.initDraggable(),null!=o.anchor.positionFinder){var l=r.getUIPosition(arguments,r.getZoom()),u=r.getOffset(n.el),c=r.getSize(n.el),h=null==l?[0,0]:o.anchor.positionFinder(l,u,c,o.anchor.constructorParams);o.anchor.x=h[0],o.anchor.y=h[1]}return o},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?r.deleteObject({endpoint:t}):delete t._mtNew}}),h=t.jsPlumb.dragEvents.drop;return o.scope=o.scope||i.scope||r.Defaults.Scope,o[h]=e.wrap(o[h],u,!0),o.rank=i.rank||0,a&&(o[t.jsPlumb.dragEvents.over]=function(){return!0}),!1===i.allowLoopback&&(o.canDrop=function(t){var e=t.getDragElement()._jsPlumbRelatedElement;return e!==n.el}),r.initDroppable(n.el,o,"internal"),u};this.makeTarget=function(n,e,i){var o=t.jsPlumb.extend({_jsPlumb:this},i);t.jsPlumb.extend(o,e);for(var s=o.maxConnections||-1,a=function(n){var e=h(n),i=e.id,a=t.jsPlumb.extend({},o.dropOptions||{}),l=o.connectionType||"default";this.targetEndpointDefinitions[i]=this.targetEndpointDefinitions[i]||{},ht(i),e.el._isJsPlumbGroup&&null==a.rank&&(a.rank=-1);var u={def:t.jsPlumb.extend({},o),uniqueEndpoint:o.uniqueEndpoint,maxConnections:s,enabled:!0};o.createEndpoint&&(u.uniqueEndpoint=!0,u.endpoint=r.addEndpoint(n,u.def),u.endpoint.setDeleteOnEmpty(!1)),e.def=u,this.targetEndpointDefinitions[i][l]=u,vt(e,o,a,!0===o.isSource,!0),e.el._katavorioDrop[e.el._katavorioDrop.length-1].targetDef=u}.bind(this),l=n.length&&n.constructor!==String?n:[n],u=0,c=l.length;u<c;u++)a(l[u]);return this},this.unmakeTarget=function(t,n){var e=h(t);return r.destroyDroppable(e.el,"internal"),n||delete this.targetEndpointDefinitions[e.id],this},this.makeSource=function(n,i,o){var s=t.jsPlumb.extend({_jsPlumb:this},o);t.jsPlumb.extend(s,i);var a=s.connectionType||"default",l=r.deriveEndpointAndAnchorSpec(a);s.endpoint=s.endpoint||l.endpoints[0],s.anchor=s.anchor||l.anchors[0];for(var c=s.maxConnections||-1,d=s.onMaxConnections,f=function(i){var o=i.id,l=this.getElement(i.el);this.sourceEndpointDefinitions[o]=this.sourceEndpointDefinitions[o]||{},ht(o);var h={def:t.jsPlumb.extend({},s),uniqueEndpoint:s.uniqueEndpoint,maxConnections:c,enabled:!0};s.createEndpoint&&(h.uniqueEndpoint=!0,h.endpoint=r.addEndpoint(n,h.def),h.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[o][a]=h,i.def=h;var f=t.jsPlumb.dragEvents.stop,p=t.jsPlumb.dragEvents.drag,g=t.jsPlumb.extend({},s.dragOptions||{}),v=g.drag,m=g.stop,b=null,y=!1;g.scope=g.scope||s.scope,g[p]=e.wrap(g[p],(function(){v&&v.apply(this,arguments),y=!1})),g[f]=e.wrap(g[f],function(){if(m&&m.apply(this,arguments),this.currentlyDragging=!1,null!=b._jsPlumb){var t=s.anchor||this.Defaults.Anchor,n=b.anchor,e=b.connections[0],i=this.makeAnchor(t,o,this),a=b.element;if(null!=i.positionFinder){var l=r.getOffset(a),u=this.getSize(a),c={left:l.left+n.x*u[0],top:l.top+n.y*u[1]},h=i.positionFinder(c,l,u,i.constructorParams);i.x=h[0],i.y=h[1]}b.setAnchor(i,!0),b.repaint(),this.repaint(b.elementId),null!=e&&this.repaint(e.targetId)}}.bind(this));var _=function(n){if(3!==n.which&&2!==n.button){var h=this.sourceEndpointDefinitions[o][a];if(h.enabled){if(o=this.getId(this.getElement(i.el)),s.filter){var f=e.isString(s.filter)?gt(n,i.el,s.filter,this,s.filterExclude):s.filter(n,i.el);if(!1===f)return}var p=this.select({source:o}).length;if(h.maxConnections>=0&&p>=h.maxConnections)return d&&d({element:i.el,maxConnections:c},n),!1;var v=t.jsPlumb.getPositionOnElement(n,l,u),m={};t.jsPlumb.extend(m,h.def),m.isTemporarySource=!0,m.anchor=[v[0],v[1],0,0],m.dragOptions=g,h.def.scope&&(m.scope=h.def.scope),b=this.addEndpoint(o,m),y=!0,b.setDeleteOnEmpty(!0),h.uniqueEndpoint&&(h.endpoint?b.finalEndpoint=h.endpoint:(h.endpoint=b,b.setDeleteOnEmpty(!1)));var _=function(){r.off(b.canvas,"mouseup",_),r.off(i.el,"mouseup",_),y&&(y=!1,r.deleteEndpoint(b))};r.on(b.canvas,"mouseup",_),r.on(i.el,"mouseup",_);var x={};if(h.def.extract)for(var P in h.def.extract){var C=(n.srcElement||n.target).getAttribute(P);C&&(x[h.def.extract[P]]=C)}r.trigger(b.canvas,"mousedown",n,x),e.consume(n)}}}.bind(this);this.on(i.el,"mousedown",_),h.trigger=_,s.filter&&(e.isString(s.filter)||e.isFunction(s.filter))&&r.setDragFilter(i.el,s.filter);var x=t.jsPlumb.extend({},s.dropOptions||{});vt(i,s,x,!0,!0===s.isTarget)}.bind(this),p=n.length&&n.constructor!==String?n:[n],g=0,v=p.length;g<v;g++)f(h(p[g]));return this},this.unmakeSource=function(t,n,e){var i=h(t);r.destroyDroppable(i.el,"internal");var o=this.sourceEndpointDefinitions[i.id];if(o)for(var s in o)if(null==n||n===s){var a=o[s].trigger;a&&r.off(i.el,"mousedown",a),e||delete this.sourceEndpointDefinitions[i.id][s]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)r.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var mt=function(t,n,i){n=e.isArray(n)?n:[n];var r=W(t);i=i||"default";for(var o=0;o<n.length;o++){var s=this[n[o]][r];if(s&&s[i])return s[i].def.scope||this.Defaults.Scope}}.bind(this),bt=function(t,n,i,r){i=e.isArray(i)?i:[i];var o=W(t);r=r||"default";for(var s=0;s<i.length;s++){var a=this[i[s]][o];a&&a[r]&&(a[r].def.scope=n)}}.bind(this);this.getScope=function(t,n){return mt(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return mt(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return mt(t,"targetEndpointDefinitions")},this.setScope=function(t,n,e){this.setSourceScope(t,n,e),this.setTargetScope(t,n,e)},this.setSourceScope=function(t,n,e){bt(t,n,"sourceEndpointDefinitions",e),this.setDragScope(t,n)},this.setTargetScope=function(t,n,e){bt(t,n,"targetEndpointDefinitions",e),this.setDropScope(t,n)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)r.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var yt=function(t,n,i,o,s){var a,l,u,c="source"===t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(s=s||"default",n.length&&!e.isString(n)){a=[];for(var d=0,f=n.length;d<f;d++)l=h(n[d]),c[l.id]&&c[l.id][s]&&(a[d]=c[l.id][s].enabled,u=o?!a[d]:i,c[l.id][s].enabled=u,r[u?"removeClass":"addClass"](l.el,"jtk-"+t+"-disabled"))}else{l=h(n);var p=l.id;c[p]&&c[p][s]&&(a=c[p][s].enabled,u=o?!a:i,c[p][s].enabled=u,r[u?"removeClass":"addClass"](l.el,"jtk-"+t+"-disabled"))}return a}.bind(this),_t=function(t,n){return e.isString(t)||!t.length?n.apply(this,[t]):t.length?n.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(t,n){return yt("source",t,null,!0,n),this.isSourceEnabled(t,n)},this.setSourceEnabled=function(t,n,e){return yt("source",t,n,null,e)},this.isSource=function(t,n){return n=n||"default",_t(t,function(t){var e=this.sourceEndpointDefinitions[h(t).id];return null!=e&&null!=e[n]}.bind(this))},this.isSourceEnabled=function(t,n){return n=n||"default",_t(t,function(t){var e=this.sourceEndpointDefinitions[h(t).id];return e&&e[n]&&!0===e[n].enabled}.bind(this))},this.toggleTargetEnabled=function(t,n){return yt("target",t,null,!0,n),this.isTargetEnabled(t,n)},this.isTarget=function(t,n){return n=n||"default",_t(t,function(t){var e=this.targetEndpointDefinitions[h(t).id];return null!=e&&null!=e[n]}.bind(this))},this.isTargetEnabled=function(t,n){return n=n||"default",_t(t,function(t){var e=this.targetEndpointDefinitions[h(t).id];return e&&e[n]&&!0===e[n].enabled}.bind(this))},this.setTargetEnabled=function(t,n,e){return yt("target",t,n,null,e)},this.ready=function(t){r.bind("ready",t)};var xt=function(t,n){if("object"===typeof t&&t.length)for(var e=0,i=t.length;e<i;e++)n(t[e]);else n(t);return r};this.repaint=function(t,n,e){return xt(t,(function(t){O(t,n,e)}))},this.revalidate=function(t,n,e){return xt(t,(function(t){var i=e?t:r.getId(t);r.updateOffset({elId:i,recalc:!0,timestamp:n});var o=r.getDragManager();o&&o.updateOffsets(i),r.repaint(t)}))},this.repaintEverything=function(){var t,n=i();for(t in _)r.updateOffset({elId:t,recalc:!0,timestamp:n});for(t in _)O(t,null,n);return this},this.removeAllEndpoints=function(t,n,e){e=e||[];var i=function(t){var o,s,a=h(t),l=_[a.id];if(l)for(e.push(a),o=0,s=l.length;o<s;o++)r.deleteEndpoint(l[o],!1);if(delete _[a.id],n&&a.el&&3!==a.el.nodeType&&8!==a.el.nodeType)for(o=0,s=a.el.childNodes.length;o<s;o++)i(a.el.childNodes[o])};return i(t),this};var Pt=function(t,n){r.removeAllEndpoints(t.id,!0,n);for(var e=r.getDragManager(),i=function(t){e&&e.elementRemoved(t.id),r.anchorManager.clearFor(t.id),r.anchorManager.removeFloatingConnection(t.id),r.isSource(t.el)&&r.unmakeSource(t.el),r.isTarget(t.el)&&r.unmakeTarget(t.el),r.destroyDraggable(t.el),r.destroyDroppable(t.el),delete r.floatingConnections[t.id],delete P[t.id],delete C[t.id],t.el&&(r.removeElement(t.el),t.el._jsPlumb=null)},o=1;o<n.length;o++)i(n[o]);i(t)};this.remove=function(t,n){var e=h(t),i=[];return e.text?e.el.parentNode.removeChild(e.el):e.id&&r.batch((function(){Pt(e,i)}),!0===n),r},this.empty=function(t,n){var e=[],i=function(t,n){var r=h(t);if(r.text)r.el.parentNode.removeChild(r.el);else if(r.el){while(r.el.childNodes.length>0)i(r.el.childNodes[0]);n||Pt(r,e)}};return r.batch((function(){i(t,!0)}),!1===n),r},this.reset=function(t){r.silently(function(){ct=!1,r.removeAllGroups(),r.removeGroupManager(),r.deleteEveryEndpoint(),t||r.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},y.length=0,this.doReset&&this.doReset()}.bind(this))};var Ct=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){r.select().each(Ct),r.selectEndpoints().each(Ct),_={},x={}},this.setDefaultScope=function(t){return I=t,r},this.deriveEndpointAndAnchorSpec=function(t,n){for(var e=((n?"":"default ")+t).split(/[\s]/),i=null,o=null,s=null,a=null,l=0;l<e.length;l++){var u=r.getType(e[l],"connection");u&&(u.endpoints&&(i=u.endpoints),u.endpoint&&(o=u.endpoint),u.anchors&&(a=u.anchors),u.anchor&&(s=u.anchor))}return{endpoints:i||[o,o],anchors:a||[s,s]}},this.setId=function(t,n,i){var r;e.isString(t)?r=t:(t=this.getElement(t),r=this.getId(t));var o=this.getConnections({source:r,scope:"*"},!0),s=this.getConnections({target:r,scope:"*"},!0);n=""+n,i?t=this.getElement(n):(t=this.getElement(r),this.setAttribute(t,"id",n)),_[n]=_[r]||[];for(var a=0,l=_[n].length;a<l;a++)_[n][a].setElementId(n),_[n][a].setReferenceElement(t);delete _[r],this.sourceEndpointDefinitions[n]=this.sourceEndpointDefinitions[r],delete this.sourceEndpointDefinitions[r],this.targetEndpointDefinitions[n]=this.targetEndpointDefinitions[r],delete this.targetEndpointDefinitions[r],this.anchorManager.changeId(r,n);var u=this.getDragManager();u&&u.changeId(r,n),P[n]=P[r],delete P[r];var c=function(e,i,r){for(var o=0,s=e.length;o<s;o++)e[o].endpoints[i].setElementId(n),e[o].endpoints[i].setReferenceElement(t),e[o][r+"Id"]=n,e[o][r]=t};c(o,0,"source"),c(s,1,"target"),this.repaint(n)},this.setDebugLog=function(t){m=t},this.setSuspendDrawing=function(t,n){var e=S;return S=t,D=t?(new Date).getTime():null,n&&this.repaintEverything(),e},this.isSuspendDrawing=function(){return S},this.getSuspendedAt=function(){return D},this.batch=function(t,n){var i=this.isSuspendDrawing();i||this.setSuspendDrawing(!0);try{t()}catch(r){e.log("Function run while suspended failed",r)}i||this.setSuspendDrawing(!1,!n)},this.doWhileSuspended=this.batch,this.getCachedData=V,this.timestamp=i,this.show=function(t,n){return G(t,"block",n),r},this.toggleVisible=U,this.addListener=this.bind;var wt=[];this.registerFloatingConnection=function(t,n,i){wt[t.id]=n,e.addToList(_,t.id,i)},this.getFloatingConnectionFor=function(t){return wt[t]},this.listManager=new t.jsPlumbListManager(this)};e.extend(t.jsPlumbInstance,e.EventGenerator,{setAttribute:function(t,n,e){this.setAttribute(t,n,e)},getAttribute:function(n,e){return this.getAttribute(t.jsPlumb.getElement(n),e)},convertToFullOverlaySpec:function(t){return e.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||e.uuid(),t},registerConnectionType:function(n,e){if(this._connectionTypes[n]=t.jsPlumb.extend({},e),e.overlays){for(var i={},r=0;r<e.overlays.length;r++){var o=this.convertToFullOverlaySpec(e.overlays[r]);i[o[1].id]=o}this._connectionTypes[n].overlays=i}},registerConnectionTypes:function(t){for(var n in t)this.registerConnectionType(n,t[n])},registerEndpointType:function(n,e){if(this._endpointTypes[n]=t.jsPlumb.extend({},e),e.overlays){for(var i={},r=0;r<e.overlays.length;r++){var o=this.convertToFullOverlaySpec(e.overlays[r]);i[o[1].id]=o}this._endpointTypes[n].overlays=i}},registerEndpointTypes:function(t){for(var n in t)this.registerEndpointType(n,t[n])},getType:function(t,n){return"connection"===n?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,n){this.setId(t,n,!0)},setParent:function(t,n){var e=this.getElement(t),i=this.getId(e),r=this.getElement(n),o=this.getId(r),s=this.getDragManager();e.parentNode.removeChild(e),r.appendChild(e),s&&s.setParent(e,i,r,o)},extend:function(t,n,e){var i;if(e)for(i=0;i<e.length;i++)t[e[i]]=n[e[i]];else for(i in n)t[i]=n[i];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1},proxyConnection:function(t,n,e,i,r,o){var s,a=t.endpoints[n].elementId,l=t.endpoints[n];t.proxies=t.proxies||[],s=t.proxies[n]?t.proxies[n].ep:this.addEndpoint(e,{endpoint:r(t,n),anchor:o(t,n),parameters:{isProxyEndpoint:!0}}),s.setDeleteOnEmpty(!0),t.proxies[n]={ep:s,originalEp:l},0===n?this.anchorManager.sourceChanged(a,i,t,e):(this.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,a,i,t),t.target=e,t.targetId=i),l.detachFromConnection(t,null,!0),s.connections=[t],t.endpoints[n]=s,l.setVisible(!1),t.setVisible(!0),this.revalidate(e)},unproxyConnection:function(t,n,e){if(null!=t._jsPlumb&&null!=t.proxies&&null!=t.proxies[n]){var i=t.proxies[n].originalEp.element,r=t.proxies[n].originalEp.elementId;t.endpoints[n]=t.proxies[n].originalEp,0===n?this.anchorManager.sourceChanged(e,r,t,i):(this.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,e,r,t),t.target=i,t.targetId=r),t.proxies[n].ep.detachFromConnection(t,null),t.proxies[n].originalEp.addConnection(t),t.isVisible()&&t.proxies[n].originalEp.setVisible(!0),delete t.proxies[n]}}});var g=new p;t.jsPlumb=g,g.getInstance=function(t,n){var e=new p(t);if(n)for(var i in n)e[i]=n[i];return e.init(),e},g.each=function(t,n){if(null!=t)if("string"===typeof t)n(g.getElement(t));else if(null!=t.length)for(var e=0;e<t.length;e++)n(g.getElement(t[e]));else n(t)},n.jsPlumb=g}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i="__label",r=function(t,e){var r={cssClass:e.cssClass,labelStyle:t.labelStyle,id:i,component:t,_jsPlumb:t._jsPlumb.instance},o=n.extend(r,e);return new(n.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(o)},o=function(t,i){var r=null;if(e.isArray(i)){var o=i[0],s=n.extend({component:t,_jsPlumb:t._jsPlumb.instance},i[1]);3===i.length&&n.extend(s,i[2]),r=new(n.Overlays[t._jsPlumb.instance.getRenderMode()][o])(s)}else r=i.constructor===String?new(n.Overlays[t._jsPlumb.instance.getRenderMode()][i])({component:t,_jsPlumb:t._jsPlumb.instance}):i;return r.id=r.id||e.uuid(),t.cacheTypeItem("overlay",r,r.id),t._jsPlumb.overlays[r.id]=r,r};n.OverlayCapableJsPlumbUIComponent=function(n){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},n.label&&(this.getDefaultType().overlays[i]=["Label",{label:n.label,location:n.labelLocation||this.defaultLabelLocation||.5,labelStyle:n.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:i}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].setListenerComponent(t)}},n.OverlayCapableJsPlumbUIComponent.applyType=function(t,n){if(n.overlays){var e,i={};for(e in n.overlays){var r=t._jsPlumb.overlays[n.overlays[e][1].id];if(r)r.updateFrom(n.overlays[e][1]),i[n.overlays[e][1].id]=!0;else{var o=t.getCachedTypeItem("overlay",n.overlays[e][1].id);null!=o?(o.reattach(t._jsPlumb.instance,t),o.setVisible(!0),o.updateFrom(n.overlays[e][1]),t._jsPlumb.overlays[o.id]=o):o=t.addOverlay(n.overlays[e],!0),i[o.id]=!0}}for(e in t._jsPlumb.overlays)null==i[t._jsPlumb.overlays[e].id]&&t.removeOverlay(t._jsPlumb.overlays[e].id,!0)}},e.extend(n.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(t,n){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,n){var e=o(this,t);return n||this.repaint(),e},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var n=this.getOverlay(t);n&&n.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var n=this.getOverlay(t);n&&n.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].cleanup&&this._jsPlumb.overlays[n].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},t||this.repaint()},removeOverlay:function(t,n){var e=this._jsPlumb.overlays[t];e&&(e.setVisible(!1),!n&&e.cleanup&&e.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[t])},removeOverlays:function(){for(var t=0,n=arguments.length;t<n;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var n in this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[n].isAppendedAtTopLevel){var e=this._jsPlumb.overlays[n].getElement();e.parentNode.removeChild(e),t.appendChild(e)}},getLabel:function(){var t=this.getOverlay(i);return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay(i)},setLabel:function(t){var n=this.getOverlay(i);if(n)t.constructor===String||t.constructor===Function?n.setLabel(t):(t.label&&n.setLabel(t.label),t.location&&n.setLocation(t.location));else{var e=t.constructor===String||t.constructor===Function?{label:t}:t;n=r(this,e),this._jsPlumb.overlays[i]=n}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].cleanup(t),this._jsPlumb.overlays[n].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,n){this._jsPlumb.overlayPositions[t.id]=n},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,n,e){if(!e)for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][t+"Class"](n)},addClass:function(t,n){this._clazzManip("add",t,n)},removeClass:function(t,n){this._clazzManip("remove",t,n)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=function(t,n,e){var i=!1;return{drag:function(){if(i)return i=!1,!0;if(n.element){var r=e.getUIPosition(arguments,e.getZoom());null!=r&&e.setPosition(n.element,r),e.repaint(n.element,r),t.paint({anchorPoint:t.anchor.getCurrentLocation({element:t})})}},stopDrag:function(){i=!0}}},r=function(t,n,e,i){var r=n.createElement("div",{position:"absolute"});n.appendElement(r);var o=n.getId(r);n.setPosition(r,e),r.style.width=i[0]+"px",r.style.height=i[1]+"px",n.manage(o,r,!0),t.id=o,t.element=r},o=function(t,e,i,r,o,s,a,l){var u=new n.FloatingAnchor({reference:e,referenceCanvas:r,jsPlumbInstance:s});return a({paintStyle:t,endpoint:i,anchor:u,source:o,scope:l})},s=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],a=function(t,n){var e=0;if(null!=n)for(var i=0;i<t.connections.length;i++)if(t.connections[i].sourceId===n||t.connections[i].targetId===n){e=i;break}return t.connections[e]};n.Endpoint=function(t){var l=t._jsPlumb,u=t.newConnection,c=t.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:t.connectionType,maxConnections:null==t.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:t.maxConnections,paintStyle:t.endpointStyle||t.paintStyle||t.style||this._jsPlumb.instance.Defaults.EndpointStyle||n.Defaults.EndpointStyle,hoverPaintStyle:t.endpointHoverStyle||t.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle,connectorStyle:t.connectorStyle,connectorHoverStyle:t.connectorHoverStyle,connectorClass:t.connectorClass,connectorHoverClass:t.connectorHoverClass,connectorOverlays:t.connectorOverlays,connector:t.connector,connectorTooltip:t.connectorTooltip}),this._jsPlumb.enabled=!(!1===t.enabled),this._jsPlumb.visible=!0,this.element=n.getElement(t.source),this._jsPlumb.uuid=t.uuid,this._jsPlumb.floatingEndpoint=null;var h=null;this._jsPlumb.uuid&&(t.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=t.elementId,this.dragProxy=t.dragProxy,this._jsPlumb.connectionCost=t.connectionCost,this._jsPlumb.connectionsDirected=t.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var d=!0===t.deleteOnEmpty;this.setDeleteOnEmpty=function(t){d=t};var f=function(){var t=l.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var e=l.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(e),n.updateClasses(this.element,e,t)}.bind(this);this.prepareAnchor=function(t){var n=this._jsPlumb.instance.makeAnchor(t,this.elementId,l);return n.bind("anchorChanged",function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),f()}.bind(this)),n},this.setPreparedAnchor=function(t,n){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,f(),n||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,n){var e=this.prepareAnchor(t);return this.setPreparedAnchor(e,n),this};var p=function(t){if(this.connections.length>0)for(var n=0;n<this.connections.length;n++)this.connections[n].setHover(t,!1);else this.setHover(t)}.bind(this);this.bind("mouseover",(function(){p(!0)})),this.bind("mouseout",(function(){p(!1)})),t._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(i,r){var o,s=function(t,e){var i=l.getRenderMode();if(n.Endpoints[i][t])return new n.Endpoints[i][t](e);if(!l.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},a={_jsPlumb:this._jsPlumb.instance,cssClass:t.cssClass,container:t.container,tooltip:t.tooltip,connectorTooltip:t.connectorTooltip,endpoint:this};return e.isString(i)?o=s(i,a):e.isArray(i)?(a=e.merge(i[1],a),o=s(i[0],a)):o=i.clone(),o.clone=function(){return e.isString(i)?s(i,a):e.isArray(i)?(a=e.merge(i[1],a),s(i[0],a)):void 0}.bind(this),o.typeId=r,o},this.setEndpoint=function(t,n){var e=this.prepareEndpoint(t);this.setPreparedEndpoint(e,!0)},this.setPreparedEndpoint=function(t,n){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},n.extend(this,t,s),this.isSource=t.isSource||!1,this.isTemporarySource=t.isTemporarySource||!1,this.isTarget=t.isTarget||!1,this.connections=t.connections||[],this.connectorPointerEvents=t["connector-pointer-events"],this.scope=t.scope||l.getDefaultScope(),this.timestamp=null,this.reattachConnections=t.reattach||l.Defaults.ReattachConnections,this.connectionsDetachable=l.Defaults.ConnectionsDetachable,!1!==t.connectionsDetachable&&!1!==t.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==t.dragAllowedWhenFull,t.onMaxConnections&&this.bind("maxConnections",t.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)},this.detachFromConnection=function(t,n,e){n=null==n?this.connections.indexOf(t):n,n>=0&&(this.connections.splice(n,1),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)),!e&&d&&0===this.connections.length&&l.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==e})},this.deleteEveryConnection=function(t){for(var n=this.connections.length,e=0;e<n;e++)l.deleteConnection(this.connections[0],t)},this.detachFrom=function(t,n,e){for(var i=[],r=0;r<this.connections.length;r++)this.connections[r].endpoints[1]!==t&&this.connections[r].endpoints[0]!==t||i.push(this.connections[r]);for(var o=0,s=i.length;o<s;o++)l.deleteConnection(i[0]);return this},this.getElement=function(){return this.element},this.setElement=function(i){var r=this._jsPlumb.instance.getId(i),o=this.elementId;return e.removeWithFunction(t.endpointsByElement[this.elementId],function(t){return t.id===this.id}.bind(this)),this.element=n.getElement(i),this.elementId=l.getId(this.element),l.anchorManager.rehomeEndpoint(this,o,this.element),l.dragManager.endpointAdded(this.element),e.addToList(t.endpointsByElement,r,this),this},this.makeInPlaceCopy=function(){var n=this.anchor.getCurrentLocation({element:this}),e=this.anchor.getOrientation(this),i=this.anchor.getCssClass(),r={bind:function(){},compute:function(){return[n[0],n[1]]},getCurrentLocation:function(){return[n[0],n[1]]},getOrientation:function(){return e},getCssClass:function(){return i}};return c({dropOptions:t.dropOptions,anchor:r,source:this.element,paintStyle:this.getPaintStyle(),endpoint:t.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(t){t=t||{};var n=t.timestamp,e=!(!1===t.recalc);if(!n||this.timestamp!==n){var i=l.updateOffset({elId:this.elementId,timestamp:n}),r=t.offset?t.offset.o:i.o;if(null!=r){var o=t.anchorPoint,s=t.connectorPaintStyle;if(null==o){var u=t.dimensions||i.s,c={xy:[r.left,r.top],wh:u,element:this,timestamp:n};if(e&&this.anchor.isDynamic&&this.connections.length>0){var h=a(this,t.elementWithPrecedence),d=h.endpoints[0]===this?1:0,f=0===d?h.sourceId:h.targetId,p=l.getCachedData(f),g=p.o,v=p.s;c.index=0===d?1:0,c.connection=h,c.txy=[g.left,g.top],c.twh=v,c.tElement=h.endpoints[d]}else this.connections.length>0&&(c.connection=this.connections[0]);o=this.anchor.compute(c)}for(var m in this.endpoint.compute(o,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,s||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=n,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var b=this._jsPlumb.overlays[m];b.isVisible()&&(this._jsPlumb.overlayPlacements[m]=b.draw(this.endpoint,this._jsPlumb.paintStyleInUse),b.paint(this._jsPlumb.overlayPlacements[m]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var g=!1;this.initDraggable=function(){if(!g&&n.isDragSupported(this.element)){var s,a={id:null,element:null},d=null,f=!1,p=null,v=i(this,a,l),m=t.dragOptions||{},b={},y=n.dragEvents.start,_=n.dragEvents.stop,x=n.dragEvents.drag,P=n.dragEvents.beforeStart,C=function(t){s=t.e.payload||{}},w=function(e){d=this.connectorSelector();var i=!0;this.isEnabled()||(i=!1),null!=d||this.isSource||this.isTemporarySource||(i=!1),!this.isSource||!this.isFull()||null!=d&&this.dragAllowedWhenFull||(i=!1),null==d||d.isDetachable(this)||(this.isFull()?i=!1:d=null);var h=l.checkCondition(null==d?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:d});if(!1===h?i=!1:"object"===typeof h?n.extend(h,s||{}):h=s||{},!1===i)return l.stopDrag&&l.stopDrag(this.canvas),v.stopDrag(),!1;for(var g=0;g<this.connections.length;g++)this.connections[g].setHover(!1);this.addClass("endpointDrag"),l.setConnectionBeingDragged(!0),d&&!this.isFull()&&this.isSource&&(d=null),l.updateOffset({elId:this.elementId});var m=this._jsPlumb.instance.getOffset(this.canvas),b=this.canvas,y=this._jsPlumb.instance.getSize(this.canvas);r(a,l,m,y),l.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var _=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var x=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);x.endpoints[1]&&(_=x.endpoints[1])}var P=this._jsPlumb.instance.makeAnchor("Center");P.isFloating=!0,this._jsPlumb.floatingEndpoint=o(this.getPaintStyle(),P,_,this.canvas,a.element,l,c,this.scope);var C=this._jsPlumb.floatingEndpoint.anchor;if(null==d)this.setHover(!1,!1),d=u({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:t.connectorStyle,hoverPaintStyle:t.connectorHoverStyle,connector:t.connector,overlays:t.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:t.scope,data:h}),d.pending=!0,d.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.anchor=C,l.fire("connectionDrag",d),l.anchorManager.newConnection(d);else{f=!0,d.setHover(!1);var w=d.endpoints[0].id===this.id?0:1;this.detachFromConnection(d,null,!0);var j=l.getDragScope(b);l.setAttribute(this.canvas,"originalScope",j),l.fire("connectionDrag",d),0===w?(p=[d.source,d.sourceId,b,j],l.anchorManager.sourceChanged(d.endpoints[w].elementId,a.id,d,a.element)):(p=[d.target,d.targetId,b,j],d.target=a.element,d.targetId=a.id,l.anchorManager.updateOtherEndpoint(d.sourceId,d.endpoints[w].elementId,d.targetId,d)),d.suspendedEndpoint=d.endpoints[w],d.suspendedElement=d.endpoints[w].getElement(),d.suspendedElementId=d.endpoints[w].elementId,d.suspendedElementType=0===w?"source":"target",d.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=d.suspendedEndpoint,d.endpoints[w]=this._jsPlumb.floatingEndpoint,d.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass)}l.registerFloatingConnection(a,d,this._jsPlumb.floatingEndpoint),l.currentlyDragging=!0}.bind(this),j=function(){if(l.setConnectionBeingDragged(!1),d&&null!=d.endpoints){var t=l.getDropEvent(arguments),n=l.getFloatingAnchorIndex(d);if(d.endpoints[0===n?1:0].anchor.unlock(),d.removeClass(l.draggingClass),this._jsPlumb&&(d.deleteConnectionNow||d.endpoints[n]===this._jsPlumb.floatingEndpoint)&&f&&d.suspendedEndpoint){0===n?(d.floatingElement=d.source,d.floatingId=d.sourceId,d.floatingEndpoint=d.endpoints[0],d.floatingIndex=0,d.source=p[0],d.sourceId=p[1]):(d.floatingElement=d.target,d.floatingId=d.targetId,d.floatingEndpoint=d.endpoints[1],d.floatingIndex=1,d.target=p[0],d.targetId=p[1]);var e=this._jsPlumb.floatingEndpoint;l.setDragScope(p[2],p[3]),d.endpoints[n]=d.suspendedEndpoint,d.isReattach()||d._forceReattach||d._forceDetach||!l.deleteConnection(d,{originalEvent:t})?(d.setHover(!1),d._forceDetach=null,d._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(d),d.suspendedEndpoint.addConnection(d),1===n?l.anchorManager.updateOtherEndpoint(d.sourceId,d.floatingId,d.targetId,d):l.anchorManager.sourceChanged(d.floatingId,d.sourceId,d,d.source),l.repaint(p[1])):l.deleteObject({endpoint:e})}this.deleteAfterDragStop?l.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),l.fire("connectionDragStop",d,t),d.pending&&l.fire("connectionAborted",d,t),l.currentlyDragging=!1,d.suspendedElement=null,d.suspendedEndpoint=null,d=null}a&&a.element&&l.remove(a.element,!1,!1),h&&l.deleteObject({endpoint:h}),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),this._jsPlumb.floatingEndpoint=null)}.bind(this);m=n.extend(b,m),m.scope=this.scope||m.scope,m[P]=e.wrap(m[P],C,!1),m[y]=e.wrap(m[y],w,!1),m[x]=e.wrap(m[x],v.drag),m[_]=e.wrap(m[_],j),m.multipleDrop=!1,m.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0&&!1!==this.connectionsDetachable}.bind(this),l.initDraggable(this.canvas,m,"internal"),this.canvas._jsPlumbRelatedElement=this.element,g=!0}};var v=t.endpoint||this._jsPlumb.instance.Defaults.Endpoint||n.Defaults.Endpoint;this.setEndpoint(v,!0);var m=t.anchor?t.anchor:t.anchors?t.anchors:l.Defaults.Anchor||"Top";this.setAnchor(m,!0);var b=["default",t.type||""].join(" ");this.addType(b,t.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var y=function(i,r,o,s){if(n.isDropSupported(this.element)){var a=t.dropOptions||l.Defaults.DropOptions||n.Defaults.DropOptions;a=n.extend({},a),a.scope=a.scope||this.scope;var u=n.dragEvents.drop,c=n.dragEvents.over,h=n.dragEvents.out,d=this,f=l.EndpointDropHandler({getEndpoint:function(){return d},jsPlumb:l,enabled:function(){return null==o||o.isEnabled()},isFull:function(){return o.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){d.addClass(t)},removeClass:function(t){d.removeClass(t)},isDropAllowed:function(){return d.isDropAllowed.apply(d,arguments)},reference:s,isRedrop:function(t,n){return t.suspendedEndpoint&&n.reference&&t.suspendedEndpoint.id===n.reference.id}});a[u]=e.wrap(a[u],f,!0),a[c]=e.wrap(a[c],function(){var t=n.getDragObject(arguments),e=l.getAttribute(n.getElement(t),"dragId"),i=l.getFloatingConnectionFor(e);if(null!=i){var r=l.getFloatingAnchorIndex(i),o=this.isTarget&&0!==r||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id;if(o){var s=l.checkCondition("checkDropAllowed",{sourceEndpoint:i.endpoints[r],targetEndpoint:this,connection:i});this[(s?"add":"remove")+"Class"](l.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](l.endpointDropForbiddenClass),i.endpoints[r].anchor.over(this.anchor,this)}}}.bind(this)),a[h]=e.wrap(a[h],function(){var t=n.getDragObject(arguments),e=null==t?null:l.getAttribute(n.getElement(t),"dragId"),i=e?l.getFloatingConnectionFor(e):null;if(null!=i){var r=l.getFloatingAnchorIndex(i),o=this.isTarget&&0!==r||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id;o&&(this.removeClass(l.endpointDropAllowedClass),this.removeClass(l.endpointDropForbiddenClass),i.endpoints[r].anchor.out())}}.bind(this)),l.initDroppable(i,a,"internal",r)}}.bind(this);return this.anchor.isFloating||y(this.canvas,!(t._transient||this.anchor.isFloating),this,t.reference),this},e.extend(n.Endpoint,n.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,n,e){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!n)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(t),!e){var r=this===this.connections[i].endpoints[0]?1:0;1===this.connections[i].endpoints[r].connections.length&&this.connections[i].endpoints[r].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,e){this.setPaintStyle(t.endpointStyle||t.paintStyle,e),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,e),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),n.extend(this,t,s),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),n.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");n.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var n=!1;if(t)for(var e=0;e<this.connections.length;e++)if(this.connections[e].endpoints[1]===t||this.connections[e].endpoints[0]===t){n=!0;break}return n},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(t){this.element=n.getElement(t)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),t.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(n){var i=t.jsPlumb;t.removeClass(i.endpointDropAllowedClass),t.removeClass(i.endpointDropForbiddenClass);var r=i.getDropEvent(arguments),o=i.getDragObject(arguments),s=i.getAttribute(o,"dragId"),a=(i.getAttribute(o,"elId"),i.getAttribute(o,"originalScope")),l=i.getFloatingConnectionFor(s);if(null!=l){var u=null!=l.suspendedEndpoint;if(!u||null!=l.suspendedEndpoint._jsPlumb){var c=t.getEndpoint(l);if(null!=c){if(t.isRedrop(l,t))return l._forceReattach=!0,l.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(c));var h=i.getFloatingAnchorIndex(l);if(0===h&&!t.isSource||1===h&&!t.isTarget)t.maybeCleanup&&t.maybeCleanup(c);else{t.onDrop&&t.onDrop(l),a&&i.setDragScope(o,a);var d=t.isFull(n);if(d&&c.fire("maxConnections",{endpoint:this,connection:l,maxConnections:c._jsPlumb.maxConnections},r),!d&&t.enabled()){var f=!0;0===h?(l.floatingElement=l.source,l.floatingId=l.sourceId,l.floatingEndpoint=l.endpoints[0],l.floatingIndex=0,l.source=t.element,l.sourceId=t.elementId):(l.floatingElement=l.target,l.floatingId=l.targetId,l.floatingEndpoint=l.endpoints[1],l.floatingIndex=1,l.target=t.element,l.targetId=t.elementId),u&&l.suspendedEndpoint.id!==c.id&&(l.isDetachAllowed(l)&&l.endpoints[h].isDetachAllowed(l)&&l.suspendedEndpoint.isDetachAllowed(l)&&i.checkCondition("beforeDetach",l)||(f=!1));var p=function(n){l.endpoints[h].detachFromConnection(l),l.suspendedEndpoint&&l.suspendedEndpoint.detachFromConnection(l),l.endpoints[h]=c,c.addConnection(l);var o=c.getParameters();for(var s in o)l.setParameter(s,o[s]);if(u){var a=l.suspendedEndpoint.elementId;i.fireMoveEvent({index:h,originalSourceId:0===h?a:l.sourceId,newSourceId:0===h?c.elementId:l.sourceId,originalTargetId:1===h?a:l.targetId,newTargetId:1===h?c.elementId:l.targetId,originalSourceEndpoint:0===h?l.suspendedEndpoint:l.endpoints[0],newSourceEndpoint:0===h?c:l.endpoints[0],originalTargetEndpoint:1===h?l.suspendedEndpoint:l.endpoints[1],newTargetEndpoint:1===h?c:l.endpoints[1],connection:l},r)}else o.draggable&&i.initDraggable(this.element,t.dragOptions,"internal",i);if(1===h?i.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):i.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),l.endpoints[0].finalEndpoint){var d=l.endpoints[0];d.detachFromConnection(l),l.endpoints[0]=l.endpoints[0].finalEndpoint,l.endpoints[0].addConnection(l)}e.isObject(n)&&l.mergeData(n),i.finaliseConnection(l,null,r,!1),l.setHover(!1),i.revalidate(l.endpoints[0].element)}.bind(this),g=function(){l.suspendedEndpoint&&(l.endpoints[h]=l.suspendedEndpoint,l.setHover(!1),l._forceDetach=!0,0===h?(l.source=l.suspendedEndpoint.element,l.sourceId=l.suspendedEndpoint.elementId):(l.target=l.suspendedEndpoint.element,l.targetId=l.suspendedEndpoint.elementId),l.suspendedEndpoint.addConnection(l),1===h?i.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):i.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),i.repaint(l.sourceId),l._forceDetach=!1)};if(f=f&&t.isDropAllowed(l.sourceId,l.targetId,l.scope,l,c),f)return p(f),!0;g()}t.maybeCleanup&&t.maybeCleanup(c),i.currentlyDragging=!1}}}}}}}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=function(t,i,r,o,s){if(n.Connectors[i]=n.Connectors[i]||{},null==n.Connectors[i][r]){if(null==n.Connectors[r]){if(t.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+r+"'")}n.Connectors[i][r]=function(){n.Connectors[r].apply(this,arguments),n.ConnectorRenderers[i].apply(this,arguments)},e.extend(n.Connectors[i][r],[n.Connectors[r],n.ConnectorRenderers[i]])}return new n.Connectors[i][r](o,s)},r=function(t,n,e){return t?e.makeAnchor(t,n,e):null},o=function(t,n,i,r){null!=n&&(n._jsPlumbConnections=n._jsPlumbConnections||{},r?delete n._jsPlumbConnections[t.id]:n._jsPlumbConnections[t.id]=!0,e.isEmpty(n._jsPlumbConnections)?i.removeClass(n,i.connectedClass):i.addClass(n,i.connectedClass))};n.Connection=function(t){var i=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=n.getElement(t.source),this.target=n.getElement(t.target),n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),t.sourceEndpoint?(this.source=t.sourceEndpoint.getElement(),this.sourceId=t.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),t.targetEndpoint?(this.target=t.targetEndpoint.getElement(),this.targetId=t.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(n,e,o,s,a){return o=o||this._jsPlumb.instance.getId(e),this.prepareEndpoint(r,i,this,s,n?0:1,t,e,o,a)},t.type&&(t.endpoints=t.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var o=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);o&&e.addToList(t.endpointsByElement,this.sourceId,o),s&&e.addToList(t.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(t.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(t.deleteEndpointsOnEmpty));var a=r.Defaults.ConnectionsDetachable;!1===t.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var l=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:l,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||r.Defaults.PaintStyle||n.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||r.Defaults.HoverPaintStyle||n.Defaults.HoverPaintStyle});var u=r.getSuspendedAt();if(!r.isSuspendDrawing()){var c=r.getCachedData(this.sourceId),h=c.o,d=c.s,f=r.getCachedData(this.targetId),p=f.o,g=f.s,v=u||r.timestamp(),m=this.endpoints[0].anchor.compute({xy:[h.left,h.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[p.left,p.top],twh:g,tElement:this.endpoints[1],timestamp:v});this.endpoints[0].paint({anchorLoc:m,timestamp:v}),m=this.endpoints[1].anchor.compute({xy:[p.left,p.top],wh:g,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[h.left,h.top],twh:d,tElement:this.endpoints[0],timestamp:v}),this.endpoints[1].paint({anchorLoc:m,timestamp:v})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(t){return!1!==this._jsPlumb.detachable&&(null!=t?!0===t.connectionsDetachable:!0===this._jsPlumb.detachable)},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var b=n.extend({},this.endpoints[1].getParameters());n.extend(b,this.endpoints[0].getParameters()),n.extend(b,this.getParameters()),this.setParameters(b),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||r.Defaults.Connector||n.Defaults.Connector,!0);var y=null!=t.data&&e.isObject(t.data)?t.data:{};this.getData=function(){return y},this.setData=function(t){y=t||{}},this.mergeData=function(t){y=n.extend(y,t)};var _=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test(_)&&this.addType(_,t.data,!0),this.updateConnectedClass()},e.extend(n.Connection,n.OverlayCapableJsPlumbUIComponent,{applyType:function(t,e,i){var r=null;null!=t.connector&&(r=this.getCachedTypeItem("connector",i.connector),null==r&&(r=this.prepareConnector(t.connector,i.connector),this.cacheTypeItem("connector",r,i.connector)),this.setPreparedConnector(r)),null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var o=null;t.anchor?(o=this.getCachedTypeItem("anchors",i.anchor),null==o&&(o=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",o,i.anchor))):t.anchors&&(o=this.getCachedTypeItem("anchors",i.anchors),null==o&&(o=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",o,i.anchors))),null!=o&&(this.endpoints[0].anchor=o[0],this.endpoints[1].anchor=o[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),n.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,n){n&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,n){n&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(o(this,this.source,this._jsPlumb.instance,t),o(this,this.target,this._jsPlumb.instance,t))},setHover:function(n){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(n),t.jsPlumb[n?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[n?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(t,n){var r,o={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},s=this._jsPlumb.instance.getRenderMode();return e.isString(t)?r=i(this._jsPlumb.instance,s,t,o,this):e.isArray(t)&&(r=1===t.length?i(this._jsPlumb.instance,s,t[0],o,this):i(this._jsPlumb.instance,s,t[0],e.merge(t[1],o),this)),null!=n&&(r.typeId=n),r},setPreparedConnector:function(t,n,e,i){if(this.connector!==t){var r,o="";if(null!=this.connector&&(r=this.connector,o=r.getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,i&&this.cacheTypeItem("connector",t,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.connector.reattach(this._jsPlumb.instance),this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);e||this.setListenerComponent(this.connector),n||this.repaint()}},setConnector:function(t,n,e,i){var r=this.prepareConnector(t,i);this.setPreparedConnector(r,n,e,i)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){t=t||{};var n=t.timestamp,e=!1,i=e?this.sourceId:this.targetId,r=e?this.targetId:this.sourceId,o=e?0:1,s=e?1:0;if(null==n||n!==this._jsPlumb.lastPaintedAt){var a=this._jsPlumb.instance.updateOffset({elId:r}).o,l=this._jsPlumb.instance.updateOffset({elId:i}).o,u=this.endpoints[s],c=this.endpoints[o],h=u.anchor.getCurrentLocation({xy:[a.left,a.top],wh:[a.width,a.height],element:u,timestamp:n}),d=c.anchor.getCurrentLocation({xy:[l.left,l.top],wh:[l.width,l.height],element:c,timestamp:n});this.connector.resetBounds(),this.connector.compute({sourcePos:h,targetPos:d,sourceOrientation:u.anchor.getOrientation(u),targetOrientation:c.anchor.getOrientation(c),sourceEndpoint:this.endpoints[s],targetEndpoint:this.endpoints[o],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:a,targetInfo:l});var f={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var p in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(p)){var g=this._jsPlumb.overlays[p];g.isVisible()&&(this._jsPlumb.overlayPlacements[p]=g.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(g)),f.minX=Math.min(f.minX,this._jsPlumb.overlayPlacements[p].minX),f.maxX=Math.max(f.maxX,this._jsPlumb.overlayPlacements[p].maxX),f.minY=Math.min(f.minY,this._jsPlumb.overlayPlacements[p].minY),f.maxY=Math.max(f.maxY,this._jsPlumb.overlayPlacements[p].maxY))}var v=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,m=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),b={xmin:Math.min(this.connector.bounds.minX-(v+m),f.minX),ymin:Math.min(this.connector.bounds.minY-(v+m),f.minY),xmax:Math.max(this.connector.bounds.maxX+(v+m),f.maxX),ymax:Math.max(this.connector.bounds.maxY+(v+m),f.maxY)};for(var y in this.connector.paint(this._jsPlumb.paintStyleInUse,null,b),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(y)){var _=this._jsPlumb.overlays[y];_.isVisible()&&_.paint(this._jsPlumb.overlayPlacements[y],b)}}this._jsPlumb.lastPaintedAt=n}},repaint:function(t){var n=jsPlumb.extend(t||{},{});n.elId=this.sourceId,this.paint(n)},prepareEndpoint:function(t,e,i,o,s,a,l,u,c){var h;if(o)i.endpoints[s]=o,o.addConnection(i);else{a.endpoints||(a.endpoints=[null,null]);var d=c||a.endpoints[s]||a.endpoint||t.Defaults.Endpoints[s]||n.Defaults.Endpoints[s]||t.Defaults.Endpoint||n.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var f=a.endpointStyles[s]||a.endpointStyle||t.Defaults.EndpointStyles[s]||n.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||n.Defaults.EndpointStyle;null==f.fill&&null!=a.paintStyle&&(f.fill=a.paintStyle.stroke),null==f.outlineStroke&&null!=a.paintStyle&&(f.outlineStroke=a.paintStyle.outlineStroke),null==f.outlineWidth&&null!=a.paintStyle&&(f.outlineWidth=a.paintStyle.outlineWidth);var p=a.endpointHoverStyles[s]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||n.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==p&&(p={}),null==p.fill&&(p.fill=a.hoverPaintStyle.stroke));var g=a.anchors?a.anchors[s]:a.anchor?a.anchor:r(t.Defaults.Anchors[s],u,t)||r(n.Defaults.Anchors[s],u,t)||r(t.Defaults.Anchor,u,t)||r(n.Defaults.Anchor,u,t),v=a.uuids?a.uuids[s]:null;h=e({paintStyle:f,hoverPaintStyle:p,endpoint:d,connections:[i],uuid:v,anchor:g,source:l,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),null==o&&h.setDeleteOnEmpty(!0),i.endpoints[s]=h,!1===a.drawEndpoints&&h.setVisible(!1,!0,!0)}return h},replaceEndpoint:function(t,n){var e=this.endpoints[t],i=e.elementId,r=this._jsPlumb.instance.getEndpoints(i),o=r.indexOf(e),s=this.makeEndpoint(0===t,e.element,i,null,n);this.endpoints[t]=s,r.splice(o,1,s),this._jsPlumb.instance.deleteObject({endpoint:e,deleteAttachedObjects:!1}),this._jsPlumb.instance.fire("endpointReplaced",{previous:e,current:s}),this._jsPlumb.instance.anchorManager.updateOtherEndpoint(this.endpoints[0].elementId,this.endpoints[1].elementId,this.endpoints[1].elementId,this)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumbUtil,e=t.jsPlumb;e.AnchorManager=function(t){var i={},r={},o={},s={},a=this,l={},u=t.jsPlumbInstance,c={},h=function(t,n,e,i,r,o,s){for(var a=[],l=n[r?0:1]/(i.length+1),u=0;u<i.length;u++){var c=(u+1)*l,h=o*n[r?1:0];s&&(c=n[r?0:1]-c);var d=r?c:h,f=e[0]+d,p=d/n[0],g=r?h:c,v=e[1]+g,m=g/n[1];a.push([f,v,p,m,i[u][1],i[u][2]])}return a},d=function(t){return function(n,e){var i=!0;return i=t?n[0][0]<e[0][0]:n[0][0]>e[0][0],!1===i?-1:1}},f=function(t,n){var e=t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0],i=n[0][0]<0?-Math.PI-n[0][0]:Math.PI-n[0][0];return e>i?1:-1},p={top:function(t,n){return t[0]>n[0]?1:-1},right:d(!0),bottom:d(!0),left:f},g=function(t,n){return t.sort(n)},v=function(t,n){var e=u.getCachedData(t),i=e.s,s=e.o,a=function(n,e,i,s,a,l,u){if(s.length>0)for(var c=g(s,p[n]),d="right"===n||"top"===n,f=h(n,e,i,c,a,l,d),v=function(t,n){r[t.id]=[n[0],n[1],n[2],n[3]],o[t.id]=u},m=0;m<f.length;m++){var b=f[m][4],y=b.endpoints[0].elementId===t,_=b.endpoints[1].elementId===t;y&&v(b.endpoints[0],f[m]),_&&v(b.endpoints[1],f[m])}};a("bottom",i,[s.left,s.top],n.bottom,!0,1,[0,1]),a("top",i,[s.left,s.top],n.top,!0,0,[0,-1]),a("left",i,[s.left,s.top],n.left,!1,0,[-1,0]),a("right",i,[s.left,s.top],n.right,!1,1,[1,0])};this.reset=function(){i={},s={},l={}},this.addFloatingConnection=function(t,n){c[t]=n},this.removeFloatingConnection=function(t){delete c[t]},this.newConnection=function(t){var i=t.sourceId,r=t.targetId,o=t.endpoints,a=!0,l=function(l,u,c,h,d){i===r&&c.isContinuous&&(t._jsPlumb.instance.removeElement(o[1].canvas),a=!1),n.addToList(s,h,[d,u,c.constructor===e.DynamicAnchor])};l(0,o[0],o[0].anchor,r,t),a&&l(1,o[1],o[1].anchor,i,t)};var m=function(t){(function(t,e){if(t){var i=function(t){return t[4]===e};n.removeWithFunction(t.top,i),n.removeWithFunction(t.left,i),n.removeWithFunction(t.bottom,i),n.removeWithFunction(t.right,i)}})(l[t.elementId],t.id)};this.connectionDetached=function(t,e){var i=t.connection||t,r=t.sourceId,o=t.targetId,l=i.endpoints,u=function(t,e,i,r,o){n.removeWithFunction(s[r],(function(t){return t[0].id===o.id}))};u(1,l[1],l[1].anchor,r,i),u(0,l[0],l[0].anchor,o,i),i.floatingId&&(u(i.floatingIndex,i.floatingEndpoint,i.floatingEndpoint.anchor,i.floatingId,i),m(i.floatingEndpoint)),m(i.endpoints[0]),m(i.endpoints[1]),e||(a.redraw(i.sourceId),i.targetId!==i.sourceId&&a.redraw(i.targetId))},this.add=function(t,e){n.addToList(i,e,t)},this.changeId=function(t,n){s[n]=s[t],i[n]=i[t],delete s[t],delete i[t]},this.getConnectionsFor=function(t){return s[t]||[]},this.getEndpointsFor=function(t){return i[t]||[]},this.deleteEndpoint=function(t){n.removeWithFunction(i[t.elementId],(function(n){return n.id===t.id})),m(t)},this.clearFor=function(t){delete i[t],i[t]=[]};var b=function(e,i,r,o,s,a,l,u,c,h,d,f){var p,g,v=-1,m=-1,b=o.endpoints[l],y=b.id,_=[1,0][l],x=[[i,r],o,s,a,y],P=e[c],C=b._continuousAnchorEdge?e[b._continuousAnchorEdge]:null;if(C){var w=n.findWithFunction(C,(function(t){return t[4]===y}));if(-1!==w)for(C.splice(w,1),p=0;p<C.length;p++)g=C[p][1],n.addWithFunction(d,g,(function(t){return t.id===g.id})),n.addWithFunction(f,C[p][1].endpoints[l],(function(t){return t.id===g.endpoints[l].id})),n.addWithFunction(f,C[p][1].endpoints[_],(function(t){return t.id===g.endpoints[_].id}))}for(p=0;p<P.length;p++)g=P[p][1],1===t.idx&&P[p][3]===a&&-1===m&&(m=p),n.addWithFunction(d,g,(function(t){return t.id===g.id})),n.addWithFunction(f,P[p][1].endpoints[l],(function(t){return t.id===g.endpoints[l].id})),n.addWithFunction(f,P[p][1].endpoints[_],(function(t){return t.id===g.endpoints[_].id}));if(-1!==v)P[v]=x;else{var j=u?-1!==m?m:0:P.length;P.splice(j,0,x)}b._continuousAnchorEdge=c};this.updateOtherEndpoint=function(t,i,r,o){var a=n.findWithFunction(s[t],(function(t){return t[0].id===o.id})),l=n.findWithFunction(s[i],(function(t){return t[0].id===o.id}));-1!==a&&(s[t][a][0]=o,s[t][a][1]=o.endpoints[1],s[t][a][2]=o.endpoints[1].anchor.constructor===e.DynamicAnchor),l>-1&&(s[i].splice(l,1),n.addToList(s,r,[o,o.endpoints[0],o.endpoints[0].anchor.constructor===e.DynamicAnchor])),o.updateConnectedClass()},this.sourceChanged=function(t,i,r,o){if(t!==i){r.sourceId=i,r.source=o,n.removeWithFunction(s[t],(function(t){return t[0].id===r.id}));var a=n.findWithFunction(s[r.targetId],(function(t){return t[0].id===r.id}));a>-1&&(s[r.targetId][a][0]=r,s[r.targetId][a][1]=r.endpoints[0],s[r.targetId][a][2]=r.endpoints[0].anchor.constructor===e.DynamicAnchor),n.addToList(s,i,[r,r.endpoints[1],r.endpoints[1].anchor.constructor===e.DynamicAnchor]),r.endpoints[1].anchor.isContinuous&&(r.source===r.target?r._jsPlumb.instance.removeElement(r.endpoints[1].canvas):null==r.endpoints[1].canvas.parentNode&&r._jsPlumb.instance.appendElement(r.endpoints[1].canvas)),r.updateConnectedClass()}},this.rehomeEndpoint=function(t,n,e){var r=i[n]||[],o=u.getId(e);if(o!==n){var s=r.indexOf(t);if(s>-1){var l=r.splice(s,1)[0];a.add(l,o)}}for(var c=0;c<t.connections.length;c++)t.connections[c].sourceId===n?a.sourceChanged(n,t.elementId,t.connections[c],t.element):t.connections[c].targetId===n&&(t.connections[c].targetId=t.elementId,t.connections[c].target=t.element,a.updateOtherEndpoint(t.connections[c].sourceId,n,t.elementId,t.connections[c]))},this.redraw=function(t,r,o,a,h,d){if(!u.isSuspendDrawing()){var f=i[t]||[],p=s[t]||[],g=[],m=[],y=[];o=o||u.timestamp(),a=a||{left:0,top:0},r&&(r={left:r.left+a.left,top:r.top+a.top});for(var _=u.updateOffset({elId:t,offset:r,recalc:!1,timestamp:o}),x={},P=0;P<p.length;P++){var C=p[P][0],w=C.sourceId,j=C.targetId,E=C.endpoints[0].anchor.isContinuous,S=C.endpoints[1].anchor.isContinuous;if(E||S){var D=w+"_"+j,I=x[D],k=C.sourceId===t?1:0;E&&!l[w]&&(l[w]={top:[],right:[],bottom:[],left:[]}),S&&!l[j]&&(l[j]={top:[],right:[],bottom:[],left:[]}),t!==j&&u.updateOffset({elId:j,timestamp:o}),t!==w&&u.updateOffset({elId:w,timestamp:o});var A=u.getCachedData(j),T=u.getCachedData(w);j===w&&(E||S)?(b(l[w],-Math.PI/2,0,C,!1,j,0,!1,"top",w,g,m),b(l[j],-Math.PI/2,0,C,!1,w,1,!1,"top",j,g,m)):(I||(I=this.calculateOrientation(w,j,T.o,A.o,C.endpoints[0].anchor,C.endpoints[1].anchor,C),x[D]=I),E&&b(l[w],I.theta,0,C,!1,j,0,!1,I.a[0],w,g,m),S&&b(l[j],I.theta2,-1,C,!0,w,1,!0,I.a[1],j,g,m)),E&&n.addWithFunction(y,w,(function(t){return t===w})),S&&n.addWithFunction(y,j,(function(t){return t===j})),n.addWithFunction(g,C,(function(t){return t.id===C.id})),(E&&0===k||S&&1===k)&&n.addWithFunction(m,C.endpoints[k],(function(t){return t.id===C.endpoints[k].id}))}}for(P=0;P<f.length;P++)0===f[P].connections.length&&f[P].anchor.isContinuous&&(l[t]||(l[t]={top:[],right:[],bottom:[],left:[]}),b(l[t],-Math.PI/2,0,{endpoints:[f[P],f[P]],paint:function(){}},!1,t,0,!1,f[P].anchor.getDefaultFace(),t,g,m),n.addWithFunction(y,t,(function(n){return n===t})));for(P=0;P<y.length;P++)v(y[P],l[y[P]]);for(P=0;P<f.length;P++)f[P].paint({timestamp:o,offset:_,dimensions:_.s,recalc:!0!==d});for(P=0;P<m.length;P++){var O=u.getCachedData(m[P].elementId);m[P].paint({timestamp:null,offset:O,dimensions:O.s})}for(P=0;P<p.length;P++){var M=p[P][1];if(M.anchor.constructor===e.DynamicAnchor){M.paint({elementWithPrecedence:t,timestamp:o}),n.addWithFunction(g,p[P][0],(function(t){return t.id===p[P][0].id}));for(var L=0;L<M.connections.length;L++)M.connections[L]!==p[P][0]&&n.addWithFunction(g,M.connections[L],(function(t){return t.id===M.connections[L].id}))}else n.addWithFunction(g,p[P][0],(function(t){return t.id===p[P][0].id}))}var F=c[t];for(F&&F.paint({timestamp:o,recalc:!1,elId:t}),P=0;P<g.length;P++)g[P].paint({elId:t,timestamp:null,recalc:!1,clearEdits:h})}};var y=function(t){n.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var e=t.faces||["top","right","bottom","left"],i=!(!1===t.clockwise),s={},a={top:"bottom",right:"left",left:"right",bottom:"top"},l={top:"right",right:"bottom",left:"top",bottom:"left"},u={top:"left",right:"top",left:"bottom",bottom:"right"},c=i?l:u,h=i?u:l,d=t.cssClass||"",f=null,p=null,g=["left","right"],v=["top","bottom"],m=null,b=0;b<e.length;b++)s[e[b]]=!0;this.getDefaultFace=function(){return 0===e.length?"top":e[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(t){return s[t]?t:s[a[t]]?a[t]:s[c[t]]?c[t]:s[h[t]]?h[t]:t},this.isEdgeSupported=function(t){return null==m?null==p?!0===s[t]:p===t:-1!==m.indexOf(t)},this.setCurrentFace=function(t,n){f=t,n&&null!=p&&(p=f)},this.getCurrentFace=function(){return f},this.getSupportedFaces=function(){var t=[];for(var n in s)s[n]&&t.push(n);return t},this.lock=function(){p=f},this.unlock=function(){p=null},this.isLocked=function(){return null!=p},this.lockCurrentAxis=function(){null!=f&&(m="left"===f||"right"===f?g:v)},this.unlockCurrentAxis=function(){m=null},this.compute=function(t){return r[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return r[t.element.id]||[0,0]},this.getOrientation=function(t){return o[t.id]||[0,0]},this.getCssClass=function(){return d}};u.continuousAnchorFactory={get:function(t){return new y(t)},clear:function(t){delete r[t]}}},e.AnchorManager.prototype.calculateOrientation=function(t,n,e,i,r,o){var s={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},a=["left","top","right","bottom"];if(t===n)return{orientation:s.IDENTITY,a:["top","top"]};var l=Math.atan2(i.centery-e.centery,i.centerx-e.centerx),u=Math.atan2(e.centery-i.centery,e.centerx-i.centerx),c=[],h={};(function(t,n){for(var e=0;e<t.length;e++)h[t[e]]={left:[n[e].left,n[e].centery],right:[n[e].right,n[e].centery],top:[n[e].centerx,n[e].top],bottom:[n[e].centerx,n[e].bottom]}})(["source","target"],[e,i]);for(var d=0;d<a.length;d++)for(var f=0;f<a.length;f++)c.push({source:a[d],target:a[f],dist:Biltong.lineLength(h.source[a[d]],h.target[a[f]])});c.sort((function(t,n){return t.dist<n.dist?-1:t.dist>n.dist?1:0}));for(var p=c[0].source,g=c[0].target,v=0;v<c.length;v++)if(p=!r.isContinuous||r.isEdgeSupported(c[v].source)?c[v].source:null,g=!o.isContinuous||o.isEdgeSupported(c[v].target)?c[v].target:null,null!=p&&null!=g)break;return r.isContinuous&&r.setCurrentFace(p),o.isContinuous&&o.setCurrentFace(g),{a:[p,g],theta:l,theta2:u}},e.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null;var e=!1!==t.relocatable;this.isRelocatable=function(){return e},this.setRelocatable=function(t){e=t};var i=!1!==t.snapOnRelocate;this.isSnapOnRelocate=function(){return i};var r=!1;this.lock=function(){r=!0},this.unlock=function(){r=!1},this.isLocked=function(){return r},n.EventGenerator.apply(this),this.compute=function(t){var n=t.xy,e=t.wh,i=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===this.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[n[0]+this.x*e[0]+this.offsets[0],n[1]+this.y*e[1]+this.offsets[1],this.x,this.y],this.timestamp=i,this.lastReturnValue)},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!==t.timestamp?this.compute(t):this.lastReturnValue},this.setPosition=function(t,n,e,i,o){r&&!o||(this.x=t,this.y=n,this.orientation=[e,i],this.lastReturnValue=null)}},n.extend(e.Anchor,n.EventGenerator,{equals:function(t){if(!t)return!1;var n=t.getOrientation(),e=this.getOrientation();return this.x===t.x&&this.y===t.y&&this.offsets[0]===t.offsets[0]&&this.offsets[1]===t.offsets[1]&&e[0]===n[0]&&e[1]===n[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),e.FloatingAnchor=function(t){e.Anchor.apply(this,arguments);var n=t.reference,i=t.referenceCanvas,r=e.getSize(i),o=0,s=0,a=null,l=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var n=t.xy,e=[n[0]+r[0]/2,n[1]+r[1]/2];return l=e,e},this.getOrientation=function(t){if(a)return a;var e=n.getOrientation(t);return[Math.abs(e[0])*o*-1,Math.abs(e[1])*s*-1]},this.over=function(t,n){a=t.getOrientation(n)},this.out=function(){a=null},this.getCurrentLocation=function(t){return null==l?this.compute(t):l}},n.extend(e.FloatingAnchor,e.Anchor);var i=function(t,n,i){return t.constructor===e.Anchor?t:n.makeAnchor(t,i,n)};e.DynamicAnchor=function(t){e.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var n=0;n<t.anchors.length;n++)this.anchors[n]=i(t.anchors[n],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors};var r=this.anchors.length>0?this.anchors[0]:null,o=r,s=this,a=function(t,n,e,i,r){var o=i[0]+t.x*r[0],s=i[1]+t.y*r[1],a=i[0]+r[0]/2,l=i[1]+r[1]/2;return Math.sqrt(Math.pow(n-o,2)+Math.pow(e-s,2))+Math.sqrt(Math.pow(a-o,2)+Math.pow(l-s,2))},l=t.selector||function(t,n,e,i,r){for(var o=e[0]+i[0]/2,s=e[1]+i[1]/2,l=-1,u=1/0,c=0;c<r.length;c++){var h=a(r[c],o,s,t,n);h<u&&(l=c+0,u=h)}return r[l]};this.compute=function(t){var n=t.xy,e=t.wh,i=t.txy,a=t.twh;this.timestamp=t.timestamp;var u=s.getUserDefinedLocation();return null!=u?u:this.isLocked()||null==i||null==a?r.compute(t):(t.timestamp=null,r=l(n,e,i,a,this.anchors),this.x=r.x,this.y=r.y,r!==o&&this.fire("anchorChanged",r),o=r,r.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=r?r.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=r?r.getOrientation(t):[0,0]},this.over=function(t,n){null!=r&&r.over(t,n)},this.out=function(){null!=r&&r.out()},this.setAnchor=function(t){r=t},this.getCssClass=function(){return r&&r.getCssClass()||""},this.setAnchorCoordinates=function(t){var n=jsPlumbUtil.findWithFunction(this.anchors,(function(n){return n.x===t[0]&&n.y===t[1]}));return-1!==n&&(this.setAnchor(this.anchors[n]),!0)}},n.extend(e.DynamicAnchor,e.Anchor);var r=function(t,n,i,r,o,s){e.Anchors[o]=function(e){var a=e.jsPlumbInstance.makeAnchor([t,n,i,r,0,0],e.elementId,e.jsPlumbInstance);return a.type=o,s&&s(a,e),a}};r(.5,0,0,-1,"TopCenter"),r(.5,1,0,1,"BottomCenter"),r(0,.5,-1,0,"LeftMiddle"),r(1,.5,1,0,"RightMiddle"),r(.5,0,0,-1,"Top"),r(.5,1,0,1,"Bottom"),r(0,.5,-1,0,"Left"),r(1,.5,1,0,"Right"),r(.5,.5,0,0,"Center"),r(1,0,0,-1,"TopRight"),r(1,1,0,1,"BottomRight"),r(0,0,0,-1,"TopLeft"),r(0,1,0,1,"BottomLeft"),e.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},e.Anchors.AutoDefault=function(t){var n=t.jsPlumbInstance.makeDynamicAnchor(e.Defaults.DynamicAnchors(t));return n.type="AutoDefault",n};var o=function(t,n){e.Anchors[t]=function(e){var i=e.jsPlumbInstance.makeAnchor(["Continuous",{faces:n}],e.elementId,e.jsPlumbInstance);return i.type=t,i}};e.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},o("ContinuousLeft",["left"]),o("ContinuousTop",["top"]),o("ContinuousBottom",["bottom"]),o("ContinuousRight",["right"]),r(0,0,0,0,"Assign",(function(t,n){var e=n.position||"Fixed";t.positionFinder=e.constructor===String?n.jsPlumbInstance.AnchorPositionFinders[e]:e,t.constructorParams=n})),t.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,n,e){return[(t.left-n.left)/e[0],(t.top-n.top)/e[1]]},Grid:function(t,n,e,i){var r=t.left-n.left,o=t.top-n.top,s=e[0]/i.grid[0],a=e[1]/i.grid[1],l=Math.floor(r/s),u=Math.floor(o/a);return[(l*s+s/2)/e[0],(u*a+a/2)/e[1]]}},e.Anchors.Perimeter=function(t){t=t||{};var n=t.anchorCount||60,e=t.shape;if(!e)throw new Error("no shape supplied to Perimeter Anchor type");var i=function(){for(var t=.5,e=2*Math.PI/n,i=0,r=[],o=0;o<n;o++){var s=t+t*Math.sin(i),a=t+t*Math.cos(i);r.push([s,a,0,0]),i+=e}return r},r=function(t){for(var e=n/t.length,i=[],r=function(t,r,o,s,a,l,u){e=n*a;for(var c=(o-t)/e,h=(s-r)/e,d=0;d<e;d++)i.push([t+c*d,r+h*d,null==l?0:l,null==u?0:u])},o=0;o<t.length;o++)r.apply(null,t[o]);return i},o=function(t){for(var n=[],e=0;e<t.length;e++)n.push([t[e][0],t[e][1],t[e][2],t[e][3],1/t.length,t[e][4],t[e][5]]);return r(n)},s=function(){return o([[0,0,1,0,0,-1],[1,0,1,1,1,0],[1,1,0,1,0,1],[0,1,0,0,-1,0]])},a={Circle:i,Ellipse:i,Diamond:function(){return o([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return o([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var n=t.points,e=[],i=0,o=0;o<n.length-1;o++){var s=Math.sqrt(Math.pow(n[o][2]-n[o][0])+Math.pow(n[o][3]-n[o][1]));i+=s,e.push([n[o][0],n[o][1],n[o+1][0],n[o+1][1],s])}for(var a=0;a<e.length;a++)e[a][4]=e[a][4]/i;return r(e)}},l=function(t,n){for(var e=[],i=n/180*Math.PI,r=0;r<t.length;r++){var o=t[r][0]-.5,s=t[r][1]-.5;e.push([o*Math.cos(i)-s*Math.sin(i)+.5,o*Math.sin(i)+s*Math.cos(i)+.5,t[r][2],t[r][3]])}return e};if(!a[e])throw new Error("Shape ["+e+"] is unknown by Perimeter Anchor type");var u=a[e](t);t.rotation&&(u=l(u,t.rotation));var c=t.jsPlumbInstance.makeDynamicAnchor(u);return c.type="Perimeter",c}}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=t.Biltong;n.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(t,n){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}},this.lineIntersection=function(t,n,e,i){return[]},this.boxIntersection=function(t,n,e,i){var r=[];return r.push.apply(r,this.lineIntersection(t,n,t+e,n)),r.push.apply(r,this.lineIntersection(t+e,n,t+e,n+i)),r.push.apply(r,this.lineIntersection(t+e,n+i,t,n+i)),r.push.apply(r,this.lineIntersection(t,n+i,t,n)),r},this.boundingBoxIntersection=function(t){return this.boxIntersection(t.x,t.y,t.w,t.y)}},Straight:function(t){n.Segments.AbstractSegment.apply(this,arguments);var e,r,o,s,a,l,u,c=function(){e=Math.sqrt(Math.pow(a-s,2)+Math.pow(u-l,2)),r=i.gradient({x:s,y:l},{x:a,y:u}),o=-1/r};this.type="Straight",this.getLength=function(){return e},this.getGradient=function(){return r},this.getCoordinates=function(){return{x1:s,y1:l,x2:a,y2:u}},this.setCoordinates=function(t){s=t.x1,l=t.y1,a=t.x2,u=t.y2,c()},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(l,u),maxX:Math.max(s,a),maxY:Math.max(l,u)}},this.pointOnPath=function(t,n){if(0!==t||n){if(1!==t||n){var r=n?t>0?t:e+t:t*e;return i.pointOnLine({x:s,y:l},{x:a,y:u},r)}return{x:a,y:u}}return{x:s,y:l}},this.gradientAtPoint=function(t){return r},this.pointAlongPathFrom=function(t,n,e){var r=this.pointOnPath(t,e),o=n<=0?{x:s,y:l}:{x:a,y:u};return n<=0&&Math.abs(n)>1&&(n*=-1),i.pointOnLine(r,o,n)};var h=function(t,n,e){return e>=Math.min(t,n)&&e<=Math.max(t,n)},d=function(t,n,e){return Math.abs(e-t)<Math.abs(e-n)?t:n};this.findClosestPointOnPath=function(t,n){var c={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:l,y2:u};if(0===r)c.y=l,c.x=h(s,a,t)?t:d(s,a,t);else if(r===1/0||r===-1/0)c.x=s,c.y=h(l,u,n)?n:d(l,u,n);else{var f=l-r*s,p=n-o*t,g=(p-f)/(r-o),v=r*g+f;c.x=h(s,a,g)?g:d(s,a,g),c.y=h(l,u,v)?v:d(l,u,v)}var m=i.lineLength([c.x,c.y],[s,l]);return c.d=i.lineLength([t,n],[c.x,c.y]),c.l=m/e,c};var f=function(t,n,e){return e>n?n<=t&&t<=e:n>=t&&t>=e},p=f;this.lineIntersection=function(t,n,e,o){var c=Math.abs(i.gradient({x:t,y:n},{x:e,y:o})),h=Math.abs(r),d=h===1/0?s:l-h*s,f=[],g=c===1/0?t:n-c*t;if(c!==h)if(c===1/0&&0===h)p(t,s,a)&&p(l,n,o)&&(f=[t,l]);else if(0===c&&h===1/0)p(n,l,u)&&p(s,t,e)&&(f=[s,n]);else{var v,m;c===1/0?(v=t,p(v,s,a)&&(m=h*t+d,p(m,n,o)&&(f=[v,m]))):0===c?(m=n,p(m,l,u)&&(v=(n-d)/h,p(v,t,e)&&(f=[v,m]))):(v=(g-d)/(h-c),m=h*v+d,p(v,s,a)&&p(m,l,u)&&(f=[v,m]))}return f},this.boxIntersection=function(t,n,e,i){var r=[];return r.push.apply(r,this.lineIntersection(t,n,t+e,n)),r.push.apply(r,this.lineIntersection(t+e,n,t+e,n+i)),r.push.apply(r,this.lineIntersection(t+e,n+i,t,n+i)),r.push.apply(r,this.lineIntersection(t,n+i,t,n)),r},this.boundingBoxIntersection=function(t){return this.boxIntersection(t.x,t.y,t.w,t.h)}},Arc:function(t){n.Segments.AbstractSegment.apply(this,arguments);var e=function(n,e){return i.theta([t.cx,t.cy],[n,e])},r=function(t,n){if(t.anticlockwise){var e=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle,i=Math.abs(e-t.endAngle);return e-i*n}var r=t.endAngle<t.startAngle?t.endAngle+o:t.endAngle,s=Math.abs(r-t.startAngle);return t.startAngle+s*n},o=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=e(t.x1,t.y1),this.endAngle=e(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o);var s=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(s-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var a=2*Math.PI*this.radius,l=this.sweep/o,u=a*l;this.getLength=function(){return u},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var c=1e-10,h=function(t){var n=Math.floor(t),e=Math.ceil(t);return t-n<c?n:e-t<c?e:t};this.pointOnPath=function(n,e){if(0===n)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===n)return{x:this.x2,y:this.y2,theta:this.endAngle};e&&(n/=u);var i=r(this,n),o=t.cx+t.r*Math.cos(i),s=t.cy+t.r*Math.sin(i);return{x:h(o),y:h(s),theta:i}},this.gradientAtPoint=function(n,e){var r=this.pointOnPath(n,e),o=i.normal([t.cx,t.cy],[r.x,r.y]);return this.anticlockwise||o!==1/0&&o!==-1/0||(o*=-1),o},this.pointAlongPathFrom=function(n,e,i){var r=this.pointOnPath(n,i),o=e/a*2*Math.PI,s=this.anticlockwise?-1:1,l=r.theta+s*o,u=t.cx+this.radius*Math.cos(l),c=t.cy+this.radius*Math.sin(l);return{x:u,y:c}}},Bezier:function(e){this.curve=[{x:e.x1,y:e.y1},{x:e.cp1x,y:e.cp1y},{x:e.cp2x,y:e.cp2y},{x:e.x2,y:e.y2}];n.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(e.x1,e.x2,e.cp1x,e.cp2x),minY:Math.min(e.y1,e.y2,e.cp1y,e.cp2y),maxX:Math.max(e.x1,e.x2,e.cp1x,e.cp2x),maxY:Math.max(e.y1,e.y2,e.cp1y,e.cp2y)},this.type="Bezier";var i=function(n,e,i){return i&&(e=t.jsBezier.locationAlongCurveFrom(n,e>0?0:1,e)),e};this.pointOnPath=function(n,e){return n=i(this.curve,n,e),t.jsBezier.pointOnCurve(this.curve,n)},this.gradientAtPoint=function(n,e){return n=i(this.curve,n,e),t.jsBezier.gradientAtPoint(this.curve,n)},this.pointAlongPathFrom=function(n,e,r){return n=i(this.curve,n,r),t.jsBezier.pointAlongCurveFrom(this.curve,n,e)},this.getLength=function(){return t.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds},this.findClosestPointOnPath=function(n,e){var i=t.jsBezier.nearestPointOnCurve({x:n,y:e},this.curve);return{d:Math.sqrt(Math.pow(i.point.x-n,2)+Math.pow(i.point.y-e,2)),x:i.point.x,y:i.point.y,l:i.location,s:this}},this.lineIntersection=function(n,e,i,r){return t.jsBezier.lineIntersection(n,e,i,r,this.curve)}}},n.SegmentRenderer={getPath:function(t,n){return{Straight:function(n){var e=t.getCoordinates();return(n?"M "+e.x1+" "+e.y1+" ":"")+"L "+e.x2+" "+e.y2},Bezier:function(n){var e=t.params;return(n?"M "+e.x2+" "+e.y2+" ":"")+"C "+e.cp2x+" "+e.cp2y+" "+e.cp1x+" "+e.cp1y+" "+e.x1+" "+e.y1},Arc:function(n){var e=t.params,i=t.sweep>Math.PI?1:0,r=t.anticlockwise?0:1;return(n?"M"+t.x1+" "+t.y1+" ":"")+"A "+t.radius+" "+e.r+" 0 "+i+","+r+" "+t.x2+" "+t.y2}}[t.type](n)}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};n.Connectors.AbstractConnector=function(t){r.apply(this,arguments);var o=[],s=0,a=[],l=[],u=t.stub||0,c=e.isArray(u)?u[0]:u,h=e.isArray(u)?u[1]:u,d=t.gap||0,f=e.isArray(d)?d[0]:d,p=e.isArray(d)?d[1]:d,g=null,v=null;this.getPathData=function(){for(var t="",e=0;e<o.length;e++)t+=n.SegmentRenderer.getPath(o[e],0===e),t+=" ";return t},this.findSegmentForPoint=function(t,n){for(var e={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var r=o[i].findClosestPointOnPath(t,n);r.d<e.d&&(e.d=r.d,e.l=r.l,e.x=r.x,e.y=r.y,e.s=o[i],e.x1=r.x1,e.x2=r.x2,e.y1=r.y1,e.y2=r.y2,e.index=i)}return e},this.lineIntersection=function(t,n,e,i){for(var r=[],s=0;s<o.length;s++)r.push.apply(r,o[s].lineIntersection(t,n,e,i));return r},this.boxIntersection=function(t,n,e,i){for(var r=[],s=0;s<o.length;s++)r.push.apply(r,o[s].boxIntersection(t,n,e,i));return r},this.boundingBoxIntersection=function(t){for(var n=[],e=0;e<o.length;e++)n.push.apply(n,o[e].boundingBoxIntersection(t));return n};var m=function(){for(var t=0,n=0;n<o.length;n++){var e=o[n].getLength();l[n]=e/s,a[n]=[t,t+=e/s]}},b=function(t,n){n&&(t=t>0?t/s:(s+t)/s);for(var e=a.length-1,i=1,r=0;r<a.length;r++)if(a[r][1]>=t){e=r,i=1===t?1:0===t?0:(t-a[r][0])/l[r];break}return{segment:o[e],proportion:i,index:e}},y=function(t,e,i){if(i.x1!==i.x2||i.y1!==i.y2){var r=new n.Segments[e](i);o.push(r),s+=r.getLength(),t.updateBounds(r)}},_=function(){s=o.length=a.length=l.length=0};this.setSegments=function(t){g=[],s=0;for(var n=0;n<t.length;n++)g.push(t[n]),s+=t[n].getLength()},this.getLength=function(){return s};var x=function(t){this.strokeWidth=t.strokeWidth;var n=i.quadrant(t.sourcePos,t.targetPos),e=t.targetPos[0]<t.sourcePos[0],r=t.targetPos[1]<t.sourcePos[1],o=t.strokeWidth||1,s=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),l=e?t.targetPos[0]:t.sourcePos[0],u=r?t.targetPos[1]:t.sourcePos[1],d=Math.abs(t.targetPos[0]-t.sourcePos[0]),g=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var v=d>g?0:1,m=[1,0][v];s=[],a=[],s[v]=t.sourcePos[v]>t.targetPos[v]?-1:1,a[v]=t.sourcePos[v]>t.targetPos[v]?1:-1,s[m]=0,a[m]=0}var b=e?d+f*s[0]:f*s[0],y=r?g+f*s[1]:f*s[1],_=e?p*a[0]:d+p*a[0],x=r?p*a[1]:g+p*a[1],P=s[0]*a[0]+s[1]*a[1],C={sx:b,sy:y,tx:_,ty:x,lw:o,xSpan:Math.abs(_-b),ySpan:Math.abs(x-y),mx:(b+_)/2,my:(y+x)/2,so:s,to:a,x:l,y:u,w:d,h:g,segment:n,startStubX:b+s[0]*c,startStubY:y+s[1]*c,endStubX:_+a[0]*h,endStubY:x+a[1]*h,isXGreaterThanStubTimes2:Math.abs(b-_)>c+h,isYGreaterThanStubTimes2:Math.abs(y-x)>c+h,opposite:-1===P,perpendicular:0===P,orthogonal:1===P,sourceAxis:0===s[0]?"y":"x",points:[l,u,d,g,b,y,_,x],stubs:[c,h]};return C.anchorOrientation=C.opposite?"opposite":C.orthogonal?"orthogonal":"perpendicular",C};this.getSegments=function(){return o},this.updateBounds=function(t){var n=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,n.minX),this.bounds.maxX=Math.max(this.bounds.maxX,n.maxX),this.bounds.minY=Math.min(this.bounds.minY,n.minY),this.bounds.maxY=Math.max(this.bounds.maxY,n.maxY)};return this.pointOnPath=function(t,n){var e=b(t,n);return e.segment&&e.segment.pointOnPath(e.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,n){var e=b(t,n);return e.segment&&e.segment.gradientAtPoint(e.proportion,!1)||0},this.pointAlongPathFrom=function(t,n,e){var i=b(t,e);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,n,!1)||[0,0]},this.compute=function(t){v=x.call(this,t),_(),this._compute(v,t),this.x=v.points[0],this.y=v.points[1],this.w=v.points[2],this.h=v.points[3],this.segment=v.segment,m()},{addSegment:y,prepareCompute:x,sourceStub:c,targetStub:h,maxStub:Math.max(c,h),sourceGap:f,targetGap:p,maxGap:Math.max(f,p)}},e.extend(n.Connectors.AbstractConnector,r),n.Endpoints.AbstractEndpoint=function(t){r.apply(this,arguments);var n=this.compute=function(t,n,e,i){var r=this._compute.apply(this,arguments);return this.x=r[0],this.y=r[1],this.w=r[2],this.h=r[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,r};return{compute:n,cssClass:t.cssClass}},e.extend(n.Endpoints.AbstractEndpoint,r),n.Endpoints.Dot=function(t){this.type="Dot";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.radius=t.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,n,e,i){this.radius=e.radius||this.radius;var r=t[0]-this.radius,o=t[1]-this.radius,s=2*this.radius,a=2*this.radius;if(e.stroke){var l=e.strokeWidth||1;r-=l,o-=l,s+=2*l,a+=2*l}return[r,o,s,a,this.radius]}},e.extend(n.Endpoints.Dot,n.Endpoints.AbstractEndpoint),n.Endpoints.Rectangle=function(t){this.type="Rectangle";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.width=t.width||20,this.height=t.height||20,this._compute=function(t,n,e,i){var r=e.width||this.width,o=e.height||this.height,s=t[0]-r/2,a=t[1]-o/2;return[s,a,r,o]}},e.extend(n.Endpoints.Rectangle,n.Endpoints.AbstractEndpoint);var o=function(t){n.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};e.extend(o,n.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),n.Endpoints.Image=function(i){this.type="Image",o.apply(this,arguments),n.Endpoints.AbstractEndpoint.apply(this,arguments);var r=i.onload,s=i.src||i.url,a=i.cssClass?" "+i.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=i.width,this._jsPlumb.heightToUse=i.height,this._jsPlumb.endpoint=i.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,r&&r(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(t,n){var e=t.constructor===String?t:t.src;r=n,this._jsPlumb.img.src=e,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(s,r),this._compute=function(t,n,e,i){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=n.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(t,n,i){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var r=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,o=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;e.sizeElement(this.canvas,r,o,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(n,e){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(n,e):t.setTimeout(function(){this.paint(n,e)}.bind(this),200))}},e.extend(n.Endpoints.Image,[o,n.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),n.Endpoints.Blank=function(t){n.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",o.apply(this,arguments),this._compute=function(t,n,e,i){return[t[0],t[1],10,0]};var i=t.cssClass?" "+t.cssClass:"";this.canvas=n.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(t,n){e.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},e.extend(n.Endpoints.Blank,[n.Endpoints.AbstractEndpoint,o],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),n.Endpoints.Triangle=function(t){this.type="Triangle",n.Endpoints.AbstractEndpoint.apply(this,arguments);var e=this;t=t||{},t.width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,n,i,r){var o=i.width||e.width,s=i.height||e.height,a=t[0]-o/2,l=t[1]-s/2;return[a,l,o,s]}};var s=n.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=!1!==t.visible};s.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(t,n){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},n.Overlays.Arrow=function(t){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1,t=t||{};var r=this;this.length=t.length||20,this.width=t.width||20,this.id=t.id,this.direction=(t.direction||1)<0?-1:1;var o=t.paintStyle||{"stroke-width":1},a=t.foldback||.623;this.computeMaxSize=function(){return 1.5*r.width},this.elementCreated=function(e,i){if(this.path=e,t.events)for(var r in t.events)n.on(e,r,t.events[r])},this.draw=function(t,n){var r,s,l,u,c;if(t.pointAlongPathFrom){if(e.isString(this.loc)||this.loc>1||this.loc<0){var h=parseInt(this.loc,10),d=this.loc<0?1:0;r=t.pointAlongPathFrom(d,h,!1),s=t.pointAlongPathFrom(d,h-this.direction*this.length/2,!1),l=i.pointOnLine(r,s,this.length)}else if(1===this.loc){if(r=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,-this.length),l=i.pointOnLine(r,s,this.length),-1===this.direction){var f=l;l=r,r=f}}else if(0===this.loc){if(l=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,this.length),r=i.pointOnLine(l,s,this.length),-1===this.direction){var p=l;l=r,r=p}}else r=t.pointAlongPathFrom(this.loc,this.direction*this.length/2),s=t.pointOnPath(this.loc),l=i.pointOnLine(r,s,this.length);u=i.perpendicularLineTo(r,l,this.width),c=i.pointOnLine(r,l,a*this.length);var g={hxy:r,tail:u,cxy:c},v=o.stroke||n.stroke,m=o.fill||n.stroke,b=o.strokeWidth||n.strokeWidth;return{component:t,d:g,"stroke-width":b,stroke:v,fill:m,minX:Math.min(r.x,u[0].x,u[1].x),maxX:Math.max(r.x,u[0].x,u[1].x),minY:Math.min(r.y,u[0].y,u[1].y),maxY:Math.max(r.y,u[0].y,u[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},e.extend(n.Overlays.Arrow,s,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback},cleanup:function(){this.path&&this.canvas&&this.canvas.removeChild(this.path)}}),n.Overlays.PlainArrow=function(t){t=t||{};var e=n.extend(t,{foldback:1});n.Overlays.Arrow.call(this,e),this.type="PlainArrow"},e.extend(n.Overlays.PlainArrow,n.Overlays.Arrow),n.Overlays.Diamond=function(t){t=t||{};var e=t.length||40,i=n.extend(t,{length:e/2,foldback:2});n.Overlays.Arrow.call(this,i),this.type="Diamond"},e.extend(n.Overlays.Diamond,n.Overlays.Arrow);var a=function(t,n){return(null==t._jsPlumb.cachedDimensions||n)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},l=function(t){n.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var i=this.fire;this.fire=function(){i.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=!1===t.visible,this.getElement=function(){if(null==this._jsPlumb.div){var e=this._jsPlumb.div=n.getElement(this._jsPlumb.create(this._jsPlumb.component));e.style.position="absolute",jsPlumb.addClass(e,this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:"")),this._jsPlumb.instance.appendElement(e),this._jsPlumb.instance.getId(e),this.canvas=e;var i="translate(-50%, -50%)";e.style.webkitTransform=i,e.style.mozTransform=i,e.style.msTransform=i,e.style.oTransform=i,e.style.transform=i,e._jsPlumb=this,!1===t.visible&&(e.style.display="none")}return this._jsPlumb.div},this.draw=function(t,n,i){var r=a(this);if(null!=r&&2===r.length){var o={x:0,y:0};if(i)o={x:i[0],y:i[1]};else if(t.pointOnPath){var s=this.loc,l=!1;(e.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),l=!0),o=t.pointOnPath(s,l)}else{var u=this.loc.constructor===Array?this.loc:this.endpointLoc;o={x:u[0]*t.w,y:u[1]*t.h}}var c=o.x-r[0]/2,h=o.y-r[1]/2;return{component:t,d:{minx:c,miny:h,td:r,cxy:o},minX:c,maxX:c+r[0],minY:h,maxY:h+r[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};e.extend(l,[n.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(a(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t,n){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=a(this);return Math.max(t[0],t[1])},paint:function(t,n){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),n.Overlays.Custom=function(t){this.type="Custom",l.apply(this,arguments)},e.extend(n.Overlays.Custom,l),n.Overlays.GuideLines=function(){var t=this;t.length=50,t.strokeWidth=5,this.type="GuideLines",s.apply(this,arguments),n.jsPlumbUIComponent.apply(this,arguments),this.draw=function(n,e){var r=n.pointAlongPathFrom(t.loc,t.length/2),o=n.pointOnPath(t.loc),s=i.pointOnLine(r,o,t.length),a=i.perpendicularLineTo(r,s,40),l=i.perpendicularLineTo(s,r,20);return{connector:n,head:r,tail:s,headLine:l,tailLine:a,minX:Math.min(r.x,s.x,l[0].x,l[1].x),minY:Math.min(r.y,s.y,l[0].y,l[1].y),maxX:Math.max(r.x,s.x,l[0].x,l[1].x),maxY:Math.max(r.y,s.y,l[0].y,l[1].y)}}},n.Overlays.Label=function(t){this.labelStyle=t.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var e=n.extend({create:function(){return n.createElement("div")}},t);if(n.Overlays.Custom.call(this,e),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var i=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(i.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0){var r=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";i.style.border=this.labelStyle.borderWidth+"px solid "+r}this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding)}},e.extend(n.Overlays.Label,n.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),l.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"===typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){null!=t.label&&this.setLabel(t.label)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumbUtil,e=t.jsPlumbInstance,i="jtk-group-collapsed",r="jtk-group-expanded",o="[jtk-group-content]",s="elementDraggable",a="stop",l="revert",u="_groupManager",c="_jsPlumbGroup",h="_jsPlumbGroupDrag",d="group:addMember",f="group:removeMember",p="group:add",g="group:remove",v="group:expand",m="group:collapse",b="groupDragStop",y="connectionMoved",_="internal.connectionDetached",x="removeAll",P="orphanAll",C="show",w="hide",j=function(t){var e={},o={},s={},a=this;function l(t){delete t.proxies;var e,i=o[t.id];null!=i&&(e=function(n){return n.id===t.id},n.removeWithFunction(i.connections.source,e),n.removeWithFunction(i.connections.target,e),delete o[t.id]),i=s[t.id],null!=i&&(e=function(n){return n.id===t.id},n.removeWithFunction(i.connections.source,e),n.removeWithFunction(i.connections.target,e),delete s[t.id])}function u(n,e){for(var i=n.getMembers(),r=0;r<i.length;r++)t[e?C:w](i[r],!0)}t.bind("connection",(function(t){null!=t.source[c]&&null!=t.target[c]&&t.source[c]===t.target[c]?(o[t.connection.id]=t.source[c],s[t.connection.id]=t.source[c]):(null!=t.source[c]&&(n.suggest(t.source[c].connections.source,t.connection),o[t.connection.id]=t.source[c]),null!=t.target[c]&&(n.suggest(t.target[c].connections.target,t.connection),s[t.connection.id]=t.target[c]))})),t.bind(_,(function(t){l(t.connection)})),t.bind(y,(function(t){var n=0===t.index?o:s,e=n[t.connection.id];if(e){var i=e.connections[0===t.index?"source":"target"],r=i.indexOf(t.connection);-1!==r&&i.splice(r,1)}})),this.addGroup=function(n){t.addClass(n.getEl(),r),e[n.id]=n,n.manager=this,b(n),t.fire(p,{group:n})},this.addToGroup=function(n,e,i){if(n=this.getGroup(n),n){var r=n.getEl();if(e._isJsPlumbGroup)return;var o=e._jsPlumbGroup;if(o!==n){var s=t.getOffset(e,!0),l=n.collapsed?t.getOffset(r,!0):t.getOffset(n.getDragArea(),!0);null!=o&&(o.remove(e,!1,i,!1,n),a.updateConnectionsForGroup(o)),n.add(e,i);var u=function(t,e){var i=0===e?1:0;t.each((function(t){t.setVisible(!1),t.endpoints[i].element._jsPlumbGroup===n?(t.endpoints[i].setVisible(!1),f(t,i,n)):(t.endpoints[e].setVisible(!1),h(t,e,n))}))};n.collapsed&&(u(t.select({source:e}),0),u(t.select({target:e}),1));var c=t.getId(e);t.dragManager.setParent(e,c,r,t.getId(r),s);var p={left:s.left-l.left,top:s.top-l.top};if(t.setPosition(e,p),t.dragManager.revalidateParent(e,c,s),a.updateConnectionsForGroup(n),t.revalidate(c),!i){var g={group:n,el:e,pos:p};o&&(g.sourceGroup=o),t.fire(d,g)}}}},this.removeFromGroup=function(t,n,e){t=this.getGroup(t),t&&t.remove(n,null,e)},this.getGroup=function(t){var i=t;if(n.isString(t)&&(i=e[t],null==i))throw new TypeError("No such group ["+t+"]");return i},this.getGroups=function(){var t=[];for(var n in e)t.push(e[n]);return t},this.removeGroup=function(n,i,r,o){n=this.getGroup(n),this.expandGroup(n,!0);var s=n[i?x:P](r,o);return t.remove(n.getEl()),delete e[n.id],delete t._groups[n.id],t.fire(g,{group:n}),s},this.removeAllGroups=function(t,n,i){for(var r in e)this.removeGroup(e[r],t,n,i)};var h=function(n,e,i){var r=n.endpoints[0===e?1:0].element;if(!r[c]||r[c].shouldProxy()||!r[c].collapsed){var o=i.getEl(),s=t.getId(o);t.proxyConnection(n,e,o,s,(function(t,n){return i.getEndpoint(t,n)}),(function(t,n){return i.getAnchor(t,n)}))}};this.collapseGroup=function(n){if(n=this.getGroup(n),null!=n&&!n.collapsed){var e=n.getEl();if(u(n,!1),n.shouldProxy()){var o=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];h(r,e,n)}};o(n.connections.source,0),o(n.connections.target,1)}n.collapsed=!0,t.removeClass(e,r),t.addClass(e,i),t.revalidate(e),t.fire(m,{group:n})}};var f=function(n,e,i){t.unproxyConnection(n,e,t.getId(i.getEl()))};function b(n){var e=n.getMembers(),i=t.getConnections({source:e,scope:"*"},!0),r=t.getConnections({target:e,scope:"*"},!0),a={};n.connections.source.length=0,n.connections.target.length=0;var l=function(t){for(var e=0;e<t.length;e++)a[t[e].id]||(a[t[e].id]=!0,t[e].source._jsPlumbGroup===n?(t[e].target._jsPlumbGroup!==n&&n.connections.source.push(t[e]),o[t[e].id]=n):t[e].target._jsPlumbGroup===n&&(n.connections.target.push(t[e]),s[t[e].id]=n))};l(i),l(r)}this.expandGroup=function(n,e){if(n=this.getGroup(n),null!=n&&n.collapsed){var o=n.getEl();if(u(n,!0),n.shouldProxy()){var s=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];f(r,e,n)}};s(n.connections.source,0),s(n.connections.target,1)}n.collapsed=!1,t.addClass(o,r),t.removeClass(o,i),t.revalidate(o),this.repaintGroup(n),e||t.fire(v,{group:n})}},this.repaintGroup=function(n){n=this.getGroup(n);for(var e=n.getMembers(),i=0;i<e.length;i++)t.revalidate(e[i])},this.updateConnectionsForGroup=b,this.refreshAllGroups=function(){for(var n in e)b(e[n]),t.dragManager.updateOffsets(t.getId(e[n].getEl()))}},E=function(e,i){var r=this,u=i.el;this.getEl=function(){return u},this.id=i.id||n.uuid(),u._isJsPlumbGroup=!0;var d=this.getDragArea=function(){var t=e.getSelector(u,o);return t&&t.length>0?t[0]:u},p=!0===i.ghost,g=p||!0===i.constrain,v=!1!==i.revert,m=!0===i.orphan,y=!0===i.prune,_=!0===i.dropOverride,x=!1!==i.proxied,P=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(t,n){return i.anchor||"Continuous"},this.getEndpoint=function(t,n){return i.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==i.draggable){var C={stop:function(t){e.fire(b,jsPlumb.extend(t,{group:r}))},scope:h};i.dragOptions&&t.jsPlumb.extend(C,i.dragOptions),e.draggable(i.el,C)}!1!==i.droppable&&e.droppable(i.el,{drop:function(t){var n=t.drag.el;if(!n._isJsPlumbGroup){var i=n._jsPlumbGroup;if(i!==r){if(null!=i&&i.overrideDrop(n,r))return;e.getGroupManager().addToGroup(r,n,!1)}}}});var w=function(t,n){for(var e=null==t.nodeType?t:[t],i=0;i<e.length;i++)n(e[i])};function j(t){return t.offsetParent}function E(t,n){var i=j(t),r=e.getSize(i),o=e.getSize(t),s=n[0],a=s+o[0],l=n[1],u=l+o[1];return a>0&&s<r[0]&&u>0&&l<r[1]}function S(t){var n=e.getId(t),i=e.getOffset(t);return t.parentNode.removeChild(t),e.getContainer().appendChild(t),e.setPosition(t,i),delete t._jsPlumbGroup,k(t),e.dragManager.clearParent(t,n),[n,i]}function D(t){var n=null;if(!E(t.el,t.pos)){var i=t.el._jsPlumbGroup;y?e.remove(t.el):n=S(t.el),i.remove(t.el)}return n}function I(t){var n=e.getId(t);e.revalidate(t),e.dragManager.revalidateParent(t,n)}function k(t){t._katavorioDrag&&((y||m)&&t._katavorioDrag.off(a,D),y||m||!v||(t._katavorioDrag.off(l,I),t._katavorioDrag.setRevert(null)))}function A(t){t._katavorioDrag&&((y||m)&&t._katavorioDrag.on(a,D),g&&t._katavorioDrag.setConstrain(!0),p&&t._katavorioDrag.setUseGhostProxy(!0),y||m||!v||(t._katavorioDrag.on(l,I),t._katavorioDrag.setRevert((function(t,n){return!E(t,n)}))))}this.overrideDrop=function(t,n){return _&&(v||y||m)},this.add=function(t,n){var i=d();w(t,(function(t){if(null!=t._jsPlumbGroup){if(t._jsPlumbGroup===r)return;t._jsPlumbGroup.remove(t,!0,n,!1)}t._jsPlumbGroup=r,P.push(t),e.isAlreadyDraggable(t)&&A(t),t.parentNode!==i&&i.appendChild(t)})),e.getGroupManager().updateConnectionsForGroup(r)},this.remove=function(t,i,o,s,a){w(t,(function(t){if(delete t._jsPlumbGroup,n.removeWithFunction(P,(function(n){return n===t})),i)try{r.getDragArea().removeChild(t)}catch(l){jsPlumbUtil.log("Could not remove element from Group "+l)}if(k(t),!o){var s={group:r,el:t};a&&(s.targetGroup=a),e.fire(f,s)}})),s||e.getGroupManager().updateConnectionsForGroup(r)},this.removeAll=function(t,n){for(var i=0,o=P.length;i<o;i++){var s=P[0];r.remove(s,t,n,!0),e.remove(s,!0)}P.length=0,e.getGroupManager().updateConnectionsForGroup(r)},this.orphanAll=function(){for(var t={},n=0;n<P.length;n++){var e=S(P[n]);t[e[0]]=e[1]}return P.length=0,t},this.getMembers=function(){return P},u[c]=this,e.bind(s,function(t){t.el._jsPlumbGroup===this&&A(t.el)}.bind(this)),this.shouldProxy=function(){return x},e.getGroupManager().addGroup(this)};e.prototype.addGroup=function(t){var n=this;if(n._groups=n._groups||{},null!=n._groups[t.id])throw new TypeError("cannot create Group ["+t.id+"]; a Group with that ID exists");if(null!=t.el[c])throw new TypeError("cannot create Group ["+t.id+"]; the given element is already a Group");var e=new E(n,t);return n._groups[e.id]=e,t.collapsed&&this.collapseGroup(e),e},e.prototype.addToGroup=function(t,n,e){var i=function(n){var i=this.getId(n);this.manage(i,n),this.getGroupManager().addToGroup(t,n,e)}.bind(this);if(Array.isArray(n))for(var r=0;r<n.length;r++)i(n[r]);else i(n)},e.prototype.removeFromGroup=function(t,n,e){this.getGroupManager().removeFromGroup(t,n,e)},e.prototype.removeGroup=function(t,n,e,i){return this.getGroupManager().removeGroup(t,n,e,i)},e.prototype.removeAllGroups=function(t,n,e){this.getGroupManager().removeAllGroups(t,n,e)},e.prototype.getGroup=function(t){return this.getGroupManager().getGroup(t)},e.prototype.getGroups=function(){return this.getGroupManager().getGroups()},e.prototype.expandGroup=function(t){this.getGroupManager().expandGroup(t)},e.prototype.collapseGroup=function(t){this.getGroupManager().collapseGroup(t)},e.prototype.repaintGroup=function(t){this.getGroupManager().repaintGroup(t)},e.prototype.toggleGroup=function(t){t=this.getGroupManager().getGroup(t),null!=t&&this.getGroupManager()[t.collapsed?"expandGroup":"collapseGroup"](t)},e.prototype.getGroupManager=function(){var t=this[u];return null==t&&(t=this[u]=new j(this)),t},e.prototype.removeGroupManager=function(){delete this[u]},e.prototype.getGroupFor=function(t){if(t=this.getElement(t),t)return t[c]}}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i="Straight",r="Arc",o=function(t){this.type="Flowchart",t=t||{},t.stub=null==t.stub?30:t.stub;var e,o=n.Connectors.AbstractConnector.apply(this,arguments),s=null==t.midpoint?.5:t.midpoint,a=!0===t.alwaysRespectStubs,l=null,u=null,c=null!=t.cornerRadius?t.cornerRadius:0,h=(t.loopbackRadius,function(t){return t<0?-1:0===t?0:1}),d=function(t){return[h(t[2]-t[0]),h(t[3]-t[1])]},f=function(t,n,e,i){if(l!==n||u!==e){var r=null==l?i.sx:l,o=null==u?i.sy:u,s=r===n?"v":"h";l=n,u=e,t.push([r,o,n,e,s])}},p=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},g=function(t){var n=[];return n.push.apply(n,t),n},v=function(t,n,e){for(var s,a,l,u=null,h=0;h<n.length-1;h++){if(u=u||g(n[h]),s=g(n[h+1]),a=d(u),l=d(s),c>0&&u[4]!==s[4]){var f=Math.min(p(u),p(s)),v=Math.min(c,f/2);u[2]-=a[0]*v,u[3]-=a[1]*v,s[0]+=l[0]*v,s[1]+=l[1]*v;var m=a[1]===l[0]&&1===l[0]||a[1]===l[0]&&0===l[0]&&a[0]!==l[1]||a[1]===l[0]&&-1===l[0],b=s[1]>u[3]?1:-1,y=s[0]>u[2]?1:-1,_=b===y,x=_&&m||!_&&!m?s[0]:u[2],P=_&&m||!_&&!m?u[3]:s[1];o.addSegment(t,i,{x1:u[0],y1:u[1],x2:u[2],y2:u[3]}),o.addSegment(t,r,{r:v,x1:u[2],y1:u[3],x2:s[0],y2:s[1],cx:x,cy:P,ac:m})}else{var C=u[2]===u[0]?0:u[2]>u[0]?e.lw/2:-e.lw/2,w=u[3]===u[1]?0:u[3]>u[1]?e.lw/2:-e.lw/2;o.addSegment(t,i,{x1:u[0]-C,y1:u[1]-w,x2:u[2]+C,y2:u[3]+w})}u=s}null!=s&&o.addSegment(t,i,{x1:s[0],y1:s[1],x2:s[2],y2:s[3]})};this._compute=function(t,n){e=[],l=null,u=null,null;var i=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},r={perpendicular:i,orthogonal:i,opposite:function(n){var e=t,i="x"===n?0:1,r={x:function(){return 1===e.so[i]&&(e.startStubX>e.endStubX&&e.tx>e.startStubX||e.sx>e.endStubX&&e.tx>e.sx)||-1===e.so[i]&&(e.startStubX<e.endStubX&&e.tx<e.startStubX||e.sx<e.endStubX&&e.tx<e.sx)},y:function(){return 1===e.so[i]&&(e.startStubY>e.endStubY&&e.ty>e.startStubY||e.sy>e.endStubY&&e.ty>e.sy)||-1===e.so[i]&&(e.startStubY<e.endStubY&&e.ty<e.startStubY||e.sy<e.endStubY&&e.ty<e.sy)}};return!a&&r[n]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[n]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}},c=r[t.anchorOrientation](t.sourceAxis),h="x"===t.sourceAxis?0:1,d="x"===t.sourceAxis?1:0,p=c[h],g=c[d],m=c[h+2],b=c[d+2];f(e,c[0],c[1],t);var y=t.startStubX+(t.endStubX-t.startStubX)*s,_=t.startStubY+(t.endStubY-t.startStubY)*s,x={x:[0,1],y:[1,0]},P={perpendicular:function(n){var e=t,i={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},r={x:[[e.startStubX,e.endStubX],null,[e.endStubX,e.startStubX]],y:[[e.startStubY,e.endStubY],null,[e.endStubY,e.startStubY]]},o={x:[[y,e.startStubY],[y,e.endStubY]],y:[[e.startStubX,_],[e.endStubX,_]]},s={x:[[e.endStubX,e.startStubY]],y:[[e.startStubX,e.endStubY]]},a={x:[[e.startStubX,e.endStubY],[e.endStubX,e.endStubY]],y:[[e.endStubX,e.startStubY],[e.endStubX,e.endStubY]]},l={x:[[e.startStubX,_],[e.endStubX,_],[e.endStubX,e.endStubY]],y:[[y,e.startStubY],[y,e.endStubY],[e.endStubX,e.endStubY]]},u={x:[e.startStubY,e.endStubY],y:[e.startStubX,e.endStubX]},c=x[n][0],h=x[n][1],d=e.so[c]+1,f=e.to[h]+1,p=-1===e.to[h]&&u[n][1]<u[n][0]||1===e.to[h]&&u[n][1]>u[n][0],g=r[n][d][0],v=r[n][d][1],m=i[n][d][f];return e.segment===m[3]||e.segment===m[2]&&p?o[n]:e.segment===m[2]&&v<g?s[n]:e.segment===m[2]&&v>=g||e.segment===m[1]&&!p?l[n]:e.segment===m[0]||e.segment===m[1]&&p?a[n]:void 0},orthogonal:function(n,e,i,r,o){var s=t,a={x:-1===s.so[0]?Math.min(e,r):Math.max(e,r),y:-1===s.so[1]?Math.min(e,r):Math.max(e,r)}[n];return{x:[[a,i],[a,o],[r,o]],y:[[i,a],[o,a],[o,r]]}[n]},opposite:function(e,i,r,s){var a=t,l={x:"y",y:"x"}[e],u={x:"height",y:"width"}[e],c=a["is"+e.toUpperCase()+"GreaterThanStubTimes2"];if(n.sourceEndpoint.elementId===n.targetEndpoint.elementId){var d=r+(1-n.sourceEndpoint.anchor[l])*n.sourceInfo[u]+o.maxStub;return{x:[[i,d],[s,d]],y:[[d,i],[d,s]]}[e]}return!c||1===a.so[h]&&i>s||-1===a.so[h]&&i<s?{x:[[i,_],[s,_]],y:[[y,i],[y,s]]}[e]:1===a.so[h]&&i<s||-1===a.so[h]&&i>s?{x:[[y,a.sy],[y,a.ty]],y:[[a.sx,_],[a.tx,_]]}[e]:void 0}},C=P[t.anchorOrientation](t.sourceAxis,p,g,m,b);if(C)for(var w=0;w<C.length;w++)f(e,C[w][0],C[w][1],t);f(e,c[2],c[3],t),f(e,t.tx,t.ty,t),v(this,e,t)}};n.Connectors.Flowchart=o,e.extend(n.Connectors.Flowchart,n.Connectors.AbstractConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil;n.Connectors.AbstractBezierConnector=function(t){t=t||{};var e,i=!1!==t.showLoopback,r=(t.curviness,t.margin||5),o=(t.proximityLimit,t.orientation&&"clockwise"===t.orientation),s=t.loopbackRadius||25;return this._compute=function(t,n){var a=n.sourcePos,l=n.targetPos,u=Math.abs(a[0]-l[0]),c=Math.abs(a[1]-l[1]);if(i&&n.sourceEndpoint.elementId===n.targetEndpoint.elementId){!0;var h=n.sourcePos[0],d=n.sourcePos[1]-r,f=h,p=d-s,g=f-s,v=p-s;u=2*s,c=2*s,t.points[0]=g,t.points[1]=v,t.points[2]=u,t.points[3]=c,e.addSegment(this,"Arc",{loopback:!0,x1:h-g+4,y1:d-v,startAngle:0,endAngle:2*Math.PI,r:s,ac:!o,x2:h-g-4,y2:d-v,cx:f-g,cy:p-v})}else!1,this._computeBezier(t,n,a,l,u,c)},e=n.Connectors.AbstractConnector.apply(this,arguments),e},e.extend(n.Connectors.AbstractBezierConnector,n.Connectors.AbstractConnector);var i=function(t){t=t||{},this.type="Bezier";var e=n.Connectors.AbstractBezierConnector.apply(this,arguments),i=t.curviness||150,r=10;this.getCurviness=function(){return i},this._findControlPoint=function(t,n,e,o,s,a,l){var u=a[0]!==l[0]||a[1]===l[1],c=[];return u?(0===l[0]?c.push(e[0]<n[0]?t[0]+r:t[0]-r):c.push(t[0]+i*l[0]),0===l[1]?c.push(e[1]<n[1]?t[1]+r:t[1]-r):c.push(t[1]+i*a[1])):(0===a[0]?c.push(n[0]<e[0]?t[0]+r:t[0]-r):c.push(t[0]-i*a[0]),0===a[1]?c.push(n[1]<e[1]?t[1]+r:t[1]-r):c.push(t[1]+i*l[1])),c},this._computeBezier=function(t,n,i,r,o,s){var a,l,u=i[0]<r[0]?o:0,c=i[1]<r[1]?s:0,h=i[0]<r[0]?0:o,d=i[1]<r[1]?0:s;a=this._findControlPoint([u,c],i,r,n.sourceEndpoint,n.targetEndpoint,t.so,t.to),l=this._findControlPoint([h,d],r,i,n.targetEndpoint,n.sourceEndpoint,t.to,t.so),e.addSegment(this,"Bezier",{x1:u,y1:c,x2:h,y2:d,cp1x:a[0],cp1y:a[1],cp2x:l[0],cp2y:l[1]})}};n.Connectors.Bezier=i,e.extend(i,n.Connectors.AbstractBezierConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=function(t,n,e,i){return t<=e&&i<=n?1:t<=e&&n<=i?2:e<=t&&i>=n?3:4},r=function(t,n,e,i,r,o,s,a,l){return a<=l?[t,n]:1===e?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),n]:i[2]>=1&&r[2]<=0?[t,n+(i[3]<.5?-1*s:s)]:[t+-1*o,n+-1*s]:2===e?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),n]:i[2]>=1&&r[2]<=0?[t,n+(i[3]<.5?-1*s:s)]:[t+o,n+-1*s]:3===e?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),n]:i[2]<=0&&r[2]>=1?[t,n+(i[3]<.5?-1*s:s)]:[t+-1*o,n+-1*s]:4===e?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),n]:i[2]<=0&&r[2]>=1?[t,n+(i[3]<.5?-1*s:s)]:[t+o,n+-1*s]:void 0},o=function(t){t=t||{},this.type="StateMachine";var e,o=n.Connectors.AbstractBezierConnector.apply(this,arguments),s=t.curviness||10,a=t.margin||5,l=t.proximityLimit||80;t.orientation&&t.orientation;this._computeBezier=function(t,n,u,c,h,d){var f=n.sourcePos[0]<n.targetPos[0]?0:h,p=n.sourcePos[1]<n.targetPos[1]?0:d,g=n.sourcePos[0]<n.targetPos[0]?h:0,v=n.sourcePos[1]<n.targetPos[1]?d:0;0===n.sourcePos[2]&&(f-=a),1===n.sourcePos[2]&&(f+=a),0===n.sourcePos[3]&&(p-=a),1===n.sourcePos[3]&&(p+=a),0===n.targetPos[2]&&(g-=a),1===n.targetPos[2]&&(g+=a),0===n.targetPos[3]&&(v-=a),1===n.targetPos[3]&&(v+=a);var m,b,y,_,x=(f+g)/2,P=(p+v)/2,C=i(f,p,g,v),w=Math.sqrt(Math.pow(g-f,2)+Math.pow(v-p,2));e=r(x,P,C,n.sourcePos,n.targetPos,s,s,w,l),m=e[0],b=e[0],y=e[1],_=e[1],o.addSegment(this,"Bezier",{x1:g,y1:v,x2:f,y2:p,cp1x:m,cp1y:y,cp2x:b,cp2y:_})}};n.Connectors.StateMachine=o,e.extend(o,n.Connectors.AbstractBezierConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i="Straight",r=function(t){this.type=i;var e=n.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t,n){e.addSegment(this,i,{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY}),e.addSegment(this,i,{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY}),e.addSegment(this,i,{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};n.Connectors.Straight=r,e.extend(r,n.Connectors.AbstractConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r="stroke-dasharray",o="dashstyle",s="linearGradient",a="radialGradient",l="defs",u="fill",c="stop",h="stroke",d="stroke-width",f="style",p="none",g="jsplumb_gradient_",v="strokeWidth",m={svg:"http://www.w3.org/2000/svg"},b=function(t,n){for(var e in n)t.setAttribute(e,""+n[e])},y=function(t,e){return e=e||{},e.version="1.1",e.xmlns=m.svg,n.createElementNS(m.svg,t,null,null,e)},_=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},x=function(t){for(var n=t.querySelectorAll(" defs,linearGradient,radialGradient"),e=0;e<n.length;e++)n[e].parentNode.removeChild(n[e])},P=function(t,n,e,i,r){var o,d=g+r._jsPlumb.instance.idstamp();x(t),o=e.gradient.offset?y(a,{id:d}):y(s,{id:d,gradientUnits:"userSpaceOnUse"});var f=y(l);t.appendChild(f),f.appendChild(o);for(var p=0;p<e.gradient.stops.length;p++){var v=1===r.segment||2===r.segment?p:e.gradient.stops.length-1-p,m=e.gradient.stops[v][1],b=y(c,{offset:Math.floor(100*e.gradient.stops[p][0])+"%","stop-color":m});o.appendChild(b)}var _=e.stroke?h:u;n.setAttribute(_,"url(#"+d+")")},C=function(t,n,e,s,a){if(n.setAttribute(u,e.fill?e.fill:p),n.setAttribute(h,e.stroke?e.stroke:p),e.gradient?P(t,n,e,s,a):(x(t),n.setAttribute(f,"")),e.strokeWidth&&n.setAttribute(d,e.strokeWidth),e[o]&&e[v]&&!e[r]){var l=-1===e[o].indexOf(",")?" ":",",c=e[o].split(l),g="";c.forEach((function(t){g+=Math.floor(t*e.strokeWidth)+l})),n.setAttribute(r,g)}else e[r]&&n.setAttribute(r,e[r]);for(var m in i)e[m]&&n.setAttribute(i[m],e[m])},w=function(t,n,e){t.childNodes.length>e?t.insertBefore(n,t.childNodes[e]):t.appendChild(n)};e.svg={node:y,attr:b,pos:_};var j=function(t){var i=t.pointerEventsSpec||"all",r={};n.jsPlumbUIComponent.apply(this,t.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var o=t.cssClass+" "+(t.originalArgs[0].cssClass||""),s={style:"",width:0,height:0,"pointer-events":i,position:"absolute"};this.svg=y("svg",s),t.useDivWrapper?(this.canvas=n.createElement("div",{position:"absolute"}),e.sizeElement(this.canvas,0,0,1,1),this.canvas.className=o):(b(this.svg,{class:o}),this.canvas=this.svg),t._jsPlumb.appendElement(this.canvas,t.originalArgs[0].parent),t.useDivWrapper&&this.canvas.appendChild(this.svg);var a=[this.canvas];return this.getDisplayElements=function(){return a},this.appendDisplayElement=function(t){a.push(t)},this.paint=function(n,i,o){if(null!=n){var s,a=[this.x,this.y],l=[this.w,this.h];null!=o&&(o.xmin<0&&(a[0]+=o.xmin),o.ymin<0&&(a[1]+=o.ymin),l[0]=o.xmax+(o.xmin<0?-o.xmin:0),l[1]=o.ymax+(o.ymin<0?-o.ymin:0)),t.useDivWrapper?(e.sizeElement(this.canvas,a[0],a[1],l[0],l[1]),a[0]=0,a[1]=0,s=_([0,0])):s=_([a[0],a[1]]),r.paint.apply(this,arguments),b(this.svg,{style:s,width:l[0]||0,height:l[1]||0})}},{renderer:r}};e.extend(j,n.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var n=t.getContainer();this.canvas&&null==this.canvas.parentNode&&n.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&n.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),n.ConnectorRenderers.svg=function(t){var e=this,i=j.apply(this,[{cssClass:t._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]);i.renderer.paint=function(i,r,o){var s=e.getSegments(),a="",l=[0,0];if(o.xmin<0&&(l[0]=-o.xmin),o.ymin<0&&(l[1]=-o.ymin),s.length>0){a=e.getPathData();var u={d:a,transform:"translate("+l[0]+","+l[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},c=null,h=[e.x,e.y,e.w,e.h];if(i.outlineStroke){var d=i.outlineWidth||1,f=i.strokeWidth+2*d;c=n.extend({},i),delete c.gradient,c.stroke=i.outlineStroke,c.strokeWidth=f,null==e.bgPath?(e.bgPath=y("path",u),n.addClass(e.bgPath,n.connectorOutlineClass),w(e.svg,e.bgPath,0)):b(e.bgPath,u),C(e.svg,e.bgPath,c,h,e)}null==e.path?(e.path=y("path",u),w(e.svg,e.path,i.outlineStroke?1:0)):b(e.path,u),C(e.svg,e.path,i,h,e)}}},e.extend(n.ConnectorRenderers.svg,j);var E=n.SvgEndpoint=function(t){var e=j.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]);e.renderer.paint=function(t){var e=n.extend({},t);e.outlineStroke&&(e.stroke=e.outlineStroke),null==this.node?(this.node=this.makeNode(e),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),C(this.svg,this.node,e,[this.x,this.y,this.w,this.h],this),_(this.node,[this.x,this.y])}.bind(this)};e.extend(E,j),n.Endpoints.svg.Dot=function(){n.Endpoints.Dot.apply(this,arguments),E.apply(this,arguments),this.makeNode=function(t){return y("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){b(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},e.extend(n.Endpoints.svg.Dot,[n.Endpoints.Dot,E]),n.Endpoints.svg.Rectangle=function(){n.Endpoints.Rectangle.apply(this,arguments),E.apply(this,arguments),this.makeNode=function(t){return y("rect",{width:this.w,height:this.h})},this.updateNode=function(t){b(t,{width:this.w,height:this.h})}},e.extend(n.Endpoints.svg.Rectangle,[n.Endpoints.Rectangle,E]),n.Endpoints.svg.Image=n.Endpoints.Image,n.Endpoints.svg.Blank=n.Endpoints.Blank,n.Overlays.svg.Label=n.Overlays.Label,n.Overlays.svg.Custom=n.Overlays.Custom;var S=function(t,e){t.apply(this,e),n.jsPlumbUIComponent.apply(this,e),this.isAppendedAtTopLevel=!1;this.path=null,this.paint=function(t,n){if(t.component.svg&&n){null==this.path&&(this.path=y("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var r=e&&1===e.length&&e[0].cssClass||"",o=[0,0];n.xmin<0&&(o[0]=-n.xmin),n.ymin<0&&(o[1]=-n.ymin),b(this.path,{d:i(t.d),class:r,stroke:t.stroke?t.stroke:null,fill:t.fill?t.fill:null,transform:"translate("+o[0]+","+o[1]+")"})}};var i=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};e.extend(S,[n.jsPlumbUIComponent,n.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(t,n){this.path&&n.canvas&&n.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),n.Overlays.svg.Arrow=function(){S.apply(this,[n.Overlays.Arrow,arguments])},e.extend(n.Overlays.svg.Arrow,[n.Overlays.Arrow,S]),n.Overlays.svg.PlainArrow=function(){S.apply(this,[n.Overlays.PlainArrow,arguments])},e.extend(n.Overlays.svg.PlainArrow,[n.Overlays.PlainArrow,S]),n.Overlays.svg.Diamond=function(){S.apply(this,[n.Overlays.Diamond,arguments])},e.extend(n.Overlays.svg.Diamond,[n.Overlays.Diamond,S]),n.Overlays.svg.GuideLines=function(){var t,e,i=null,r=this;n.Overlays.GuideLines.apply(this,arguments),this.paint=function(n,s){null==i&&(i=y("path"),n.connector.svg.appendChild(i),r.attachListeners(i,n.connector),r.attachListeners(i,r),t=y("path"),n.connector.svg.appendChild(t),r.attachListeners(t,n.connector),r.attachListeners(t,r),e=y("path"),n.connector.svg.appendChild(e),r.attachListeners(e,n.connector),r.attachListeners(e,r));var a=[0,0];s.xmin<0&&(a[0]=-s.xmin),s.ymin<0&&(a[1]=-s.ymin),b(i,{d:o(n.head,n.tail),stroke:"red",fill:null,transform:"translate("+a[0]+","+a[1]+")"}),b(t,{d:o(n.tailLine[0],n.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+a[0]+","+a[1]+")"}),b(e,{d:o(n.headLine[0],n.headLine[1]),stroke:"green",fill:null,transform:"translate("+a[0]+","+a[1]+")"})};var o=function(t,n){return"M "+t.x+","+t.y+" L"+n.x+","+n.y}},e.extend(n.Overlays.svg.GuideLines,n.Overlays.GuideLines)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=t.Katavorio,r=t.Biltong,o=function(n){var e=n._mottle;return e||(e=n._mottle=new t.Mottle),e},s=function(t,e){e=e||"main";var o="_katavorio_"+e,s=t[o],a=t.getEventManager();return s||(s=new i({bind:a.on,unbind:a.off,getSize:n.getSize,getConstrainingRectangle:function(t){return[t.parentNode.scrollWidth,t.parentNode.scrollHeight]},getPosition:function(n,e){var i=t.getOffset(n,e,n._katavorioDrag?n.offsetParent:null);return[i.left,i.top]},setPosition:function(t,n){t.style.left=n[0]+"px",t.style.top=n[1]+"px"},addClass:n.addClass,removeClass:n.removeClass,intersects:r.intersects,indexOf:function(t,n){return t.indexOf(n)},scope:t.getDefaultScope(),css:{noSelect:t.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}}),s.setZoom(t.getZoom()),t[o]=s,t.bind("zoom",s.setZoom)),s},a=function(t){var n=t.el._jsPlumbDragOptions,e=!0;return n.canDrag&&(e=n.canDrag()),e&&(this.setHoverSuspended(!0),this.select({source:t.el}).addClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:t.el}).addClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.setConnectionBeingDragged(!0)),e},l=function(t){var n=this.getUIPosition(arguments,this.getZoom());if(null!=n){var e=t.el._jsPlumbDragOptions;this.draw(t.el,n,null,!0),e._dragging&&this.addClass(t.el,"jtk-dragged"),e._dragging=!0}},u=function(t){for(var n,e=t.selection,i=function(t){null!=t[1]&&(n=this.getUIPosition([{el:t[2].el,pos:[t[1].left,t[1].top]}]),this.draw(t[2].el,n)),delete t[0]._jsPlumbDragOptions._dragging,this.removeClass(t[0],"jtk-dragged"),this.select({source:t[2].el}).removeClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:t[2].el}).removeClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.getDragManager().dragEnded(t[2].el)}.bind(this),r=0;r<e.length;r++)i(e[r]);this.setHoverSuspended(!1),this.setConnectionBeingDragged(!1)},c=function(t,n){var i=function(i){if(null!=n[i]){if(e.isString(n[i])){var r=n[i].match(/-=/)?-1:1,o=n[i].substring(2);return t[i]+r*o}return n[i]}return t[i]};return[i("left"),i("top")]},h=function(t,n){if(null==n)return[0,0];var e=v(n),i=g(e,0);return[i[t+"X"],i[t+"Y"]]},d=h.bind(this,"page"),f=h.bind(this,"screen"),p=h.bind(this,"client"),g=function(t,n){return t.item?t.item(n):t[n]},v=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},m=function(t){var n={},e=[],i={},r={},o={};this.register=function(s){var a,l=t.getId(s);n[l]||(n[l]=s,e.push(s),i[l]={});var u=function(n){if(n)for(var e=0;e<n.childNodes.length;e++)if(3!==n.childNodes[e].nodeType&&8!==n.childNodes[e].nodeType){var c=jsPlumb.getElement(n.childNodes[e]),h=t.getId(n.childNodes[e],null,!0);if(h&&r[h]&&r[h]>0){a||(a=t.getOffset(s));var d=t.getOffset(c);i[l][h]={id:h,offset:{left:d.left-a.left,top:d.top-a.top}},o[h]=l}u(n.childNodes[e])}};u(s)},this.updateOffsets=function(n,e){if(null!=n){e=e||{};var r,s=jsPlumb.getElement(n),a=t.getId(s),l=i[a];if(l)for(var u in l)if(l.hasOwnProperty(u)){var c=jsPlumb.getElement(u),h=e[u]||t.getOffset(c);if(null==c.offsetParent&&null!=i[a][u])continue;r||(r=t.getOffset(s)),i[a][u]={id:u,offset:{left:h.left-r.left,top:h.top-r.top}},o[u]=a}}},this.endpointAdded=function(e,s){s=s||t.getId(e);var a=document.body,l=e.parentNode;r[s]=r[s]?r[s]+1:1;while(null!=l&&l!==a){var u=t.getId(l,null,!0);if(u&&n[u]){var c=t.getOffset(l);if(null==i[u][s]){var h=t.getOffset(e);i[u][s]={id:s,offset:{left:h.left-c.left,top:h.top-c.top}},o[s]=u}break}l=l.parentNode}},this.endpointDeleted=function(t){if(r[t.elementId]&&(r[t.elementId]--,r[t.elementId]<=0))for(var n in i)i.hasOwnProperty(n)&&i[n]&&(delete i[n][t.elementId],delete o[t.elementId])},this.changeId=function(t,n){i[n]=i[t],i[t]={},o[n]=o[t],o[t]=null},this.getElementsForDraggable=function(t){return i[t]},this.elementRemoved=function(t){var n=o[t];n&&(delete i[n][t],delete o[t])},this.reset=function(){n={},e=[],i={},r={}},this.dragEnded=function(n){if(null!=n.offsetParent){var e=t.getId(n),i=o[e];i&&this.updateOffsets(i)}},this.setParent=function(n,e,r,s,a){var l=o[e];i[s]||(i[s]={});var u=t.getOffset(r),c=a||t.getOffset(n);l&&i[l]&&delete i[l][e],i[s][e]={id:e,offset:{left:c.left-u.left,top:c.top-u.top}},o[e]=s},this.clearParent=function(t,n){var e=o[n];e&&(delete i[e][n],delete o[n])},this.revalidateParent=function(n,e,i){var r=o[e];if(r){var s={};s[e]=i,this.updateOffsets(r,s),t.revalidate(r)}},this.getDragAncestor=function(n){var e=jsPlumb.getElement(n),i=t.getId(e),r=o[i];return r?jsPlumb.getElement(r):null}},b=function(t,n,i){n=e.fastTrim(n),"undefined"!==typeof t.className.baseVal?t.className.baseVal=n:t.className=n;try{var r=t.classList;if(null!=r){while(r.length>0)r.remove(r.item(0));for(var o=0;o<i.length;o++)i[o]&&r.add(i[o])}}catch(s){e.log("JSPLUMB: cannot set class list",s)}},y=function(t){return"undefined"===typeof t.className.baseVal?t.className:t.className.baseVal},_=function(t,n,i){n=null==n?[]:e.isArray(n)?n:n.split(/\s+/),i=null==i?[]:e.isArray(i)?i:i.split(/\s+/);var r=y(t),o=r.split(/\s+/),s=function(t,n){for(var e=0;e<n.length;e++)if(t)-1===o.indexOf(n[e])&&o.push(n[e]);else{var i=o.indexOf(n[e]);-1!==i&&o.splice(i,1)}};s(!0,n),s(!1,i),b(t,o.join(" "),o)};t.jsPlumb.extend(t.jsPlumbInstance.prototype,{headless:!1,pageLocation:d,screenLocation:f,clientLocation:p,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new m(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,n,e,i){return this.createElementNS(null,t,n,e,i)},createElementNS:function(t,n,e,i,r){var o,s=null==t?document.createElement(n):document.createElementNS(t,n);for(o in e=e||{},e)s.style[o]=e[o];for(o in i&&(s.className=i),r=r||{},r)s.setAttribute(o,""+r[o]);return s},getAttribute:function(t,n){return null!=t.getAttribute?t.getAttribute(n):null},setAttribute:function(t,n,e){null!=t.setAttribute&&t.setAttribute(n,e)},setAttributes:function(t,n){for(var e in n)n.hasOwnProperty(e)&&t.setAttribute(e,n[e])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:y,addClass:function(t,n){jsPlumb.each(t,(function(t){_(t,n)}))},hasClass:function(t,n){return t=jsPlumb.getElement(t),t.classList?t.classList.contains(n):-1!==y(t).indexOf(n)},removeClass:function(t,n){jsPlumb.each(t,(function(t){_(t,null,n)}))},toggleClass:function(t,n){jsPlumb.hasClass(t,n)?jsPlumb.removeClass(t,n):jsPlumb.addClass(t,n)},updateClasses:function(t,n,e){jsPlumb.each(t,(function(t){_(t,n,e)}))},setClass:function(t,n){null!=n&&jsPlumb.each(t,(function(t){b(t,n,n.split(/\s+/))}))},setPosition:function(t,n){t.style.left=n.left+"px",t.style.top=n.top+"px"},getPosition:function(t){var n=function(n){var e=t.style[n];return e?e.substring(0,e.length-2):0};return{left:n("left"),top:n("top")}},getStyle:function(t,n){return"undefined"!==typeof window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(n):t.currentStyle[n]},getSelector:function(t,n){var e=null;return e=1===arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(n),e},getOffset:function(t,n,e){t=jsPlumb.getElement(t),e=e||this.getContainer();var i={left:t.offsetLeft,top:t.offsetTop},r=n||null!=e&&t!==e&&t.offsetParent!==e?t.offsetParent:null,o=function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(i.left-=t.scrollLeft,i.top-=t.scrollTop)}.bind(this);while(null!=r)i.left+=r.offsetLeft,i.top+=r.offsetTop,o(r),r=n?r.offsetParent:r.offsetParent===e?null:r.offsetParent;if(null!=e&&!n&&(e.scrollTop>0||e.scrollLeft>0)){var s=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!==s&&(i.left-=e.scrollLeft,i.top-=e.scrollTop)}return i},getPositionOnElement:function(t,n,e){var i="undefined"!==typeof n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,o=document.documentElement,s=window.pageYOffset||o.scrollTop||r.scrollTop,a=window.pageXOffset||o.scrollLeft||r.scrollLeft,l=o.clientTop||r.clientTop||0,u=o.clientLeft||r.clientLeft||0,c=0,h=0,d=i.top+s-l+c*e,f=i.left+a-u+h*e,p=jsPlumb.pageLocation(t),g=i.width||n.offsetWidth*e,v=i.height||n.offsetHeight*e,m=(p[0]-f)/g,b=(p[1]-d)/v;return[m,b]},getAbsolutePosition:function(t){var n=function(n){var e=t.style[n];if(e)return parseFloat(e.substring(0,e.length-2))};return[n("left"),n("top")]},setAbsolutePosition:function(t,n,e,i){e?this.animate(t,{left:"+="+(n[0]-e[0]),top:"+="+(n[1]-e[1])},i):(t.style.left=n[0]+"px",t.style.top=n[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight},getRenderMode:function(){return"svg"},draggable:function(t,n){var i;return t=e.isArray(t)||null!=t.length&&!e.isString(t)?t:[t],Array.prototype.slice.call(t).forEach(function(t){i=this.info(t),i.el&&this._initDraggableIfNecessary(i.el,!0,n,i.id,!0)}.bind(this)),this},snapToGrid:function(t,n,e){var i=[],r=function(t){var r=this.info(t);if(null!=r.el&&r.el._katavorioDrag){var o=r.el._katavorioDrag.snap(n,e);this.revalidate(r.el),i.push([r.el,o])}}.bind(this);if(1===arguments.length||3===arguments.length)r(t,n,e);else{var o=this.getManagedElements();for(var s in o)r(s,arguments[0],arguments[1])}return i},initDraggable:function(t,n,e){s(this,e).draggable(t,n),t._jsPlumbDragOptions=n},destroyDraggable:function(t,n){s(this,n).destroyDraggable(t),delete t._jsPlumbDragOptions},unbindDraggable:function(t,n,e,i){s(this,i).destroyDraggable(t,n,e)},setDraggable:function(t,n){return jsPlumb.each(t,function(t){this.isDragSupported(t)&&(this._draggableStates[this.getAttribute(t,"id")]=n,this.setElementDraggable(t,n))}.bind(this))},_draggableStates:{},toggleDraggable:function(t){var n;return jsPlumb.each(t,function(t){var e=this.getAttribute(t,"id");return n=null!=this._draggableStates[e]&&this._draggableStates[e],n=!n,this._draggableStates[e]=n,this.setDraggable(t,n),n}.bind(this)),n},_initDraggableIfNecessary:function(t,n,i,r,o){if(!jsPlumb.headless){var s=null!=n&&n;if(s&&jsPlumb.isDragSupported(t,this)){var c=i||this.Defaults.DragOptions;if(c=jsPlumb.extend({},c),jsPlumb.isAlreadyDraggable(t,this))i.force&&this.initDraggable(t,c);else{var h=jsPlumb.dragEvents.drag,d=jsPlumb.dragEvents.stop,f=jsPlumb.dragEvents.start;this.manage(r,t),c[f]=e.wrap(c[f],a.bind(this)),c[h]=e.wrap(c[h],l.bind(this)),c[d]=e.wrap(c[d],u.bind(this));var p=this.getId(t);this._draggableStates[p]=!0;var g=this._draggableStates[p];c.disabled=null!=g&&!g,this.initDraggable(t,c),this.getDragManager().register(t),o&&this.fire("elementDraggable",{el:t,options:c})}}}},animationSupported:!0,getElement:function(t){return null==t?null:(t="string"===typeof t?t:null!=t.length&&null==t.enctype?t[0]:t,"string"===typeof t?document.getElementById(t):t)},removeElement:function(t){s(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(t,e,i){i=i||{};var r=this.getOffset(t),o=c(r,e),s=o[0]-r.left,a=o[1]-r.top,l=i.duration||250,u=15,h=l/u,d=u/l*s,f=u/l*a,p=0,g=setInterval((function(){n.setPosition(t,{left:r.left+d*(p+1),top:r.top+f*(p+1)}),null!=i.step&&i.step(p,Math.ceil(h)),p++,p>=h&&(window.clearInterval(g),null!=i.complete&&i.complete())}),u)},destroyDroppable:function(t,n){s(this,n).destroyDroppable(t)},unbindDroppable:function(t,n,e,i){s(this,i).destroyDroppable(t,n,e)},droppable:function(t,n){var i;return t=e.isArray(t)||null!=t.length&&!e.isString(t)?t:[t],n=n||{},n.allowLoopback=!1,Array.prototype.slice.call(t).forEach(function(t){i=this.info(t),i.el&&this.initDroppable(i.el,n)}.bind(this)),this},initDroppable:function(t,n,e){s(this,e).droppable(t,n)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(t,n){return!0},isDropSupported:function(t,n){return!0},isElementDraggable:function(t){return t=n.getElement(t),t._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t,n){var e=t[0].el;if(null==e.offsetParent)return null;var i=t[0].finalPos||t[0].pos,r={left:i[0],top:i[1]};if(e._katavorioDrag&&e.offsetParent!==this.getContainer()){var o=this.getOffset(e.offsetParent);r.left+=o.left,r.top+=o.top}return r},setDragFilter:function(t,n,e){t._katavorioDrag&&t._katavorioDrag.setFilter(n,e)},setElementDraggable:function(t,e){t=n.getElement(t),t._katavorioDrag&&t._katavorioDrag.setEnabled(e)},setDragScope:function(t,n){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,n)},setDropScope:function(t,n){t._katavorioDrop&&t._katavorioDrop.length>0&&t._katavorioDrop[0].k.setDropScope(t,n)},addToPosse:function(t,e){var i=Array.prototype.slice.call(arguments,1),r=s(this);n.each(t,(function(t){t=[n.getElement(t)],t.push.apply(t,i),r.addToPosse.apply(r,t)}))},setPosse:function(t,e){var i=Array.prototype.slice.call(arguments,1),r=s(this);n.each(t,(function(t){t=[n.getElement(t)],t.push.apply(t,i),r.setPosse.apply(r,t)}))},removeFromPosse:function(t,e){var i=Array.prototype.slice.call(arguments,1),r=s(this);n.each(t,(function(t){t=[n.getElement(t)],t.push.apply(t,i),r.removeFromPosse.apply(r,t)}))},removeFromAllPosses:function(t){var e=s(this);n.each(t,(function(t){e.removeFromAllPosses(n.getElement(t))}))},setPosseState:function(t,e,i){var r=s(this);n.each(t,(function(t){r.setPosseState(n.getElement(t),e,i)}))},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){s(this).select(t)},removeFromDragSelection:function(t){s(this).deselect(t)},clearDragSelection:function(){s(this).deselectAll()},trigger:function(t,n,e,i){this.getEventManager().trigger(t,n,e,i)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()},getEventManager:function(){return o(this)},on:function(t,n,e){return this.getEventManager().on.apply(this,arguments),this},off:function(t,n,e){return this.getEventManager().off.apply(this,arguments),this}});var x=function(t){var n=function(){/complete|loaded|interactive/.test(document.readyState)&&"undefined"!==typeof document.body&&null!=document.body?t():setTimeout(n,9)};n()};x(n.init)}.call("undefined"!==typeof window?window:this)},c9ea4:function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},cad7:function(t,n,e){"use strict";var i=e("cdfb"),r=e.n(i);r.a},cb30:function(t,n,e){"use strict";var i=e("7549"),r=e.n(i);r.a},cba4:function(t,n,e){},cd32:function(t,n,e){"use strict";var i=e("cba4"),r=e.n(i);r.a},cde0:function(t,n,e){"use strict";var i=e("b2f5"),r=e("2d43")(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e("644a")(o)},cdfb:function(t,n,e){},d072:function(t,n,e){t.exports=e.p+"assets/img/detail3.252b1a01.png"},d485:function(t,n,e){"use strict";var i=e("8998"),r=e.n(i);r.a},d4d5:function(t,n,e){"use strict";var i=e("3754"),r=e("03b3"),o=e("94ac"),s=e("44de"),a=e("5325"),l=e("b6f1"),u=e("a891").f,c=e("acb9").f,h=e("ddf7").f,d=e("539d").trim,f="Number",p=i[f],g=p,v=p.prototype,m=o(e("a7b8")(v))==f,b="trim"in String.prototype,y=function(t){var n=a(t,!1);if("string"==typeof n&&n.length>2){n=b?n.trim():d(n,3);var e,i,r,o=n.charCodeAt(0);if(43===o||45===o){if(e=n.charCodeAt(2),88===e||120===e)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+n}for(var s,l=n.slice(2),u=0,c=l.length;u<c;u++)if(s=l.charCodeAt(u),s<48||s>r)return NaN;return parseInt(l,i)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof p&&(m?l((function(){v.valueOf.call(e)})):o(e)!=f)?s(new g(y(n)),e,p):y(n)};for(var _,x=e("dad2")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;x.length>P;P++)r(g,_=x[P])&&!r(p,_)&&h(p,_,c(g,_));p.prototype=v,v.constructor=p,e("e5ef")(i,f,p)}},dea7:function(t,n,e){"use strict";var i=e("0f84"),r=e.n(i);r.a},dfd9:function(t,n,e){},e81c:function(t,n,e){t.exports=e.p+"assets/img/detail5.0be9943f.png"},ebf1:function(t,n,e){"use strict";var i=e("b943"),r=e.n(i);r.a},f033:function(t,n,e){},f0a5:function(t,n,e){},f38b:function(t,n,e){},f691:function(t,n,e){var i=e("88dd"),r=e("b5b8"),o=e("8b37")("species");t.exports=function(t){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)||(n=void 0),i(n)&&(n=n[o],null===n&&(n=void 0))),void 0===n?Array:n}},f714:function(t,n,e){},f8c9:function(t,n,e){"use strict";var i=e("0b7d"),r=e.n(i);r.a},f936:function(t,n,e){"use strict";var i=e("bf42"),r=e.n(i);r.a}}]);